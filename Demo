--1
create or replace PROCEDURE "PROC_COMPLETE_WORKSTEP" (
siteProjectsId NUMBER,
siteInfoId NUMBER,
workStepName VARCHAR2,
actionPerformed VARCHAR2,
taskStatus VARCHAR2,
lastModifiedBy VARCHAR2,
userReviewStatus VARCHAR2,
v_tableName IN VARCHAR2 DEFAULT NULL,
i_togglable varchar2 default null
) AS
v_rowcount number;
cq_change_control VARCHAR2(32);
TYPE pptStatus IS RECORD (
v_milestone VARCHAR2(128 BYTE),
v_workStepName VARCHAR2(128 BYTE),
v_oldStatus VARCHAR2(16),
v_newStatus VARCHAR2(16)
);
TYPE pptStatusSet IS TABLE OF pptStatus;
pptStatusRows pptStatusSet;
v_mm VARCHAR2(128 BYTE);
v_mmTableNmae VARCHAR2(256 BYTE);
v_query VARCHAR2(1024 BYTE);
v_workstep_group VARCHAR2(8);
BEGIN


    IF(siteProjectsId !=0 AND actionPerformed = 'COMPLETE') THEN
	DBMS_OUTPUT.PUT_LINE('WorkstepName '|| workStepName || ' Status ' || taskStatus);
	-- Do not Activate Re Finalize PSLC_FUNDING
	IF(workStepName = 'PSLC_FUNDING' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PSLC_FUNDING') = 'COMPLETED' ) THEN
	    return;
	END IF;

 	IF(workStepName = 'SUBMIT_RFDS' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') = 'COMPLETED' ) THEN
	    PROC_INSERT_DQI_VALIDATION_QUEUE_WRAPPER(siteProjectsId, 'INITIATIVE_VERIFICATION', 'BULK', lastModifiedBy);
	END IF;

	IF(workStepName in ('RF_COMPLETE','RF_COMPLETE_INSERT','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT') AND FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'SUBMIT_RFDS') IN ('COMPLETED')) THEN
	    BEGIN
		SELECT
		CASE WHEN CQ_CHANGE_CONTROL ='Active' THEN 'true'
		WHEN CQ_CHANGE_CONTROL='Inactive' THEN 'false'
		END AS CQ_CHANGE_CONTROL INTO cq_change_control
		from PROJ_ADDITIONAL_INFO
		WHERE SITE_PROJECTS_ID = siteProjectsId;

		EXCEPTION WHEN NO_DATA_FOUND THEN
		cq_change_control := NULL;
	    END;
	    IF(cq_change_control IS NOT NULL AND cq_change_control IN ('true')) THEN
		PROC_INSERT_API_QUEUE('FUZE_PLANNING','UPDATE_RFDS_CQ_CHANGE_CONTROL',NULL,siteProjectsId,NULL,NULL,NULL,'QUEUED',lastModifiedBy);
	    END IF;
    END IF;

	SELECT * BULK COLLECT INTO pptStatusRows
	FROM (
	    SELECT WS.MILESTONE,WS.WORKSTEP_NAME,
	    CASE WHEN WS.WORKSTEP_GROUP = 'T' AND PTT.TASK_STATUS ='COMPLETED' AND PTT.USER_REVIEW_STATUS ='NA' THEN 'N/A' ELSE PTT.TASK_STATUS END AS OLD_STATUS,
	    CASE WHEN WS.WORKSTEP_GROUP = 'T' AND taskStatus = 'COMPLETED' AND userReviewStatus ='NA' THEN 'N/A' ELSE taskStatus END AS NEW_STATUS
	    FROM PROJ_TRACKER_TASKS PTT
	    INNER JOIN PROJ_TRACKER PT ON PTT.PROJ_TRACKER_ID = PT.PROJ_TRACKER_ID
	    INNER JOIN WORKSTEPS WS ON PTT.WORKSTEP_ID = WS.WORKSTEP_ID
	    INNER JOIN WORKFLOW W ON WS.WF_ID = W.WF_ID AND PT.WF_ID = W.WF_ID
	    INNER JOIN SITE_PROJECTS SP ON SP.SITE_PROJECTS_ID = PT.SITE_PROJECTS_ID
	    WHERE PT.TRACKER_TYPE IN ('NEW_BUILD_PROJECT','MOD_PROJECT')
	    AND SP.SITE_PROJECTS_ID = siteProjectsId
	    AND WS.WORKSTEP_NAME IN (SELECT trim(regexp_substr(workStepName, '[^,]+', 1, LEVEL)) WORKSTEP_NAME
	    FROM DUAL
	    CONNECT BY regexp_substr(workStepName , '[^,]+', 1, LEVEL) IS NOT NULL)
	) WHERE ((OLD_STATUS = 'N/A' AND NEW_STATUS != 'N/A') OR (OLD_STATUS!= 'N/A' AND NEW_STATUS = 'N/A'));

	FOR AX IN( SELECT PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID
		FROM PROJ_TRACKER PT
		INNER JOIN SITE_PROJECTS SP ON SP.SITE_PROJECTS_ID = PT.SITE_PROJECTS_ID
		INNER JOIN WORKFLOW W ON PT.WF_ID = W.WF_ID
		INNER JOIN WORKSTEPS WS ON WS.WF_ID = W.WF_ID
		WHERE PT.TRACKER_TYPE IN ('NEW_BUILD_PROJECT','MOD_PROJECT')
		AND SP.SITE_PROJECTS_ID = siteProjectsId
		AND WS.WORKSTEP_NAME IN (
		    SELECT trim(regexp_substr(workStepName, '[^,]+', 1, LEVEL)) WORKSTEP_NAME
		    FROM DUAL
		    CONNECT BY regexp_substr(workStepName , '[^,]+', 1, LEVEL) IS NOT NULL
		)
	)LOOP
	    UPDATE PROJ_TRACKER_TASKS PTT
	    SET PTT.TASK_STATUS = taskStatus,
	    PTT.LAST_MODIFIED_DATE = SYSDATE,
	    PTT.CREATED_DATE = CASE WHEN PTT.CREATED_DATE IS NULL THEN SYSDATE ELSE PTT.CREATED_DATE END,
	    PTT.COMPLETED_DATE = CASE taskStatus WHEN 'COMPLETED' THEN SYSDATE WHEN 'REJECTED' THEN TO_DATE('09/09/1900','MM/DD/YYYY') ELSE NULL END,
	    PTT.LAST_MODIFIED_BY = lastModifiedBy,
	    PTT.USER_REVIEW_STATUS = userReviewStatus
	    WHERE PTT.PROJ_TRACKER_ID = AX.PROJ_TRACKER_ID AND PTT.WORKSTEP_ID=AX.WORKSTEP_ID;

	    DBMS_OUTPUT.PUT_LINE('sql%rowcount' ||sql%rowcount);

	    IF(sql%rowcount =0)THEN
		INSERT INTO PROJ_TRACKER_TASKS(PROJ_TRACKER_ID,WORKSTEP_ID,TASK_STATUS,LAST_MODIFIED_BY,LAST_MODIFIED_DATE,USER_REVIEW_STATUS,CREATED_DATE)
		VALUES(AX.PROJ_TRACKER_ID,AX.WORKSTEP_ID,taskStatus,lastModifiedBy,SYSDATE,userReviewStatus,SYSDATE);
	    END IF;

	END LOOP;

	v_rowcount := sql%Rowcount;


    INSERT INTO PROJ_COMPLETE_WORKSTEP_LOG(SITE_PROJECTS_ID,SITE_INFO_ID,WORKSTEP_NAME,"COMMENT",LAST_MODIFIED_BY,LAST_MODIFIED_DATE)
    select siteProjectsId, siteInfoId, workStepName,'PROC_COMPLETE_WORKSTEP Updated -' || v_rowcount,lastModifiedBy, SYSDATE FROM DUAL;

    IF (i_togglable IS NULL) THEN
	IF (v_tableName IS NULL) THEN
	    FOR rownumb IN 1..pptStatusRows.COUNT
	    LOOP
		 IF(pptStatusRows(rownumb).v_oldStatus = 'N/A' AND pptStatusRows(rownumb).v_newStatus != 'N/A' AND workStepName NOT IN ('ZONING'))
		    THEN
			DBMS_OUTPUT.PUT_LINE('Calling PROC_NA_MILESTONE_DATE_UPDATE - blank date');
			PROC_NA_MILESTONE_DATE_UPDATE('true', pptStatusRows(rownumb).v_workStepName,'', '', siteProjectsId, lastModifiedBy);
		    ELSE
			DBMS_OUTPUT.PUT_LINE('Calling PROC_NA_MILESTONE_DATE_UPDATE - 1/1/1900');
			PROC_NA_MILESTONE_DATE_UPDATE('true',pptStatusRows(rownumb).v_workStepName,'', '01/01/1900', siteProjectsId, lastModifiedBy);
		    END IF;
	    END LOOP;
	END IF; -- v_tableName IS NULL
    END IF; -- i_togglable IS NULL

	IF(taskStatus = 'REJECTED') THEN

	BEGIN

	    SELECT FIELD_NAME,TABLE_NAME INTO v_mm,v_mmTableNmae FROM FUZE_TRACKER_FIELD_CONFIG WHERE WORKSTEP_NAME = workStepName AND EDIT_RULE = 'CALCULATED_DATE';

	    EXCEPTION WHEN NO_DATA_FOUND THEN
		v_mm:= NULL;
	END;

	v_query := 'UPDATE '||v_mmTableNmae||' SET '|| v_mm|| ' = ''09/09/1900'',LAST_MODIFIED_BY = '''||lastModifiedBy||''', LAST_MODIFIED_DATE = SYSDATE WHERE SITE_PROJECTS_ID = '|| siteProjectsId;
	EXECUTE IMMEDIATE v_query;

	FOR i in(
	    SELECT trim(regexp_substr(workStepName, '[^,]+', 1, LEVEL)) WORKSTEP_NAME
	    FROM DUAL
			CONNECT BY regexp_substr(workStepName , '[^,]+', 1, LEVEL) IS NOT NULL
	)
		LOOP
		SELECT WORKSTEP_GROUP into v_workstep_group FROM WORKSTEPS WHERE WORKSTEP_NAME = i.WORKSTEP_NAME and rownum = 1;
	IF (v_workstep_group <> 'M') THEN
			PROC_INSERT_EMAIL_QUEUE('TEXT',null,siteProjectsId,'PROJECTS',i.WORKSTEP_NAME,0,lastModifiedBy,'REJECTED');
		END IF;
	END LOOP;

	END IF; -- taskStatus = 'REJECTED'

	END IF;
END;


--2
create or replace PROCEDURE        "PROC_INSERT_PROJ_TASKS" (
siteProjectsId NUMBER,
siteInfoId NUMBER,
dsKey NUMBER,
workStepName VARCHAR2,
actionPerformed VARCHAR2,
taskStatus VARCHAR2,
userReviewStatus VARCHAR2,
lastModifiedBy VARCHAR2,
triggerData IN VARCHAR2 DEFAULT NULL,
v_tableName IN VARCHAR2 DEFAULT NULL
) AS
projTrakerTaskId NUMBER DEFAULT NULL;
rfds_change_control VARCHAR2(32);
isDismantlement VARCHAR2(8);

CURSOR ws_trigger_tasks_c IS


    SELECT PTT.proj_tracker_tasks_ID, PT.PROJ_TRACKER_ID,WS.MILESTONE,WS.WORKSTEP_ID,
	WS.WORKSTEP_NAME,
    CASE WHEN WS.WORKSTEP_GROUP = 'T' AND PTT.TASK_STATUS ='COMPLETED' AND PTT.USER_REVIEW_STATUS IN('NA','N/A') THEN 'N/A' ELSE NVL(PTT.TASK_STATUS, 'INACTIVE') END AS OLD_STATUS,
	CASE
    WHEN UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET')) = 'YES' AND taskStatus = 'ACTIVE' THEN 'ACTIVE'
	     WHEN UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET')) = 'NO' THEN 'N/A'
	ELSE taskStatus END as TASK_STATUS,

	CASE WHEN UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET')) = 'YES' AND taskStatus = 'ACTIVE' THEN 'ACTIVE'
	WHEN UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET')) = 'NO' THEN 'N/A'
	WHEN NVL(taskStatus,'INACTIVE')='COMPLETED' AND NVL(userReviewStatus,' ')IN('NA','N/A') THEN 'N/A'
	ELSE taskStatus END AS NEW_TASK_STATUS,

	userReviewStatus AS USER_REVIEW_STATUS,
	1 as IS_ACTIVE,
	CASE WHEN (taskStatus = 'INACTIVE' OR taskStatus = 'IN-ACTIVE') THEN NULL ELSE SYSDATE END as CREATED_DATE,
    CASE WHEN taskStatus = 'COMPLETED' AND NVL(userReviewStatus,' ')!='NA' THEN SYSDATE ELSE null END as COMPLETED_DATE,
    PTT.CREATED_DATE AS TASK_CREATED_DATE,PTT.COMPLETED_DATE AS TASK_COMPLETED_DATE
	FROM WORKSTEPS WS
	INNER JOIN WORKFLOW WF ON WS.WF_ID = WF.WF_ID
	INNER JOIN PROJ_TRACKER PT ON PT.SITE_PROJECTS_ID = siteProjectsId AND PT.WF_ID = WF.WF_ID
	LEFT OUTER JOIN PROJ_TRACKER_TASKS PTT on PT.PROJ_TRACKER_ID= PTT.PROJ_TRACKER_ID and PTT.WORKSTEP_ID = WS.WORKSTEP_ID
	LEFT JOIN PROJECT_TOGGLE_MAPPING PTM ON PTM.SITE_PROJECTS_ID = siteProjectsId AND PTM.MILESTONE = WS.WORKSTEP_NAME
	WHERE 1=1
	--AND UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET'))='NO'
	AND CASE WHEN workStepName IS NULL AND WS.MILESTONE = 'CREATE_PROJECT' THEN 1
	     WHEN workStepName = 'ENABLE_PCC' AND  WS.WORKSTEP_NAME IN ('PHYSICAL_CONSTRUCTION_COMPLETE','CONSTRUCTION_FORM','BUILD_CONSTRUCTION_COMPLETE') THEN 1
			 WHEN workStepName = 'PCC_INSERT' AND  WS.WORKSTEP_NAME IN ('PHYSICAL_CONSTRUCTION_COMPLETE') THEN 1
			 WHEN workStepName = 'CONSTRUCTION_READY_RTC_INSERT' AND WORKSTEP_NAME IN ('CONSTRUCTION_READY_RTC','CONSTRUCTION_READY') THEN 1
			 WHEN workStepName = 'ENABLE_TRANSPORT' AND WS.WORKSTEP_NAME IN ('TRANSPORT','TRANSPORT_CONTRACT','TRANSPORT_DELIVERY','ONE_FIBER','MICROWAVE') THEN 1
			 WHEN workStepName = 'ONE_FIBER_INACTIVE' AND WS.WORKSTEP_NAME = 'ONE_FIBER' THEN 1
			 WHEN workStepName = 'ENABLE_TRANSPORT_NON_ONEF' AND WS.WORKSTEP_NAME IN ('TRANSPORT','TRANSPORT_CONTRACT','TRANSPORT_DELIVERY') THEN 1
			 WHEN workStepName = 'EDGE_PROJECT_INFO_INSERT' AND WS.WORKSTEP_NAME IN ('E   ODE_CREATED') AND WS.WORKSTEP_TRIGGER_NAME LIKE ('%' || workStepName || '%') AND PTT.TASK_STATUS = 'INACTIVE')	THEN 1	-- Released to build should not re-open the Completed or N/A tasks
	     ELSE 0 END = 1;

	TYPE ws_trigger_tasks_t IS TABLE OF ws_trigger_tasks_c%ROWTYPE;
	l_ws_trigger_tasks   ws_trigger_tasks_t;

BEGIN

IF(siteProjectsId !=0) THEN

	 -- Do not Activate CANDIDATE_SUBMIT on resubmission of PSLC_FUNDING
    IF(workStepName = 'PSLC_FUNDING' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PSLC_FUNDING') = 'COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CANDIDATE_SUBMIT') = 'COMPLETED') THEN
    return;
    END IF;

    IF(workStepName = 'ENABLE_TRANSPORT') THEN
	PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'ONE_FIBER',NULL,siteInfoId,'QUEUED',lastModifiedBy);
    END IF;

    IF(workStepName in ( 'NETWORK_ASSURANCE','NETWORK_ASSURANCE_INSERT')) THEN
	PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'NETWORK_ASSURANCE',NULL,siteInfoId,'QUEUED',lastModifiedBy);
    END IF;

    IF(workStepName = 'SUBMIT_RFDS' and FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') = 'COMPLETED') THEN
	 PROC_INSERT_DQI_VALIDATION_QUEUE_WRAPPER(siteProjectsId, 'INITIATIVE_VERIFICATION', 'BULK', lastModifiedBy);
    END IF;

    IF(workStepName in ( 'ACTIVATION','ACTIVATION_INSERT') AND FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'SUBMIT_RFDS') IN ('COMPLETED')) THEN
      BEGIN
	SELECT
	CASE WHEN TYPE='Modification' AND PAI.PROJ_MOD_TYPE IN('DECOM','DISMANTLEMENT') THEN 'true' ELSE 'false' END INTO isDismantlement
	FROM SITE_PROJECTS SP
	INNER JOIN PROJ_ADDITIONAL_INFO PAI ON SP.SITE_PROJECTS_ID = PAI.SITE_PROJECTS_ID
	WHERE SP.SITE_PROJECTS_ID=siteProjectsId;

	EXCEPTION WHEN NO_DATA_FOUND THEN
		isDismantlement :='false';
	END;

      IF(FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'ACTIVATION') NOT IN ('COMPLETED') OR (FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'ACTIVATION') IN ('COMPLETED') AND isDismantlement = 'true')) THEN
	PROC_INSERT_API_QUEUE('FUZE_PLANNING','UPDATE_RFDS_CQ_CHANGE_CONTROL',NULL,siteProjectsId,NULL,NULL,NULL,'QUEUED',lastModifiedBy);
      END IF;
    END IF;

    IF(workStepName in ( 'SUBMIT_RFDS','SUBMIT_RFDS_INSERT','RF_COMPLETE','RF_COMPLETE_INSERT','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT')) THEN
	BEGIN
	    SELECT
	    CASE WHEN RFDS_CHANGE_CONTROL ='Active' THEN 'true'
	    WHEN RFDS_CHANGE_CONTROL='Inactive' THEN 'false'
	    END AS RFDS_CHANGE_CONTROL INTO rfds_change_control
	    from PROJ_ADDITIONAL_INFO
	    WHERE SITE_PROJECTS_ID = siteProjectsId;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    rfds_change_control := NULL;
	END;
	    IF(rfds_change_control IS NOT NULL AND rfds_change_control IN ('true')) THEN
		PROC_INSERT_API_QUEUE('FUZE_PLANNING','UPDATE_RFDS_CQ_CHANGE_CONTROL',NULL,siteProjectsId,NULL,NULL,NULL,'QUEUED',lastModifiedBy);
	    END IF;
    END IF;

	open ws_trigger_tasks_c;
	fetch ws_trigger_tasks_c BULK COLLECT INTO l_ws_trigger_tasks;

	FOR idx IN 1..l_ws_trigger_tasks.COUNT
	LOOP
			if(l_ws_trigger_tasks(idx).proj_tracker_tasks_id IS not NULL)
			THEN
				update proj_tracker_tasks
				set
				TASK_STATUS = l_ws_trigger_tasks(idx).TASK_STATUS,
				USER_REVIEW_STATUS = l_ws_trigger_tasks(idx).USER_REVIEW_STATUS,
				CREATED_DATE = l_ws_trigger_tasks(idx).CREATED_DATE,
				COMPLETED_DATE = l_ws_trigger_tasks(idx).COMPLETED_DATE,
				IS_ACTIVE = l_ws_trigger_tasks(idx).IS_ACTIVE,
				LAST_MODIFIED_BY = lastModifiedBy,
				LAST_MODIFIED_DATE = SYSDATE
				where PROJ_TRACKER_ID = l_ws_trigger_tasks(idx).PROJ_TRACKER_ID
			      AND WORKSTEP_ID = l_ws_trigger_tasks(idx).WORKSTEP_ID;

			else
		INSERT INTO PROJ_TRACKER_TASKS
		(PROJ_TRACKER_ID,WORKSTEP_ID,TASK_STATUS,USER_REVIEW_STATUS,IS_ACTIVE,CREATED_DATE,COMPLETED_DATE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
		VALUES
		(l_ws_trigger_tasks(idx).PROJ_TRACKER_ID, l_ws_trigger_tasks(idx).WORKSTEP_ID, l_ws_trigger_tasks(idx).TASK_STATUS,
		userReviewStatus,1, l_ws_trigger_tasks(idx).CREATED_DATE,l_ws_trigger_tasks(idx).COMPLETED_DATE,SYSDATE,lastModifiedBy);

	    END IF;


		IF(l_ws_trigger_tasks(idx).OLD_STATUS = 'N/A' and l_ws_trigger_tasks(idx).NEW_TASK_STATUS NOT IN ( 'N/A' ))
	    THEN
		--can I call PROC_COMPLETE_WORKSTEP here?I think no
		DBMS_OUTPUT.PUT_LINE('Calling PROC_NA_MILESTONE_DATE_UPDATE - blank date');
		PROC_NA_MILESTONE_DATE_UPDATE('true', l_ws_trigger_tasks(idx).WORKSTEP_NAME, '', '', siteProjectsId, lastModifiedBy,triggerData,v_tableName);
	ELSIF(l_ws_trigger_tasks(idx).NEW_TASK_STATUS = 'N/A' AND l_ws_trigger_tasks(idx).OLD_STATUS NOT IN('N/A')) THEN
		DBMS_OUTPUT.PUT_LINE('Calling PROC_NA_MILESTONE_DATE_UPDATE - 1/1/1900');
		PROC_NA_MILESTONE_DATE_UPDATE('true', l_ws_trigger_tasks(idx).WORKSTEP_NAME, '', '01/01/1900', siteProjectsId, lastModifiedBy,triggerData,v_tableName);
	END IF;


		--PROC_UPDATE_MAJOR_MILESTONE_DATES(siteProjectsId,l_ws_trigger_tasks(idx).WORKSTEP_NAME,lastModifiedBy,triggerData,v_tableName);

	END LOOP;
	close ws_trigger_tasks_c;

  -- PROC_UPDATE_MAJOR_MILESTONE_DATES(siteProjectsId,REPLACE(workStepName,'_INSERT',''),lastModifiedBy,triggerData,v_tableName);

END IF;
END;

--3
create or replace PROCEDURE              "PROC_SYNC_PROJECT_TRACKER_WORKSTEP_STATUS" (siteProjectsId NUMBER,v_lastModifiedBy VARCHAR2 DEFAULT 'tracker-sync') AS
v_decomCount NUMBER (2) DEFAULT 0;
v_updatecount number default 0;
BEGIN

    BEGIN
	SELECT COUNT(*) INTO v_decomCount FROM PROJ_ADDITIONAL_INFO WHERE SITE_PROJECTS_ID = siteProjectsId AND PROJ_MOD_TYPE IN ('DISMANTLEMENT','DECOM');

	EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_decomCount := 0;
    END;

for ax in(
	SELECT SITE_PROJECTS_ID,
    NVL(ACTIVATION_STATUS,'INACTIVE') AS ACTIVATION_STATUS, ACTIVATION_COMPLETED_DATE, ACTIVATION_FORECAST_DATE,
    NVL(ACTIVATION_NON_RF_STATUS,'INACTIVE') AS ACTIVATION_NON_RF_STATUS, ACTIVATION_NON_RF_COMPLETED_DATE, ACTIVATION_NON_RF_FORECAST_DATE,
    NVL(AE_STATUS,'INACTIVE') AS AE_STATUS, AE_COMPLETED_DATE, AE_FORECAST_DATE,
    NVL(AM_FURTHER_STUDY_STATUS,'INACTIVE') AS AM_FURTHER_STUDY_STATUS, AM_FURTHER_STUDY_COMPLETED_DATE, AM_FURTHER_STUDY_FORECAST_DATE,
    NVL(ASR_FORM_STATUS,'INACTIVE') AS ASR_FORM_STATUS, ASR_FORM_COMPLETED_DATE, ASR_FORM_FORECAST_DATE,
    NVL(BOM_COMPLETE_STATUS,'INACTIVE') AS BOM_COMPLETE_STATUS, BOM_COMPLETE_COMPLETED_DATE, BOM_COMPLETE_FORECAST_DATE,
    NVL(BUILD_CONSTRUCTION_COMPLETE_STATUS,'INACTIVE') AS BUILD_CONSTRUCTION_COMPLETE_STATUS, BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE, BUILD_CONSTRUCTION_COMPLETE_FORECAST_DATE,
    NVL(CANDIDATE_ACCEPT_STATUS,'INACTIVE') AS CANDIDATE_ACCEPT_STATUS, CANDIDATE_ACCEPT_COMPLETED_DATE, CANDIDATE_ACCEPT_FORECAST_DATE,
    NVL(CANDIDATE_SELECTION_STATUS,'INACTIVE') AS CANDIDATE_SELECTION_STATUS, CANDIDATE_SELECTION_COMPLETED_DATE, CANDIDATE_SELECTION_FORECAST_DATE,
    NVL(CANDIDATE_SUBMIT_STATUS,'INACTIVE') AS CANDIDATE_SUBMIT_STATUS, CANDIDATE_SUBMIT_COMPLETED_DATE, CANDIDATE_SUBMIT_FORECAST_DATE,
    NVL(CARRIER_AGREEMENTS_STATUS,'INACTIVE') AS CARRIER_AGREEMENTS_STATUS, CARRIER_AGREEMENTS_COMPLETED_DATE, CARRIER_AGREEMENTS_FORECAST_DATE,
    NVL(CLOSEOUT_DOCUMENTS_STATUS,'INACTIVE') AS CLOSEOUT_DOCUMENTS_STATUS, CLOSEOUT_DOCUMENTS_COMPLETED_DATE, CLOSEOUT_DOCUMENTS_FORECAST_DATE,
    NVL(CLOSEOUT_DOCUMENTS_UPLOAD_STATUS,'INACTIVE') AS CLOSEOUT_DOCUMENTS_UPLOAD_STATUS, CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE, CLOSEOUT_DOCUMENTS_UPLOAD_FORECAST_DATE,
    NVL(CONFIRM_E911_ADDRESS_STATUS,'INACTIVE') AS CONFIRM_E911_ADDRESS_STATUS, CONFIRM_E911_ADDRESS_COMPLETED_DATE, CONFIRM_E911_ADDRESS_FORECAST_DATE,
    NVL(CONFIRM_E911_REQUIRED_STATUS,'INACTIVE') AS CONFIRM_E911_REQUIRED_STATUS, CONFIRM_E911_REQUIRED_COMPLETED_DATE, CONFIRM_E911_REQUIRED_FORECAST_DATE,
    NVL(CONFIRM_E911_SUBMITTED_STATUS,'INACTIVE') AS CONFIRM_E911_SUBMITTED_STATUS, CONFIRM_E911_SUBMITTED_COMPLETED_DATE, CONFIRM_E911_SUBMITTED_FORECAST_DATE,
    NVL(CONFIRM_TVW_RECEIVED_STATUS,'INACTIVE') AS CONFIRM_TVW_RECEIVED_STATUS, CONFIRM_TVW_RECEIVED_COMPLETED_DATE, CONFIRM_TVW_RECEIVED_FORECAST_DATE,
    NVL(E911_READINESS_STATUS,'INACTIVE') AS E911_READINESS_STATUS, E911_READINESS_COMPLETED_DATE, E911_READINESS_FORECAST_DATE,
    NVL(CONQUEST_STATUS,'INACTIVE') AS CONQUEST_STATUS, CONQUEST_COMPLETED_DATE, CONQUEST_FORECAST_DATE,
    NVL(CONSTRUCTION_48HR_REVIEW_STATUS,'INACTIVE') AS CONSTRUCTION_48HR_REVIEW_STATUS, CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE, CONSTRUCTION_48HR_REVIEW_FORECAST_DATE,
    NVL(CONSTRUCTION_FORM_STATUS,'INACTIVE') AS CONSTRUCTION_FORM_STATUS, CONSTRUCTION_FORM_COMPLETED_DATE, CONSTRUCTION_FORM_FORECAST_DATE,
    NVL(CONSTRUCTION_READY_STATUS,'INACTIVE') AS CONSTRUCTION_READY_STATUS, CONSTRUCTION_READY_COMPLETED_DATE, CONSTRUCTION_READY_FORECAST_DATE,
    NVL(CONSTRUCTION_READY_RTC_STATUS,'INACTIVE') AS CONSTRUCTION_READY_RTC_STATUS, CONSTRUCTION_READY_RTC_COMPLETED_DATE, CONSTRUCTION_READY_RTC_FORECAST_DATE,
    NVL(CONSTRUCTION_REVIEW_STATUS,'INACTIVE') AS CONSTRUCTION_REVIEW_STATUS, CONSTRUCTION_REVIEW_COMPLETED_DATE, CONSTRUCTION_REVIEW_FORECAST_DATE,
    NVL(CQ_DAY_0_VALIDATION_COMPLETE_STATUS,'INACTIVE') AS CQ_DAY_0_VALIDATION_COMPLETE_STATUS, CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE, CQ_DAY_0_VALIDATION_COMPLETE_FORECAST_DATE,
    NVL(CQ_DAY_1_VALIDATION_COMPLETE_STATUS,'INACTIVE') AS CQ_DAY_1_VALIDATION_COMPLETE_STATUS, CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE, CQ_DAY_1_VALIDATION_COMPLETE_FORECAST_DATE,
    NVL(CQ_DAY_2_VALIDATION_COMPLETE_STATUS,'INACTIVE') AS CQ_DAY_2_VALIDATION_COMPLETE_STATUS, CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE, CQ_DAY_2_VALIDATION_COMPLETE_FORECAST_DATE,
    NVL(CQ_VCP_FAR_EDGE_CIQ_COMPLETE_STATUS,'INACTIVE') AS CQ_VCP_FAR_EDGE_CIQ_COMPLETE_STATUS, CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE, CQ_VCP_FAR_EDGE_CIQ_COMPLETE_FORECAST_DATE,
    NVL(CREATE_CQ_STATUS,'INACTIVE') AS CREATE_CQ_STATUS, CREATE_CQ_COMPLETED_DATE, CREATE_CQ_FORECAST_DATE,
    NVL(CREATE_PROJECT_STATUS,'INACTIVE') AS CREATE_PROJECT_STATUS, CREATE_PROJECT_COMPLETED_DATE, CREATE_PROJECT_FORECAST_DATE,
    NVL(CREATE_RFDS_STATUS,'INACTIVE') AS CREATE_RFDS_STATUS, CREATE_RFDS_COMPLETED_DATE, CREATE_RFDS_FORECAST_DATE,
    NVL(DC_DISCOVERY_STATUS,'INACTIVE') AS DC_DISCOVERY_STATUS, DC_DISCOVERY_COMPLETED_DATE, DC_DISCOVERY_FORECAST_DATE,
    NVL(E911_STATUS,'INACTIVE') AS E911_STATUS, E911_COMPLETED_DATE, E911_FORECAST_DATE,
    NVL(EDGE_EQUIPMENT_CLOSEOUT_STATUS,'INACTIVE') AS EDGE_EQUIPMENT_CLOSEOUT_STATUS, EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE, EDGE_EQUIPMENT_CLOSEOUT_FORECAST_DATE,
    NVL(EDGE_EQUIPMENT_INFORMATION_STATUS,'INACTIVE') AS EDGE_EQUIPMENT_INFORMATION_STATUS, EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE, EDGE_EQUIPMENT_INFORMATION_FORECAST_DATE,
    NVL(EDGE_EQUIPMENT_INSTALL_STATUS,'INACTIVE') AS EDGE_EQUIPMENT_INSTALL_STATUS, EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE, EDGE_EQUIPMENT_INSTALL_FORECAST_DATE,
    NVL(EDGE_IMPLEMENTATION_STATUS,'INACTIVE') AS EDGE_IMPLEMENTATION_STATUS, EDGE_IMPLEMENTATION_COMPLETED_DATE, EDGE_IMPLEMENTATION_FORECAST_DATE,
    NVL(EDGE_MEC_STATUS,'INACTIVE') AS EDGE_MEC_STATUS, EDGE_MEC_COMPLETED_DATE, EDGE_MEC_FORECAST_DATE,
    NVL(EDGE_PROJECT_INFO_STATUS,'INACTIVE') AS EDGE_PROJECT_INFO_STATUS, EDGE_PROJECT_INFO_COMPLETED_DATE, EDGE_PROJECT_INFO_FORECAST_DATE,
    NVL(EDGE_PROJECT_PEC_STATUS,'INACTIVE') AS EDGE_PROJECT_PEC_STATUS, EDGE_PROJECT_PEC_COMPLETED_DATE, EDGE_PROJECT_PEC_FORECAST_DATE,
    NVL(EDGE_PROJECT_PSR_STATUS,'INACTIVE') AS EDGE_PROJECT_PSR_STATUS, EDGE_PROJECT_PSR_COMPLETED_DATE, EDGE_PROJECT_PSR_FORECAST_DATE,
    NVL(EDGE_PSC_VETTING_STATUS,'INACTIVE') AS EDGE_PSC_VETTING_STATUS, EDGE_PSC_VETTING_COMPLETED_DATE, EDGE_PSC_VETTING_FORECAST_DATE,
    NVL(EDGE_VENDOR_RATING_STATUS,'INACTIVE') AS EDGE_VENDOR_RATING_STATUS, EDGE_VENDOR_RATING_COMPLETED_DATE, EDGE_VENDOR_RATING_FORECAST_DATE,
	NVL(EDGE_MANAGERS_CUSTOM_REPORTS_STATUS,'INACTIVE') AS EDGE_MANAGERS_CUSTOM_REPORTS_STATUS, EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE, EDGE_MANAGERS_CUSTOM_REPORTS_FORECAST_DATE,
	NVL(EDGE_PROJECT_SLA_STATUS,'INACTIVE') AS EDGE_PROJECT_SLA_STATUS, EDGE_PROJECT_SLA_COMPLETED_DATE, EDGE_PROJECT_SLA_FORECAST_DATE,
    NVL(EDGE_VENDOR_SERVICE_INSTALL_STATUS,'INACTIVE') AS EDGE_VENDOR_SERVICE_INSTALL_STATUS, EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE, EDGE_VENDOR_SERVICE_INSTALL_FORECAST_DATE,
	NVL(EDGE_PARTNER_PROJECT_REQUEST_STATUS,'INACTIVE') AS EDGE_PARTNER_PROJECT_REQUEST_STATUS, EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE, EDGE_PARTNER_PROJECT_REQUEST_FORECAST_DATE,
	NVL(EDGE_DESIGN_REVIEW_STATUS,'INACTIVE') AS EDGE_DESIGN_REVIEW_STATUS, EDGE_DESIGN_REVIEW_COMPLETED_DATE, EDGE_DESIGN_REVIEW_FORECAST_DATE,
	NVL(EDGE_PLANNING_REVIEW_STATUS,'INACTIVE') AS EDGE_PLANNING_REVIEW_STATUS, EDGE_PLANNING_REVIEW_COMPLETED_DATE, EDGE_PLANNING_REVIEW_FORECAST_DATE,
    NVL(ENVIRONMENTAL_DUE_DILIGENCE_STATUS,'INACTIVE') AS ENVIRONMENTAL_DUE_DILIGENCE_STATUS, ENVIRONMENTAL_DUE_DILIGENCE_COMPLETED_DATE, ENVIRONMENTAL_DUE_DILIGENCE_FORECAST_DATE,
    NVL(ENVIRONMENTAL_REVIEW_STATUS,'INACTIVE') AS ENVIRONMENTAL_REVIEW_STATUS, ENVIRONMENTAL_REVIEW_COMPLETED_DATE, ENVIRONMENTAL_REVIEW_FORECAST_DATE,
    NVL(ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_STATUS,'INACTIVE') AS ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_STATUS, ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE, ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_FORECAST_DATE,
    NVL(ENV_CONST_CLOSEOUT_INFO_STATUS,'INACTIVE') AS ENV_CONST_CLOSEOUT_INFO_STATUS, ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE, ENV_CONST_CLOSEOUT_INFO_FORECAST_DATE,
    NVL(EQUIPMENT_STATUS,'INACTIVE') AS EQUIPMENT_STATUS, EQUIPMENT_COMPLETED_DATE, EQUIPMENT_FORECAST_DATE,
    NVL(EQUIPMENT_COMPLETE_STATUS,'INACTIVE') AS EQUIPMENT_COMPLETE_STATUS, EQUIPMENT_COMPLETE_COMPLETED_DATE, EQUIPMENT_COMPLETE_FORECAST_DATE,
    NVL(EQUIPMENT_PROCUREMENT_COMPLETE_STATUS,'INACTIVE') AS EQUIPMENT_PROCUREMENT_COMPLETE_STATUS, EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE, EQUIPMENT_PROCUREMENT_COMPLETE_FORECAST_DATE,
    NVL(FAA_FORM_STATUS,'INACTIVE') AS FAA_FORM_STATUS, FAA_FORM_COMPLETED_DATE, FAA_FORM_FORECAST_DATE,
    NVL(FAR_EDGE_INSTANTIATION_STATUS,'INACTIVE') AS FAR_EDGE_INSTANTIATION_STATUS, FAR_EDGE_INSTANTIATION_COMPLETED_DATE, FAR_EDGE_INSTANTIATION_FORECAST_DATE,
    NVL(FULL_CONSTRUCTION_APPROVAL_STATUS,'INACTIVE') AS FULL_CONSTRUCTION_APPROVAL_STATUS, FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE, FULL_CONSTRUCTION_APPROVAL_FORECAST_DATE,
    NVL(FUNDING_VERIFICATION_STATUS,'INACTIVE') AS FUNDING_VERIFICATION_STATUS, FUNDING_VERIFICATION_COMPLETED_DATE, FUNDING_VERIFICATION_FORECAST_DATE,
	NVL(GLOBAL_EHS_REVIEW_STATUS,'INACTIVE') AS GLOBAL_EHS_REVIEW_STATUS, GLOBAL_EHS_REVIEW_COMPLETED_DATE, GLOBAL_EHS_REVIEW_FORECAST_DATE,
    NVL(GROUND_ONLY_APPROVAL_STATUS,'INACTIVE') AS GROUND_ONLY_APPROVAL_STATUS, GROUND_ONLY_APPROVAL_COMPLETED_DATE, GROUND_ONLY_APPROVAL_FORECAST_DATE,
    NVL(HUB_READY_STATUS,'INACTIVE') AS HUB_READY_STATUS, HUB_READY_COMPLETED_DATE, HUB_READY_FORECAST_DATE,
    NVL(IMPLEMENTATION_ACCEPTED_STATUS,'INACTIVE') AS IMPLEMENTATION_ACCEPTED_STATUS, IMPLEMENTATION_ACCEPTED_COMPLETED_DATE, IMPLEMENTATION_ACCEPTED_FORECAST_DATE,
	NVL(INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_STATUS,'INACTIVE') AS INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_STATUS, INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE, INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_FORECAST_DATE,
    NVL(INITIAL_SAFETY_INFORMATION_COMPLETED_STATUS,'INACTIVE') AS INITIAL_SAFETY_INFORMATION_COMPLETED_STATUS, INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE, INITIAL_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
    NVL(INITIATIVE_VERIFICATION_STATUS,'INACTIVE') AS INITIATIVE_VERIFICATION_STATUS, INITIATIVE_VERIFICATION_COMPLETED_DATE, INITIATIVE_VERIFICATION_FORECAST_DATE,
	NVL(INSERVICE_DOCUMENTS_STATUS,'INACTIVE') AS INSERVICE_DOCUMENTS_STATUS, INSERVICE_DOCUMENTS_COMPLETED_DATE, INSERVICE_DOCUMENTS_FORECAST_DATE,
    NVL(INTEGRATION_STATUS,'INACTIVE') AS INTEGRATION_STATUS, INTEGRATION_COMPLETED_DATE, INTEGRATION_FORECAST_DATE,
    NVL(INTERNATIONAL_BORDER_STATUS,'INACTIVE') AS INTERNATIONAL_BORDER_STATUS, INTERNATIONAL_BORDER_COMPLETED_DATE, INTERNATIONAL_BORDER_FORECAST_DATE,
    NVL(IP_COMPLETE_STATUS,'INACTIVE') AS IP_COMPLETE_STATUS, IP_COMPLETE_COMPLETED_DATE, IP_COMPLETE_FORECAST_DATE,
    NVL(LEASING_STATUS,'INACTIVE') AS LEASING_STATUS, LEASING_COMPLETED_DATE, LEASING_FORECAST_DATE,
    NVL(LOCATION_CODE_CREATED_STATUS,'INACTIVE') AS LOCATION_CODE_CREATED_STATUS, LOCATION_CODE_CREATED_COMPLETED_DATE, LOCATION_CODE_CREATED_FORECAST_DATE,
    NVL(MICROWAVE_STATUS,'INACTIVE') AS MICROWAVE_STATUS, MICROWAVE_COMPLETED_DATE, MICROWAVE_FORECAST_DATE,
    NVL(MID_PROJECT_REVIEW_STATUS,'INACTIVE') AS MID_PROJECT_REVIEW_STATUS, MID_PROJECT_REVIEW_COMPLETED_DATE, MID_PROJECT_REVIEW_FORECAST_DATE,
	NVL(NETWORK_ASSURANCE_STATUS,'INACTIVE') AS NETWORK_ASSURANCE_STATUS, NETWORK_ASSURANCE_COMPLETED_DATE, NETWORK_ASSURANCE_FORECAST_DATE,
    NVL(ONE_FIBER_STATUS,'INACTIVE') AS ONE_FIBER_STATUS, ONE_FIBER_COMPLETED_DATE, ONE_FIBER_FORECAST_DATE,
    NVL(OSHA_ROOFTOP_ASSESSMENT_STATUS,'INACTIVE') AS OSHA_ROOFTOP_ASSESSMENT_STATUS, OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE, OSHA_ROOFTOP_ASSESSMENT_FORECAST_DATE,
    NVL(PERMITTING_STATUS,'INACTIVE') AS PERMITTING_STATUS, PERMITTING_COMPLETED_DATE, PERMITTING_FORECAST_DATE,
    NVL(PHOTO_DOCUMENTS_STATUS,'INACTIVE') AS PHOTO_DOCUMENTS_STATUS, PHOTO_DOCUMENTS_COMPLETED_DATE, PHOTO_DOCUMENTS_FORECAST_DATE,
    NVL(PHYSICAL_CONSTRUCTION_COMPLETE_STATUS,'INACTIVE') AS PHYSICAL_CONSTRUCTION_COMPLETE_STATUS, PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE, PHYSICAL_CONSTRUCTION_COMPLETE_FORECAST_DATE,
    NVL(POST_ROOFTOP_AUDIT_COMPLETED_STATUS,'INACTIVE') AS POST_ROOFTOP_AUDIT_COMPLETED_STATUS, POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE, POST_ROOFTOP_AUDIT_COMPLETED_FORECAST_DATE,
    NVL(POST_SAFETY_INFORMATION_COMPLETED_STATUS,'INACTIVE') AS POST_SAFETY_INFORMATION_COMPLETED_STATUS, POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE, POST_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
    NVL(POST_TCN_STATUS,'INACTIVE') AS POST_TCN_STATUS, POST_TCN_COMPLETED_DATE, POST_TCN_FORECAST_DATE,
    NVL(POWER_STATUS,'INACTIVE') AS POWER_STATUS, POWER_COMPLETED_DATE, POWER_FORECAST_DATE,
    NVL(POWER_VETTING_STATUS,'INACTIVE') AS POWER_VETTING_STATUS, POWER_VETTING_COMPLETED_DATE, POWER_VETTING_FORECAST_DATE,
    NVL(POWER_COMPLETE_STATUS,'INACTIVE') AS POWER_COMPLETE_STATUS, POWER_COMPLETE_COMPLETED_DATE, POWER_COMPLETE_FORECAST_DATE,
    NVL(POWER_UTILITIES_TERMINATION_STATUS,'INACTIVE') AS POWER_UTILITIES_TERMINATION_STATUS, POWER_UTILITIES_TERMINATION_COMPLETED_DATE, POWER_UTILITIES_TERMINATION_FORECAST_DATE,
    NVL(PRE_TCN_STATUS,'INACTIVE') AS PRE_TCN_STATUS, PRE_TCN_COMPLETED_DATE, PRE_TCN_FORECAST_DATE,
	NVL(REAL_ESTATE_CONFIDENCE_SIGN_OFF_STATUS,'INACTIVE') AS REAL_ESTATE_CONFIDENCE_SIGN_OFF_STATUS, REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE, REAL_ESTATE_CONFIDENCE_SIGN_OFF_FORECAST_DATE,
	NVL(REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_STATUS,'INACTIVE') AS REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_STATUS, REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_COMPLETED_DATE, REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_FORECAST_DATE,
    NVL(PROJECT_STARTED_STATUS,'INACTIVE') AS PROJECT_STARTED_STATUS, PROJECT_STARTED_COMPLETED_DATE, PROJECT_STARTED_FORECAST_DATE,
    NVL(PROJECT_STATUS_VERIFICATION_STATUS,'INACTIVE') AS PROJECT_STATUS_VERIFICATION_STATUS, PROJECT_STATUS_VERIFICATION_COMPLETED_DATE, PROJECT_STATUS_VERIFICATION_FORECAST_DATE,
	NVL(PSC_CONSTRUCTION_STATUS,'INACTIVE') AS PSC_CONSTRUCTION_STATUS, PSC_CONSTRUCTION_COMPLETED_DATE, PSC_CONSTRUCTION_FORECAST_DATE,
    NVL(PSC_DESIGN_STATUS,'INACTIVE') AS PSC_DESIGN_STATUS, PSC_DESIGN_COMPLETED_DATE, PSC_DESIGN_FORECAST_DATE,
    NVL(PSC_IMPLEMENTATION_STATUS,'INACTIVE') AS PSC_IMPLEMENTATION_STATUS, PSC_IMPLEMENTATION_COMPLETED_DATE, PSC_IMPLEMENTATION_FORECAST_DATE,
    NVL(PSC_PRE_CONSTRUCTION_STATUS,'INACTIVE') AS PSC_PRE_CONSTRUCTION_STATUS, PSC_PRE_CONSTRUCTION_COMPLETED_DATE, PSC_PRE_CONSTRUCTION_FORECAST_DATE,
    NVL(PSC_PROJ_DETAILS_STATUS,'INACTIVE') AS PSC_PROJ_DETAILS_STATUS, PSC_PROJ_DETAILS_COMPLETED_DATE, PSC_PROJ_DETAILS_FORECAST_DATE,
	NVL(PSC_MAJOR_MATERIAL_STATUS,'INACTIVE') AS PSC_MAJOR_MATERIAL_STATUS, PSC_MAJOR_MATERIAL_COMPLETED_DATE, PSC_MAJOR_MATERIAL_FORECAST_DATE,
	NVL(PSC_MEC_DELIVERABLES_STATUS,'INACTIVE') AS PSC_MEC_DELIVERABLES_STATUS, PSC_MEC_DELIVERABLES_COMPLETED_DATE, PSC_MEC_DELIVERABLES_FORECAST_DATE,
    NVL(PSC_ASSESSMENT_AND_PLANNING_STATUS,'INACTIVE') AS PSC_ASSESSMENT_AND_PLANNING_STATUS, PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE, PSC_ASSESSMENT_AND_PLANNING_FORECAST_DATE,
	NVL(PSLC_FUNDING_STATUS,'INACTIVE') AS PSLC_FUNDING_STATUS, PSLC_FUNDING_COMPLETED_DATE, PSLC_FUNDING_FORECAST_DATE,
    NVL(QUIET_ZONE_STATUS,'INACTIVE') AS QUIET_ZONE_STATUS, QUIET_ZONE_COMPLETED_DATE, QUIET_ZONE_FORECAST_DATE,
    NVL(READY_FOR_ASSURANCE_STATUS,'INACTIVE') AS READY_FOR_ASSURANCE_STATUS, READY_FOR_ASSURANCE_COMPLETED_DATE, READY_FOR_ASSURANCE_FORECAST_DATE,
    NVL(REAL_ESTATE_COMPLETE_STATUS,'INACTIVE') AS REAL_ESTATE_COMPLETE_STATUS, REAL_ESTATE_COMPLETE_COMPLETED_DATE, REAL_ESTATE_COMPLETE_FORECAST_DATE,
    NVL(REGULATORY_STATUS,'INACTIVE') AS REGULATORY_STATUS, REGULATORY_COMPLETED_DATE, REGULATORY_FORECAST_DATE,
    NVL(REGULATORY_DISMANTLEMENT_STATUS,'INACTIVE') AS REGULATORY_DISMANTLEMENT_STATUS, REGULATORY_DISMANTLEMENT_COMPLETED_DATE, REGULATORY_DISMANTLEMENT_FORECAST_DATE,
    NVL(REGULATORY_INSERVICE_STATUS,'INACTIVE') AS REGULATORY_INSERVICE_STATUS, REGULATORY_INSERVICE_COMPLETED_DATE, REGULATORY_INSERVICE_FORECAST_DATE,
    NVL(RELEASED_TO_BUILD_STATUS,'INACTIVE') AS RELEASED_TO_BUILD_STATUS, RELEASED_TO_BUILD_COMPLETED_DATE, RELEASED_TO_BUILD_FORECAST_DATE,
    NVL(RFDS_STATUS,'INACTIVE') AS RFDS_STATUS, RFDS_COMPLETED_DATE, RFDS_FORECAST_DATE,
    NVL(RFE_STATUS,'INACTIVE') AS RFE_STATUS, RFE_COMPLETED_DATE, RFE_FORECAST_DATE,
    --NVL(RFE_MITIGATION_DOCS_STATUS,'INACTIVE') AS RFE_MITIGATION_DOCS_STATUS, RFE_MITIGATION_DOCS_COMPLETED_DATE, RFE_MITIGATION_DOCS_FORECAST_DATE,
    NVL(RF_48HR_REVIEW_STATUS,'INACTIVE') AS RF_48HR_REVIEW_STATUS, RF_48HR_REVIEW_COMPLETED_DATE, RF_48HR_REVIEW_FORECAST_DATE,
    NVL(REGULATORY_48HR_REVIEW_STATUS,'INACTIVE') AS REGULATORY_48HR_REVIEW_STATUS, REGULATORY_48HR_REVIEW_COMPLETED_DATE, REGULATORY_48HR_REVIEW_FORECAST_DATE,
	--FAA/ASR changes
	NVL(FAA_ASR_TRANSFER_STATUS,'INACTIVE') AS FAA_ASR_TRANSFER_STATUS, FAA_ASR_TRANSFER_COMPLETED_DATE, FAA_ASR_TRANSFER_FORECAST_DATE,
	--FAA/ASR changes
    NVL(RF_ACCEPT_RANKING_STATUS,'INACTIVE') AS RF_ACCEPT_RANKING_STATUS, RF_ACCEPT_RANKING_COMPLETED_DATE, RF_ACCEPT_RANKING_FORECAST_DATE,
    NVL(RF_COMPLETE_STATUS,'INACTIVE') AS RF_COMPLETE_STATUS, RF_COMPLETE_COMPLETED_DATE, RF_COMPLETE_FORECAST_DATE,
    NVL(SELECT_VENDOR_STATUS,'INACTIVE') AS SELECT_VENDOR_STATUS, SELECT_VENDOR_COMPLETED_DATE, SELECT_VENDOR_FORECAST_DATE,
    NVL(SP_COMPLETE_STATUS,'INACTIVE') AS SP_COMPLETE_STATUS, SP_COMPLETE_COMPLETED_DATE, SP_COMPLETE_FORECAST_DATE,
    NVL(STRUCTURE_FORM_STATUS,'INACTIVE') AS STRUCTURE_FORM_STATUS, STRUCTURE_FORM_COMPLETED_DATE, STRUCTURE_FORM_FORECAST_DATE,
    NVL(SUBMIT_FOR_NEPA_STATUS,'INACTIVE') AS SUBMIT_FOR_NEPA_STATUS, SUBMIT_FOR_NEPA_COMPLETED_DATE, SUBMIT_FOR_NEPA_FORECAST_DATE,
    NVL(SUBMIT_RFDS_STATUS,'INACTIVE') AS SUBMIT_RFDS_STATUS, SUBMIT_RFDS_COMPLETED_DATE, SUBMIT_RFDS_FORECAST_DATE,
    NVL(RFDS_IBV_STATUS,'INACTIVE') AS RFDS_IBV_STATUS, RFDS_IBV_COMPLETED_DATE, RFDS_IBV_FORECAST_DATE,
    NVL(SURVEY_STATUS,'INACTIVE') AS SURVEY_STATUS, SURVEY_COMPLETED_DATE, SURVEY_FORECAST_DATE,
    NVL(TERRITORY_REVIEW_STATUS,'INACTIVE') AS PROJ_TERRITORY_REVIEW_STATUS, TERRITORY_REVIEW_COMPLETED_DATE, TERRITORY_REVIEW_FORECAST_DATE,
    NVL(TRANSPORT_STATUS,'INACTIVE') AS TRANSPORT_STATUS, TRANSPORT_COMPLETED_DATE, TRANSPORT_FORECAST_DATE,
    NVL(TRANSPORT_COMPLETE_STATUS,'INACTIVE') AS TRANSPORT_COMPLETE_STATUS, TRANSPORT_COMPLETE_COMPLETED_DATE, TRANSPORT_COMPLETE_FORECAST_DATE,
    NVL(TRANSPORT_CONTRACT_STATUS,'INACTIVE') AS TRANSPORT_CONTRACT_STATUS, TRANSPORT_CONTRACT_COMPLETED_DATE, TRANSPORT_CONTRACT_FORECAST_DATE,
    NVL(TRANSPORT_DELIVERY_STATUS,'INACTIVE') AS TRANSPORT_DELIVERY_STATUS, TRANSPORT_DELIVERY_COMPLETED_DATE, TRANSPORT_DELIVERY_FORECAST_DATE,
    NVL(TRANSPORT_REVIEW_STATUS,'INACTIVE') AS TRANSPORT_REVIEW_STATUS, TRANSPORT_REVIEW_COMPLETED_DATE, TRANSPORT_REVIEW_FORECAST_DATE,
    NVL(TSDF_REVIEW_STATUS,'INACTIVE') AS TSDF_REVIEW_STATUS, TSDF_REVIEW_COMPLETED_DATE, TSDF_REVIEW_FORECAST_DATE,
    NVL(UTILITY_INFORMATION_STATUS,'INACTIVE') AS UTILITY_INFORMATION_STATUS, UTILITY_INFORMATION_COMPLETED_DATE, UTILITY_INFORMATION_FORECAST_DATE,
    NVL(VCP_FAR_EDGE_INSTALLATION_STATUS,'INACTIVE') AS VCP_FAR_EDGE_INSTALLATION_STATUS, VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE, VCP_FAR_EDGE_INSTALLATION_FORECAST_DATE,
    NVL(VCP_ORCHESTRATION_STATUS,'INACTIVE') AS VCP_ORCHESTRATION_STATUS, VCP_ORCHESTRATION_COMPLETED_DATE, VCP_ORCHESTRATION_FORECAST_DATE,
    NVL(VCP_SUBCLOUD_DEPLOYMENT_INITIATED_STATUS,'INACTIVE') AS VCP_SUBCLOUD_DEPLOYMENT_INITIATED_STATUS, VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE, VCP_SUBCLOUD_DEPLOYMENT_INITIATED_FORECAST_DATE,
    NVL(VDU_DAY_0_COMPLETE_STATUS,'INACTIVE') AS VDU_DAY_0_COMPLETE_STATUS, VDU_DAY_0_COMPLETE_COMPLETED_DATE, VDU_DAY_0_COMPLETE_FORECAST_DATE,
    NVL(VDU_DAY_1_COMPLETE_STATUS,'INACTIVE') AS VDU_DAY_1_COMPLETE_STATUS, VDU_DAY_1_COMPLETE_COMPLETED_DATE, VDU_DAY_1_COMPLETE_FORECAST_DATE,
    NVL(VDU_DEPLOY_READINESS_STATUS,'INACTIVE') AS VDU_DEPLOY_READINESS_STATUS, VDU_DEPLOY_READINESS_COMPLETED_DATE, VDU_DEPLOY_READINESS_FORECAST_DATE,
    -- NVL(AWAT_MATERIAL_ALLOCATION_STATUS,'INACTIVE') AS AWAT_MATERIAL_ALLOCATION_STATUS, AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE, AWAT_MATERIAL_ALLOCATION_FORECAST_DATE,
    NVL(GENERATE_BOM_STATUS,'INACTIVE') AS GENERATE_BOM_STATUS, GENERATE_BOM_COMPLETED_DATE, GENERATE_BOM_FORECAST_DATE,
	NVL(ZONING_STATUS,'INACTIVE') AS ZONING_STATUS, ZONING_COMPLETED_DATE, ZONING_FORECAST_DATE,
    NVL(EQUIPMENT_CREATION_STATUS,'INACTIVE') AS EQUIPMENT_CREATION_STATUS, EQUIPMENT_CREATION_COMPLETED_DATE, EQUIPMENT_CREATION_FORECAST_DATE,
	NVL(TOWER_BOM_STATUS,'INACTIVE') AS TOWER_BOM_STATUS, TOWER_BOM_COMPLETED_DATE, TOWER_BOM_FORECAST_DATE,
	NVL(SHELTER_BOM_STATUS,'INACTIVE') AS SHELTER_BOM_STATUS, SHELTER_BOM_COMPLETED_DATE, SHELTER_BOM_FORECAST_DATE,
	NVL(OUTDOOR_BOM_STATUS,'INACTIVE') AS OUTDOOR_BOM_STATUS, OUTDOOR_BOM_COMPLETED_DATE, OUTDOOR_BOM_FORECAST_DATE,
	NVL(AC_POWER_BOM_STATUS,'INACTIVE') AS AC_POWER_BOM_STATUS, AC_POWER_BOM_COMPLETED_DATE, AC_POWER_BOM_FORECAST_DATE,
	NVL(DC_POWER_BOM_STATUS,'INACTIVE') AS DC_POWER_BOM_STATUS, DC_POWER_BOM_COMPLETED_DATE, DC_POWER_BOM_FORECAST_DATE,
	NVL(CIVIL_BOM_STATUS,'INACTIVE') AS CIVIL_BOM_STATUS, CIVIL_BOM_COMPLETED_DATE, CIVIL_BOM_FORECAST_DATE,
	NVL(GENERATOR_BOM_STATUS,'INACTIVE') AS GENERATOR_BOM_STATUS, GENERATOR_BOM_COMPLETED_DATE, GENERATOR_BOM_FORECAST_DATE,
	NVL(CABINET_BOM_STATUS,'INACTIVE') AS CABINET_BOM_STATUS, CABINET_BOM_COMPLETED_DATE, CABINET_BOM_FORECAST_DATE,
	NVL(HUB_BOM_STATUS,'INACTIVE') AS HUB_BOM_STATUS, HUB_BOM_COMPLETED_DATE, HUB_BOM_FORECAST_DATE,
	NVL(SPOKE_NODE_BOM_STATUS,'INACTIVE') AS SPOKE_NODE_BOM_STATUS, SPOKE_NODE_BOM_COMPLETED_DATE, SPOKE_NODE_BOM_FORECAST_DATE,
	NVL(REMOTE_BOM_STATUS,'INACTIVE') AS REMOTE_BOM_STATUS, REMOTE_BOM_COMPLETED_DATE, REMOTE_BOM_FORECAST_DATE,
	NVL(BASEBAND_BOM_STATUS,'INACTIVE') AS BASEBAND_BOM_STATUS, BASEBAND_BOM_COMPLETED_DATE, BASEBAND_BOM_FORECAST_DATE,
	NVL(CSR_ENSE_BOM_STATUS,'INACTIVE') AS CSR_ENSE_BOM_STATUS,CSR_ENSE_BOM_COMPLETED_DATE, CSR_ENSE_BOM_FORECAST_DATE, 
	NVL(TRANSPORT_BOM_STATUS,'INACTIVE') AS TRANSPORT_BOM_STATUS, TRANSPORT_BOM_COMPLETED_DATE, TRANSPORT_BOM_FORECAST_DATE,
	NVL(CND_BOM_STATUS,'INACTIVE') AS CND_BOM_STATUS, CND_BOM_COMPLETED_DATE, CND_BOM_FORECAST_DATE
FROM (
	SELECT PT.SITE_PROJECTS_ID,CASE WHEN W.WORKSTEP_GROUP = 'T' AND PTT.TASK_STATUS ='COMPLETED' AND PTT.USER_REVIEW_STATUS ='NA' THEN 'N/A'
			ELSE PTT.TASK_STATUS END AS TASK_STATUS,
		CASE WHEN (PTT.TASK_STATUS ='N/A' OR (PTT.TASK_STATUS = 'COMPLETED' AND PTT.USER_REVIEW_STATUS ='NA' AND W.WORKSTEP_GROUP = 'T')) THEN '01/01/1900'
		     WHEN PTT.TASK_STATUS ='REJECTED' THEN  '09/09/1900'
		     ELSE TO_CHAR(PTT.COMPLETED_DATE,'MM/DD/YYYY') END AS COMPLETED_DATE,TO_CHAR(PTTF.FORECAST_DATE,'MM/DD/YYYY') AS FORECAST_DATE,
			 TO_CHAR(PTT.ACTUAL_DATE,'MM/DD/YYYY') AS ACTUAL_DATE,
		W.WORKSTEP_NAME AS WORKSTEP
	FROM PROJ_TRACKER_TASKS PTT
	INNER JOIN PROJ_TRACKER PT ON PT.PROJ_TRACKER_ID = PTT.PROJ_TRACKER_ID
	INNER JOIN WORKSTEPS W ON W.WORKSTEP_ID = PTT.WORKSTEP_ID
	LEFT OUTER JOIN PROJ_TRACKER_TASKS_FORECAST PTTF ON PTTF.PROJ_TRACKER_ID = PTT.PROJ_TRACKER_ID AND PTT.WORKSTEP_ID = PTTF.WORKSTEP_ID
	WHERE PT.TRACKER_TYPE IN ('MOD_PROJECT','NEW_BUILD_PROJECT')
	AND PT.SITE_PROJECTS_ID = siteProjectsId
	) PIVOT (MAX(TASK_STATUS) AS STATUS,MAX(COMPLETED_DATE) AS COMPLETED_DATE, MAX(FORECAST_DATE) AS FORECAST_DATE, MAX(ACTUAL_DATE) AS ACTUAL_DATE FOR
	(WORKSTEP) IN (
	'ACTIVATION' AS "ACTIVATION",
	'ACTIVATION_NON_RF' AS "ACTIVATION_NON_RF",
	'AE' AS "AE",
	'AM_FURTHER_STUDY' AS "AM_FURTHER_STUDY",
	'ASR_FORM' AS "ASR_FORM",
	'BOM_COMPLETE' AS "BOM_COMPLETE",
	'BUILD_CONSTRUCTION_COMPLETE' AS "BUILD_CONSTRUCTION_COMPLETE",
	'CANDIDATE_ACCEPT' AS "CANDIDATE_ACCEPT",
	'CANDIDATE_SELECTION' AS "CANDIDATE_SELECTION",
	'CANDIDATE_SUBMIT' AS "CANDIDATE_SUBMIT",
	'CARRIER_AGREEMENTS' AS "CARRIER_AGREEMENTS",
	'CLOSEOUT_DOCUMENTS' AS "CLOSEOUT_DOCUMENTS",
	'CLOSEOUT_DOCUMENTS_UPLOAD' AS "CLOSEOUT_DOCUMENTS_UPLOAD",
	'CONFIRM_E911_ADDRESS' AS "CONFIRM_E911_ADDRESS",
    'CONFIRM_E911_REQUIRED' AS "CONFIRM_E911_REQUIRED",
	'CONFIRM_E911_SUBMITTED' AS "CONFIRM_E911_SUBMITTED",
	'CONFIRM_TVW_RECEIVED' AS "CONFIRM_TVW_RECEIVED",
    'E911_READINESS' AS "E911_READINESS",
	'CONQUEST' AS "CONQUEST",
	'CONSTRUCTION_48HR_REVIEW' AS "CONSTRUCTION_48HR_REVIEW",
	'CONSTRUCTION_FORM' AS "CONSTRUCTION_FORM",
	'CONSTRUCTION_READY' AS "CONSTRUCTION_READY",
	'CONSTRUCTION_READY_RTC' AS "CONSTRUCTION_READY_RTC",
	'CONSTRUCTION_REVIEW' AS "CONSTRUCTION_REVIEW",
	'CQ_DAY_0_VALIDATION_COMPLETE' AS "CQ_DAY_0_VALIDATION_COMPLETE",
	'CQ_DAY_1_VALIDATION_COMPLETE' AS "CQ_DAY_1_VALIDATION_COMPLETE",
	'CQ_DAY_2_VALIDATION_COMPLETE' AS "CQ_DAY_2_VALIDATION_COMPLETE",
	'CQ_VCP_FAR_EDGE_CIQ_COMPLETE' AS "CQ_VCP_FAR_EDGE_CIQ_COMPLETE",
	'CREATE_CQ' AS "CREATE_CQ",
	'CREATE_PROJECT' AS "CREATE_PROJECT",
	'CREATE_RFDS' AS "CREATE_RFDS",
	'DC_DISCOVERY' AS "DC_DISCOVERY",
	'E911' AS "E911",
	'EDGE_EQUIPMENT_CLOSEOUT' AS "EDGE_EQUIPMENT_CLOSEOUT",
	'EDGE_EQUIPMENT_INFORMATION' AS "EDGE_EQUIPMENT_INFORMATION",
	'EDGE_EQUIPMENT_INSTALL' AS "EDGE_EQUIPMENT_INSTALL",
	'EDGE_IMPLEMENTATION' AS "EDGE_IMPLEMENTATION",
	'EDGE_MEC' AS "EDGE_MEC",
	'EDGE_PROJECT_INFO' AS "EDGE_PROJECT_INFO",
	'EDGE_PROJECT_PEC' AS "EDGE_PROJECT_PEC",
	'EDGE_PROJECT_PSR' AS "EDGE_PROJECT_PSR",
	'EDGE_PSC_VETTING' AS "EDGE_PSC_VETTING",
	'EDGE_VENDOR_RATING' AS "EDGE_VENDOR_RATING",
	'EDGE_VENDOR_SERVICE_INSTALL' AS "EDGE_VENDOR_SERVICE_INSTALL",
	'EDGE_MANAGERS_CUSTOM_REPORTS' AS "EDGE_MANAGERS_CUSTOM_REPORTS",
	'EDGE_PROJECT_SLA' AS "EDGE_PROJECT_SLA",
	'ENVIRONMENTAL_DUE_DILIGENCE' AS "ENVIRONMENTAL_DUE_DILIGENCE",
	'ENVIRONMENTAL_REVIEW' AS "ENVIRONMENTAL_REVIEW",
    'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR' AS "ENVIRONMENTAL_NOTICE_TO_CONTRACTOR",
	'ENV_CONST_CLOSEOUT_INFO' AS "ENV_CONST_CLOSEOUT_INFO",
	'EQUIPMENT' AS "EQUIPMENT",
	'EQUIPMENT_COMPLETE' AS "EQUIPMENT_COMPLETE",
	'EQUIPMENT_PROCUREMENT_COMPLETE' AS "EQUIPMENT_PROCUREMENT_COMPLETE",
	'FAA_FORM' AS "FAA_FORM",
	'FAR_EDGE_INSTANTIATION' AS "FAR_EDGE_INSTANTIATION",
	'FULL_CONSTRUCTION_APPROVAL' AS "FULL_CONSTRUCTION_APPROVAL",
	'FUNDING_VERIFICATION' AS "FUNDING_VERIFICATION",
	'GLOBAL_EHS_REVIEW' AS "GLOBAL_EHS_REVIEW",
	'GROUND_ONLY_APPROVAL' AS "GROUND_ONLY_APPROVAL",
	'HUB_READY' AS "HUB_READY",
	'IMPLEMENTATION_ACCEPTED' AS "IMPLEMENTATION_ACCEPTED",
	'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED' AS "INITIAL_ROOFTOP_ASSESSMENT_COMPLETED",
	'INITIAL_SAFETY_INFORMATION_COMPLETED' AS "INITIAL_SAFETY_INFORMATION_COMPLETED",
	'INITIATIVE_VERIFICATION' AS "INITIATIVE_VERIFICATION",
	'INSERVICE_DOCUMENTS' AS "INSERVICE_DOCUMENTS",
	'INTEGRATION' AS "INTEGRATION",
	'INTERNATIONAL_BORDER' AS "INTERNATIONAL_BORDER",
	'IP_COMPLETE' AS "IP_COMPLETE",
	'LEASING' AS "LEASING",
	'LOCATION_CODE_CREATED' AS "LOCATION_CODE_CREATED",
	'MICROWAVE' AS "MICROWAVE",
	'MID_PROJECT_REVIEW' AS "MID_PROJECT_REVIEW",
	'NETWORK_ASSURANCE' AS "NETWORK_ASSURANCE",
	'ONE_FIBER' AS "ONE_FIBER",
	'OSHA_ROOFTOP_ASSESSMENT' AS "OSHA_ROOFTOP_ASSESSMENT",
	'PERMITTING' AS "PERMITTING",
	'PHOTO_DOCUMENTS' AS "PHOTO_DOCUMENTS",
	'PHYSICAL_CONSTRUCTION_COMPLETE' AS "PHYSICAL_CONSTRUCTION_COMPLETE",
	'POST_ROOFTOP_AUDIT_COMPLETED' AS "POST_ROOFTOP_AUDIT_COMPLETED",
	'POST_SAFETY_INFORMATION_COMPLETED' AS "POST_SAFETY_INFORMATION_COMPLETED",
	'POST_TCN' AS "POST_TCN",
	'POWER' AS "POWER",
    'POWER_VETTING' AS "POWER_VETTING",
	'POWER_COMPLETE' AS "POWER_COMPLETE",
	'POWER_UTILITIES_TERMINATION' AS "POWER_UTILITIES_TERMINATION",
	'PRE_TCN' AS "PRE_TCN",
	'REAL_ESTATE_CONFIDENCE_SIGN_OFF' AS "REAL_ESTATE_CONFIDENCE_SIGN_OFF",
	'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS' AS "REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS",
	'PROJECT_STARTED' AS "PROJECT_STARTED",
	'PROJECT_STATUS_VERIFICATION' AS "PROJECT_STATUS_VERIFICATION",
	'PSC_CONSTRUCTION' AS "PSC_CONSTRUCTION",
	'PSC_DESIGN' AS "PSC_DESIGN",
	'PSC_IMPLEMENTATION' AS "PSC_IMPLEMENTATION",
	'PSC_PRE_CONSTRUCTION' AS "PSC_PRE_CONSTRUCTION",
	'PSC_PROJ_DETAILS' AS "PSC_PROJ_DETAILS",
	'PSC_MAJOR_MATERIAL' AS "PSC_MAJOR_MATERIAL",
	'PSC_MEC_DELIVERABLES' AS "PSC_MEC_DELIVERABLES",
	'PSC_ASSESSMENT_AND_PLANNING' AS "PSC_ASSESSMENT_AND_PLANNING",
	'PSLC_FUNDING' AS "PSLC_FUNDING",
	'QUIET_ZONE' AS "QUIET_ZONE",
	'READY_FOR_ASSURANCE' AS "READY_FOR_ASSURANCE",
	'REAL_ESTATE_COMPLETE' AS "REAL_ESTATE_COMPLETE",
	'REGULATORY' AS "REGULATORY",
	'REGULATORY_DISMANTLEMENT' AS "REGULATORY_DISMANTLEMENT",
	'REGULATORY_INSERVICE' AS "REGULATORY_INSERVICE",
	'RELEASED_TO_BUILD' AS "RELEASED_TO_BUILD",
	'RFDS' AS "RFDS",
	'RFE' AS "RFE",
	--'RFE_MITIGATION_DOCS' AS "RFE_MITIGATION_DOCS",
	'RF_48HR_REVIEW' AS "RF_48HR_REVIEW",
	--FAA/ASR changes
	'FAA_ASR_TRANSFER' AS "FAA_ASR_TRANSFER",
	--FAA/ASR changes
    'REGULATORY_48HR_REVIEW' AS "REGULATORY_48HR_REVIEW",
	'RF_ACCEPT_RANKING' AS "RF_ACCEPT_RANKING",
	'RF_COMPLETE' AS "RF_COMPLETE",
	'SELECT_VENDOR' AS "SELECT_VENDOR",
	'SP_COMPLETE' AS "SP_COMPLETE",
	'STRUCTURE_FORM' AS "STRUCTURE_FORM",
	'SUBMIT_FOR_NEPA' AS "SUBMIT_FOR_NEPA",
	'SUBMIT_RFDS' AS "SUBMIT_RFDS",
	'IN_BUILDING_AND_VENUE' AS "RFDS_IBV",
	'SURVEY' AS "SURVEY",
	'TERRITORY_REVIEW' AS "TERRITORY_REVIEW",
	'TRANSPORT' AS "TRANSPORT",
	'TRANSPORT_COMPLETE' AS "TRANSPORT_COMPLETE",
	'TRANSPORT_CONTRACT' AS "TRANSPORT_CONTRACT",
	'TRANSPORT_DELIVERY' AS "TRANSPORT_DELIVERY",
	'TRANSPORT_REVIEW' AS "TRANSPORT_REVIEW",
	'TSDF_REVIEW' AS "TSDF_REVIEW",
	'UTILITY_INFORMATION' AS "UTILITY_INFORMATION",
	'EDGE_PARTNER_PROJECT_REQUEST' AS "EDGE_PARTNER_PROJECT_REQUEST",
	'EDGE_DESIGN_REVIEW' AS "EDGE_DESIGN_REVIEW",
	'EDGE_PLANNING_REVIEW' AS "EDGE_PLANNING_REVIEW",
	'VCP_FAR_EDGE_INSTALLATION' AS "VCP_FAR_EDGE_INSTALLATION",
	'VCP_ORCHESTRATION' AS "VCP_ORCHESTRATION",
	'VCP_SUBCLOUD_DEPLOYMENT_INITIATED' AS "VCP_SUBCLOUD_DEPLOYMENT_INITIATED",
	'VDU_DAY_0_COMPLETE' AS "VDU_DAY_0_COMPLETE",
	'VDU_DAY_1_COMPLETE' AS "VDU_DAY_1_COMPLETE",
	'VDU_DEPLOY_READINESS' AS "VDU_DEPLOY_READINESS",
    -- 'AWAT_MATERIAL_ALLOCATION' AS "AWAT_MATERIAL_ALLOCATION",
	'GENERATE_BOM' AS "GENERATE_BOM",
	'ZONING' AS "ZONING",
    'EQUIPMENT_CREATION' AS "EQUIPMENT_CREATION",
	'TOWER_BOM' AS "TOWER_BOM",
	'SHELTER_BOM' AS "SHELTER_BOM",
	'OUTDOOR_BOM' AS "OUTDOOR_BOM",
	'AC_POWER_BOM' AS "AC_POWER_BOM",
	'DC_POWER_BOM' AS "DC_POWER_BOM",
	'CIVIL_BOM' AS "CIVIL_BOM",
	'GENERATOR_BOM' AS "GENERATOR_BOM",
	'CABINET_BOM' AS "CABINET_BOM",
	'HUB_BOM' AS "HUB_BOM",
	'SPOKE_NODE_BOM' AS "SPOKE_NODE_BOM",
	'REMOTE_BOM' AS "REMOTE_BOM",
	'BASEBAND_BOM' AS "BASEBAND_BOM",
	'CSR_ENSE_BOM' AS "CSR_ENSE_BOM",
	'TRANSPORT_BOM' AS "TRANSPORT_BOM",
	'CND_BOM' AS "CND_BOM"))
	)
    loop

	UPDATE
		PROJECT_TRACKER_WORKSTEP_STATUS PTWS
	SET
		PTWS.ACTIVATION_STATUS = AX.ACTIVATION_STATUS,
	PTWS.ACTIVATION_COMPLETED_DATE = AX.ACTIVATION_COMPLETED_DATE,
	PTWS.ACTIVATION_FORECAST_DATE = AX.ACTIVATION_FORECAST_DATE,
		PTWS.ACTIVATION_NON_RF_STATUS = AX.ACTIVATION_NON_RF_STATUS,
	PTWS.ACTIVATION_NON_RF_COMPLETED_DATE = AX.ACTIVATION_NON_RF_COMPLETED_DATE,
	PTWS.ACTIVATION_NON_RF_FORECAST_DATE = AX.ACTIVATION_NON_RF_FORECAST_DATE,
		PTWS.AE_STATUS = AX.AE_STATUS,
	PTWS.AE_COMPLETED_DATE = AX.AE_COMPLETED_DATE,
	PTWS.AE_FORECAST_DATE = AX.AE_FORECAST_DATE,
		PTWS.AM_FURTHER_STUDY_STATUS = AX.AM_FURTHER_STUDY_STATUS,
	PTWS.AM_FURTHER_STUDY_COMPLETED_DATE = AX.AM_FURTHER_STUDY_COMPLETED_DATE,
	PTWS.AM_FURTHER_STUDY_FORECAST_DATE = AX.AM_FURTHER_STUDY_FORECAST_DATE,
		PTWS.ASR_FORM_STATUS = AX.ASR_FORM_STATUS,
	PTWS.ASR_FORM_COMPLETED_DATE = AX.ASR_FORM_COMPLETED_DATE,
	PTWS.ASR_FORM_FORECAST_DATE = AX.ASR_FORM_FORECAST_DATE,
		PTWS.BOM_COMPLETE_STATUS = AX.BOM_COMPLETE_STATUS,
	PTWS.BOM_COMPLETE_COMPLETED_DATE = AX.BOM_COMPLETE_COMPLETED_DATE,
	PTWS.BOM_COMPLETE_FORECAST_DATE = AX.BOM_COMPLETE_FORECAST_DATE,
		PTWS.BUILD_CONSTRUCTION_COMPLETE_STATUS = AX.BUILD_CONSTRUCTION_COMPLETE_STATUS,
	PTWS.BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE = AX.BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE,
	PTWS.BUILD_CONSTRUCTION_COMPLETE_FORECAST_DATE = AX.BUILD_CONSTRUCTION_COMPLETE_FORECAST_DATE,
		PTWS.CANDIDATE_ACCEPT_STATUS = AX.CANDIDATE_ACCEPT_STATUS,
	PTWS.CANDIDATE_ACCEPT_COMPLETED_DATE = AX.CANDIDATE_ACCEPT_COMPLETED_DATE,
	PTWS.CANDIDATE_ACCEPT_FORECAST_DATE = AX.CANDIDATE_ACCEPT_FORECAST_DATE,
		PTWS.CANDIDATE_SELECTION_STATUS = AX.CANDIDATE_SELECTION_STATUS,
	PTWS.CANDIDATE_SELECTION_COMPLETED_DATE = AX.CANDIDATE_SELECTION_COMPLETED_DATE,
	PTWS.CANDIDATE_SELECTION_FORECAST_DATE = AX.CANDIDATE_SELECTION_FORECAST_DATE,
		PTWS.CANDIDATE_SUBMIT_STATUS = AX.CANDIDATE_SUBMIT_STATUS,
	PTWS.CANDIDATE_SUBMIT_COMPLETED_DATE = AX.CANDIDATE_SUBMIT_COMPLETED_DATE,
	PTWS.CANDIDATE_SUBMIT_FORECAST_DATE = AX.CANDIDATE_SUBMIT_FORECAST_DATE,
		PTWS.CARRIER_AGREEMENTS_STATUS = AX.CARRIER_AGREEMENTS_STATUS,
	PTWS.CARRIER_AGREEMENTS_COMPLETED_DATE = AX.CARRIER_AGREEMENTS_COMPLETED_DATE,
	PTWS.CARRIER_AGREEMENTS_FORECAST_DATE = AX.CARRIER_AGREEMENTS_FORECAST_DATE,
		PTWS.CLOSEOUT_DOCUMENTS_STATUS = AX.CLOSEOUT_DOCUMENTS_STATUS,
	PTWS.CLOSEOUT_DOCUMENTS_COMPLETED_DATE = AX.CLOSEOUT_DOCUMENTS_COMPLETED_DATE,
	PTWS.CLOSEOUT_DOCUMENTS_FORECAST_DATE = AX.CLOSEOUT_DOCUMENTS_FORECAST_DATE,
		PTWS.CLOSEOUT_DOCUMENTS_UPLOAD_STATUS = AX.CLOSEOUT_DOCUMENTS_UPLOAD_STATUS,
	PTWS.CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE = AX.CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE,
	PTWS.CLOSEOUT_DOCUMENTS_UPLOAD_FORECAST_DATE = AX.CLOSEOUT_DOCUMENTS_UPLOAD_FORECAST_DATE,
		PTWS.CONFIRM_E911_ADDRESS_STATUS = AX.CONFIRM_E911_ADDRESS_STATUS,
	PTWS.CONFIRM_E911_ADDRESS_COMPLETED_DATE = AX.CONFIRM_E911_ADDRESS_COMPLETED_DATE,
	PTWS.CONFIRM_E911_ADDRESS_FORECAST_DATE = AX.CONFIRM_E911_ADDRESS_FORECAST_DATE,
    PTWS.CONFIRM_E911_REQUIRED_STATUS = AX.CONFIRM_E911_REQUIRED_STATUS,
	PTWS.CONFIRM_E911_REQUIRED_COMPLETED_DATE = AX.CONFIRM_E911_REQUIRED_COMPLETED_DATE,
	PTWS.CONFIRM_E911_REQUIRED_FORECAST_DATE = AX.CONFIRM_E911_REQUIRED_FORECAST_DATE,
		PTWS.CONFIRM_E911_SUBMITTED_STATUS = AX.CONFIRM_E911_SUBMITTED_STATUS,
	PTWS.CONFIRM_E911_SUBMITTED_COMPLETED_DATE = AX.CONFIRM_E911_SUBMITTED_COMPLETED_DATE,
	PTWS.CONFIRM_E911_SUBMITTED_FORECAST_DATE = AX.CONFIRM_E911_SUBMITTED_FORECAST_DATE,
		PTWS.CONFIRM_TVW_RECEIVED_STATUS = AX.CONFIRM_TVW_RECEIVED_STATUS,
	PTWS.CONFIRM_TVW_RECEIVED_COMPLETED_DATE = AX.CONFIRM_TVW_RECEIVED_COMPLETED_DATE,
	PTWS.CONFIRM_TVW_RECEIVED_FORECAST_DATE = AX.CONFIRM_TVW_RECEIVED_FORECAST_DATE,
    PTWS.E911_READINESS_STATUS = AX.E911_READINESS_STATUS,
	PTWS.E911_READINESS_COMPLETED_DATE = AX.E911_READINESS_COMPLETED_DATE,
	PTWS.E911_READINESS_FORECAST_DATE = AX.E911_READINESS_FORECAST_DATE,
		PTWS.CONQUEST_STATUS = AX.CONQUEST_STATUS,
	PTWS.CONQUEST_COMPLETED_DATE = AX.CONQUEST_COMPLETED_DATE,
	PTWS.CONQUEST_FORECAST_DATE = AX.CONQUEST_FORECAST_DATE,
		PTWS.CONSTRUCTION_48HR_REVIEW_STATUS = AX.CONSTRUCTION_48HR_REVIEW_STATUS,
	PTWS.CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE = AX.CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE,
	PTWS.CONSTRUCTION_48HR_REVIEW_FORECAST_DATE = AX.CONSTRUCTION_48HR_REVIEW_FORECAST_DATE,
		PTWS.CONSTRUCTION_FORM_STATUS = AX.CONSTRUCTION_FORM_STATUS,
	PTWS.CONSTRUCTION_FORM_COMPLETED_DATE = AX.CONSTRUCTION_FORM_COMPLETED_DATE,
	PTWS.CONSTRUCTION_FORM_FORECAST_DATE = AX.CONSTRUCTION_FORM_FORECAST_DATE,
		PTWS.CONSTRUCTION_READY_STATUS = AX.CONSTRUCTION_READY_STATUS,
	PTWS.CONSTRUCTION_READY_COMPLETED_DATE = AX.CONSTRUCTION_READY_COMPLETED_DATE,
	PTWS.CONSTRUCTION_READY_FORECAST_DATE = AX.CONSTRUCTION_READY_FORECAST_DATE,
		PTWS.CONSTRUCTION_READY_RTC_STATUS = AX.CONSTRUCTION_READY_RTC_STATUS,
	PTWS.CONSTRUCTION_READY_RTC_COMPLETED_DATE = AX.CONSTRUCTION_READY_RTC_COMPLETED_DATE,
	PTWS.CONSTRUCTION_READY_RTC_FORECAST_DATE = AX.CONSTRUCTION_READY_RTC_FORECAST_DATE,
		PTWS.CONSTRUCTION_REVIEW_STATUS = AX.CONSTRUCTION_REVIEW_STATUS,
	PTWS.CONSTRUCTION_REVIEW_COMPLETED_DATE = AX.CONSTRUCTION_REVIEW_COMPLETED_DATE,
	PTWS.CONSTRUCTION_REVIEW_FORECAST_DATE = AX.CONSTRUCTION_REVIEW_FORECAST_DATE,
		PTWS.CQ_DAY_0_VALIDATION_COMPLETE_STATUS = AX.CQ_DAY_0_VALIDATION_COMPLETE_STATUS,
	PTWS.CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE = AX.CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE,
	PTWS.CQ_DAY_0_VALIDATION_COMPLETE_FORECAST_DATE = AX.CQ_DAY_0_VALIDATION_COMPLETE_FORECAST_DATE,
		PTWS.CQ_DAY_1_VALIDATION_COMPLETE_STATUS = AX.CQ_DAY_1_VALIDATION_COMPLETE_STATUS,
	PTWS.CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE = AX.CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE,
	PTWS.CQ_DAY_1_VALIDATION_COMPLETE_FORECAST_DATE = AX.CQ_DAY_1_VALIDATION_COMPLETE_FORECAST_DATE,
		PTWS.CQ_DAY_2_VALIDATION_COMPLETE_STATUS = AX.CQ_DAY_2_VALIDATION_COMPLETE_STATUS,
	PTWS.CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE = AX.CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE,
	PTWS.CQ_DAY_2_VALIDATION_COMPLETE_FORECAST_DATE = AX.CQ_DAY_2_VALIDATION_COMPLETE_FORECAST_DATE,
		PTWS.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_STATUS = AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_STATUS,
	PTWS.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE = AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE,
	PTWS.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_FORECAST_DATE = AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_FORECAST_DATE,
		PTWS.CREATE_CQ_STATUS = AX.CREATE_CQ_STATUS,
	PTWS.CREATE_CQ_COMPLETED_DATE = AX.CREATE_CQ_COMPLETED_DATE,
	PTWS.CREATE_CQ_FORECAST_DATE = AX.CREATE_CQ_FORECAST_DATE,
		PTWS.CREATE_PROJECT_STATUS = AX.CREATE_PROJECT_STATUS,
	PTWS.CREATE_PROJECT_COMPLETED_DATE = AX.CREATE_PROJECT_COMPLETED_DATE,
		PTWS.CREATE_RFDS_STATUS = AX.CREATE_RFDS_STATUS,
	PTWS.CREATE_RFDS_COMPLETED_DATE = AX.CREATE_RFDS_COMPLETED_DATE,
		PTWS.DC_DISCOVERY_STATUS = AX.DC_DISCOVERY_STATUS,
	PTWS.DC_DISCOVERY_COMPLETED_DATE = AX.DC_DISCOVERY_COMPLETED_DATE,
	PTWS.DC_DISCOVERY_FORECAST_DATE = AX.DC_DISCOVERY_FORECAST_DATE,
		PTWS.E911_STATUS = AX.E911_STATUS,
	PTWS.E911_COMPLETED_DATE = AX.E911_COMPLETED_DATE,
	PTWS.E911_FORECAST_DATE = AX.E911_FORECAST_DATE,
		PTWS.EDGE_EQUIPMENT_CLOSEOUT_STATUS = AX.EDGE_EQUIPMENT_CLOSEOUT_STATUS,
	PTWS.EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE = AX.EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE,
	PTWS.EDGE_EQUIPMENT_CLOSEOUT_FORECAST_DATE = AX.EDGE_EQUIPMENT_CLOSEOUT_FORECAST_DATE,
		PTWS.EDGE_EQUIPMENT_INFORMATION_STATUS = AX.EDGE_EQUIPMENT_INFORMATION_STATUS,
	PTWS.EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE = AX.EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE,
	PTWS.EDGE_EQUIPMENT_INFORMATION_FORECAST_DATE = AX.EDGE_EQUIPMENT_INFORMATION_FORECAST_DATE,
		PTWS.EDGE_EQUIPMENT_INSTALL_STATUS = AX.EDGE_EQUIPMENT_INSTALL_STATUS,
	PTWS.EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE = AX.EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE,
	PTWS.EDGE_EQUIPMENT_INSTALL_FORECAST_DATE = AX.EDGE_EQUIPMENT_INSTALL_FORECAST_DATE,
		PTWS.EDGE_IMPLEMENTATION_STATUS = AX.EDGE_IMPLEMENTATION_STATUS,
	PTWS.EDGE_IMPLEMENTATION_COMPLETED_DATE = AX.EDGE_IMPLEMENTATION_COMPLETED_DATE,
	PTWS.EDGE_IMPLEMENTATION_FORECAST_DATE = AX.EDGE_IMPLEMENTATION_FORECAST_DATE,
		PTWS.EDGE_MEC_STATUS = AX.EDGE_MEC_STATUS,
	PTWS.EDGE_MEC_COMPLETED_DATE = AX.EDGE_MEC_COMPLETED_DATE,
	PTWS.EDGE_MEC_FORECAST_DATE = AX.EDGE_MEC_FORECAST_DATE,
		PTWS.EDGE_PROJECT_INFO_STATUS = AX.EDGE_PROJECT_INFO_STATUS,
	PTWS.EDGE_PROJECT_INFO_COMPLETED_DATE = AX.EDGE_PROJECT_INFO_COMPLETED_DATE,
	PTWS.EDGE_PROJECT_INFO_FORECAST_DATE = AX.EDGE_PROJECT_INFO_FORECAST_DATE,
		PTWS.EDGE_PROJECT_PEC_STATUS = AX.EDGE_PROJECT_PEC_STATUS,
	PTWS.EDGE_PROJECT_PEC_COMPLETED_DATE = AX.EDGE_PROJECT_PEC_COMPLETED_DATE,
	PTWS.EDGE_PROJECT_PEC_FORECAST_DATE = AX.EDGE_PROJECT_PEC_FORECAST_DATE,
		PTWS.EDGE_PROJECT_PSR_STATUS = AX.EDGE_PROJECT_PSR_STATUS,
	PTWS.EDGE_PROJECT_PSR_COMPLETED_DATE = AX.EDGE_PROJECT_PSR_COMPLETED_DATE,
	PTWS.EDGE_PROJECT_PSR_FORECAST_DATE = AX.EDGE_PROJECT_PSR_FORECAST_DATE,
		PTWS.EDGE_PSC_VETTING_STATUS = AX.EDGE_PSC_VETTING_STATUS,
	PTWS.EDGE_PSC_VETTING_COMPLETED_DATE = AX.EDGE_PSC_VETTING_COMPLETED_DATE,
	PTWS.EDGE_PSC_VETTING_FORECAST_DATE = AX.EDGE_PSC_VETTING_FORECAST_DATE,
		PTWS.EDGE_VENDOR_RATING_STATUS = AX.EDGE_VENDOR_RATING_STATUS,
	PTWS.EDGE_VENDOR_RATING_COMPLETED_DATE = AX.EDGE_VENDOR_RATING_COMPLETED_DATE,
	PTWS.EDGE_VENDOR_RATING_FORECAST_DATE = AX.EDGE_VENDOR_RATING_FORECAST_DATE,
		PTWS.EDGE_VENDOR_SERVICE_INSTALL_STATUS = AX.EDGE_VENDOR_SERVICE_INSTALL_STATUS,
	PTWS.EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE = AX.EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE,
	PTWS.EDGE_VENDOR_SERVICE_INSTALL_FORECAST_DATE = AX.EDGE_VENDOR_SERVICE_INSTALL_FORECAST_DATE,
	    PTWS.EDGE_MANAGERS_CUSTOM_REPORTS_STATUS = AX.EDGE_MANAGERS_CUSTOM_REPORTS_STATUS,
	PTWS.EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE = AX.EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE,
	PTWS.EDGE_MANAGERS_CUSTOM_REPORTS_FORECAST_DATE = AX.EDGE_MANAGERS_CUSTOM_REPORTS_FORECAST_DATE,
	PTWS.EDGE_PROJECT_SLA_STATUS = AX.EDGE_PROJECT_SLA_STATUS,
	PTWS.EDGE_PROJECT_SLA_COMPLETED_DATE = AX.EDGE_PROJECT_SLA_COMPLETED_DATE,
	PTWS.EDGE_PROJECT_SLA_FORECAST_DATE = AX.EDGE_PROJECT_SLA_FORECAST_DATE,
		PTWS.ENVIRONMENTAL_DUE_DILIGENCE_STATUS = AX.ENVIRONMENTAL_DUE_DILIGENCE_STATUS,
	PTWS.ENVIRONMENTAL_DUE_DILIGENCE_COMPLETED_DATE = AX.ENVIRONMENTAL_DUE_DILIGENCE_COMPLETED_DATE,
	PTWS.ENVIRONMENTAL_DUE_DILIGENCE_FORECAST_DATE = AX.ENVIRONMENTAL_DUE_DILIGENCE_FORECAST_DATE,
		PTWS.ENVIRONMENTAL_REVIEW_STATUS = AX.ENVIRONMENTAL_REVIEW_STATUS,
	PTWS.ENVIRONMENTAL_REVIEW_COMPLETED_DATE = AX.ENVIRONMENTAL_REVIEW_COMPLETED_DATE,
	PTWS.ENVIRONMENTAL_REVIEW_FORECAST_DATE = AX.ENVIRONMENTAL_REVIEW_FORECAST_DATE,
    PTWS.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_STATUS = AX.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_STATUS,
    PTWS.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE = AX.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE,
    PTWS.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_FORECAST_DATE = AX.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_FORECAST_DATE,
		PTWS.ENV_CONST_CLOSEOUT_INFO_STATUS = AX.ENV_CONST_CLOSEOUT_INFO_STATUS,
	PTWS.ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE = AX.ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE,
	PTWS.ENV_CONST_CLOSEOUT_INFO_FORECAST_DATE = AX.ENV_CONST_CLOSEOUT_INFO_FORECAST_DATE,
		PTWS.EQUIPMENT_STATUS = AX.EQUIPMENT_STATUS,
	PTWS.EQUIPMENT_COMPLETED_DATE = AX.EQUIPMENT_COMPLETED_DATE,
	PTWS.EQUIPMENT_FORECAST_DATE = AX.EQUIPMENT_FORECAST_DATE,
		PTWS.EQUIPMENT_COMPLETE_STATUS = AX.EQUIPMENT_COMPLETE_STATUS,
	PTWS.EQUIPMENT_COMPLETE_COMPLETED_DATE = AX.EQUIPMENT_COMPLETE_COMPLETED_DATE,
	PTWS.EQUIPMENT_COMPLETE_FORECAST_DATE = AX.EQUIPMENT_COMPLETE_FORECAST_DATE,
		PTWS.EQUIPMENT_PROCUREMENT_COMPLETE_STATUS = AX.EQUIPMENT_PROCUREMENT_COMPLETE_STATUS,
	PTWS.EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE = AX.EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE,
	PTWS.EQUIPMENT_PROCUREMENT_COMPLETE_FORECAST_DATE = AX.EQUIPMENT_PROCUREMENT_COMPLETE_FORECAST_DATE,
		PTWS.FAA_FORM_STATUS = AX.FAA_FORM_STATUS,
	PTWS.FAA_FORM_COMPLETED_DATE = AX.FAA_FORM_COMPLETED_DATE,
	PTWS.FAA_FORM_FORECAST_DATE = AX.FAA_FORM_FORECAST_DATE,
		PTWS.FAR_EDGE_INSTANTIATION_STATUS = AX.FAR_EDGE_INSTANTIATION_STATUS,
	PTWS.FAR_EDGE_INSTANTIATION_COMPLETED_DATE = AX.FAR_EDGE_INSTANTIATION_COMPLETED_DATE,
	PTWS.FAR_EDGE_INSTANTIATION_FORECAST_DATE = AX.FAR_EDGE_INSTANTIATION_FORECAST_DATE,
		PTWS.FULL_CONSTRUCTION_APPROVAL_STATUS = AX.FULL_CONSTRUCTION_APPROVAL_STATUS,
	PTWS.FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE = AX.FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE,
	PTWS.FULL_CONSTRUCTION_APPROVAL_FORECAST_DATE = AX.FULL_CONSTRUCTION_APPROVAL_FORECAST_DATE,
	    PTWS.FUNDING_VERIFICATION_STATUS = AX.FUNDING_VERIFICATION_STATUS,
	PTWS.FUNDING_VERIFICATION_COMPLETED_DATE = AX.FUNDING_VERIFICATION_COMPLETED_DATE,
	PTWS.FUNDING_VERIFICATION_FORECAST_DATE = AX.FUNDING_VERIFICATION_FORECAST_DATE,
	PTWS.EDGE_PARTNER_PROJECT_REQUEST_STATUS = AX.EDGE_PARTNER_PROJECT_REQUEST_STATUS,
	PTWS.EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE = AX.EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE,
	PTWS.EDGE_PARTNER_PROJECT_REQUEST_FORECAST_DATE = AX.EDGE_PARTNER_PROJECT_REQUEST_FORECAST_DATE,
	PTWS.EDGE_DESIGN_REVIEW_STATUS = AX.EDGE_DESIGN_REVIEW_STATUS,
	PTWS.EDGE_DESIGN_REVIEW_COMPLETED_DATE = AX.EDGE_DESIGN_REVIEW_COMPLETED_DATE,
	PTWS.EDGE_DESIGN_REVIEW_FORECAST_DATE = AX.EDGE_DESIGN_REVIEW_FORECAST_DATE,
	PTWS.EDGE_PLANNING_REVIEW_STATUS = AX.EDGE_PLANNING_REVIEW_STATUS,
	PTWS.EDGE_PLANNING_REVIEW_COMPLETED_DATE = AX.EDGE_PLANNING_REVIEW_COMPLETED_DATE,
	PTWS.EDGE_PLANNING_REVIEW_FORECAST_DATE = AX.EDGE_PLANNING_REVIEW_FORECAST_DATE,
		PTWS.GLOBAL_EHS_REVIEW_STATUS = AX.GLOBAL_EHS_REVIEW_STATUS,
	PTWS.GLOBAL_EHS_REVIEW_COMPLETED_DATE = AX.GLOBAL_EHS_REVIEW_COMPLETED_DATE,
	PTWS.GLOBAL_EHS_REVIEW_FORECAST_DATE = AX.GLOBAL_EHS_REVIEW_FORECAST_DATE,
		PTWS.GROUND_ONLY_APPROVAL_STATUS = AX.GROUND_ONLY_APPROVAL_STATUS,
	PTWS.GROUND_ONLY_APPROVAL_COMPLETED_DATE = AX.GROUND_ONLY_APPROVAL_COMPLETED_DATE,
	PTWS.GROUND_ONLY_APPROVAL_FORECAST_DATE = AX.GROUND_ONLY_APPROVAL_FORECAST_DATE,
		PTWS.HUB_READY_STATUS = AX.HUB_READY_STATUS,
	PTWS.HUB_READY_COMPLETED_DATE = AX.HUB_READY_COMPLETED_DATE,
	PTWS.HUB_READY_FORECAST_DATE = AX.HUB_READY_FORECAST_DATE,
		  PTWS.IMPLEMENTATION_ACCEPTED_STATUS = AX.IMPLEMENTATION_ACCEPTED_STATUS,
	PTWS.IMPLEMENTATION_ACCEPTED_COMPLETED_DATE = AX.IMPLEMENTATION_ACCEPTED_COMPLETED_DATE,
	PTWS.IMPLEMENTATION_ACCEPTED_FORECAST_DATE = AX.IMPLEMENTATION_ACCEPTED_FORECAST_DATE,
		PTWS.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_STATUS = AX.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_STATUS,
	PTWS.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE = AX.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE,
	PTWS.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_FORECAST_DATE = AX.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_FORECAST_DATE,
		PTWS.INITIAL_SAFETY_INFORMATION_COMPLETED_STATUS = AX.INITIAL_SAFETY_INFORMATION_COMPLETED_STATUS,
	PTWS.INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE = AX.INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,
	PTWS.INITIAL_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE = AX.INITIAL_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
	    PTWS.INITIATIVE_VERIFICATION_STATUS = AX.INITIATIVE_VERIFICATION_STATUS,
	PTWS.INITIATIVE_VERIFICATION_COMPLETED_DATE = AX.INITIATIVE_VERIFICATION_COMPLETED_DATE,
	PTWS.INITIATIVE_VERIFICATION_FORECAST_DATE = AX.INITIATIVE_VERIFICATION_FORECAST_DATE,
		PTWS.INSERVICE_DOCUMENTS_STATUS = AX.INSERVICE_DOCUMENTS_STATUS,
	PTWS.INSERVICE_DOCUMENTS_COMPLETED_DATE = AX.INSERVICE_DOCUMENTS_COMPLETED_DATE,
	PTWS.INSERVICE_DOCUMENTS_FORECAST_DATE = AX.INSERVICE_DOCUMENTS_FORECAST_DATE,
		PTWS.INTEGRATION_STATUS = AX.INTEGRATION_STATUS,
	PTWS.INTEGRATION_COMPLETED_DATE = AX.INTEGRATION_COMPLETED_DATE,
	PTWS.INTEGRATION_FORECAST_DATE = AX.INTEGRATION_FORECAST_DATE,
		PTWS.INTERNATIONAL_BORDER_STATUS = AX.INTERNATIONAL_BORDER_STATUS,
	PTWS.INTERNATIONAL_BORDER_COMPLETED_DATE = AX.INTERNATIONAL_BORDER_COMPLETED_DATE,
	PTWS.INTERNATIONAL_BORDER_FORECAST_DATE = AX.INTERNATIONAL_BORDER_FORECAST_DATE,
		PTWS.IP_COMPLETE_STATUS = AX.IP_COMPLETE_STATUS,
	PTWS.IP_COMPLETE_COMPLETED_DATE = AX.IP_COMPLETE_COMPLETED_DATE,
	PTWS.IP_COMPLETE_FORECAST_DATE = AX.IP_COMPLETE_FORECAST_DATE,
		PTWS.LEASING_STATUS = AX.LEASING_STATUS,
	PTWS.LEASING_COMPLETED_DATE = AX.LEASING_COMPLETED_DATE,
	PTWS.LEASING_FORECAST_DATE = AX.LEASING_FORECAST_DATE,
		PTWS.LOCATION_CODE_CREATED_STATUS = AX.LOCATION_CODE_CREATED_STATUS,
	PTWS.LOCATION_CODE_CREATED_COMPLETED_DATE = AX.LOCATION_CODE_CREATED_COMPLETED_DATE,
	PTWS.LOCATION_CODE_CREATED_FORECAST_DATE = AX.LOCATION_CODE_CREATED_FORECAST_DATE,
		PTWS.MICROWAVE_STATUS = AX.MICROWAVE_STATUS,
	PTWS.MICROWAVE_COMPLETED_DATE = AX.MICROWAVE_COMPLETED_DATE,
	PTWS.MICROWAVE_FORECAST_DATE = AX.MICROWAVE_FORECAST_DATE,
	    PTWS.MID_PROJECT_REVIEW_STATUS = AX.MID_PROJECT_REVIEW_STATUS,
	PTWS.MID_PROJECT_REVIEW_COMPLETED_DATE = AX.MID_PROJECT_REVIEW_COMPLETED_DATE,
	PTWS.MID_PROJECT_REVIEW_FORECAST_DATE = AX.MID_PROJECT_REVIEW_FORECAST_DATE,
		PTWS.NETWORK_ASSURANCE_STATUS = AX.NETWORK_ASSURANCE_STATUS,
	PTWS.NETWORK_ASSURANCE_COMPLETED_DATE = AX.NETWORK_ASSURANCE_COMPLETED_DATE,
	PTWS.NETWORK_ASSURANCE_FORECAST_DATE = AX.NETWORK_ASSURANCE_FORECAST_DATE,
		PTWS.ONE_FIBER_STATUS = AX.ONE_FIBER_STATUS,
	PTWS.ONE_FIBER_COMPLETED_DATE = AX.ONE_FIBER_COMPLETED_DATE,
	PTWS.ONE_FIBER_FORECAST_DATE = AX.ONE_FIBER_FORECAST_DATE,
		PTWS.OSHA_ROOFTOP_ASSESSMENT_STATUS = AX.OSHA_ROOFTOP_ASSESSMENT_STATUS,
	PTWS.OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE = AX.OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE,
	PTWS.OSHA_ROOFTOP_ASSESSMENT_FORECAST_DATE = AX.OSHA_ROOFTOP_ASSESSMENT_FORECAST_DATE,
		PTWS.PERMITTING_STATUS = AX.PERMITTING_STATUS,
	PTWS.PERMITTING_COMPLETED_DATE = AX.PERMITTING_COMPLETED_DATE,
	PTWS.PERMITTING_FORECAST_DATE = AX.PERMITTING_FORECAST_DATE,
		PTWS.PHOTO_DOCUMENTS_STATUS = AX.PHOTO_DOCUMENTS_STATUS,
	PTWS.PHOTO_DOCUMENTS_COMPLETED_DATE = AX.PHOTO_DOCUMENTS_COMPLETED_DATE,
	PTWS.PHOTO_DOCUMENTS_FORECAST_DATE = AX.PHOTO_DOCUMENTS_FORECAST_DATE,
		PTWS.PHYSICAL_CONSTRUCTION_COMPLETE_STATUS = AX.PHYSICAL_CONSTRUCTION_COMPLETE_STATUS,
	PTWS.PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE = AX.PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE,
	PTWS.PHYSICAL_CONSTRUCTION_COMPLETE_FORECAST_DATE = AX.PHYSICAL_CONSTRUCTION_COMPLETE_FORECAST_DATE,
		PTWS.POST_ROOFTOP_AUDIT_COMPLETED_STATUS = AX.POST_ROOFTOP_AUDIT_COMPLETED_STATUS,
	PTWS.POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE = AX.POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE,
	PTWS.POST_ROOFTOP_AUDIT_COMPLETED_FORECAST_DATE = AX.POST_ROOFTOP_AUDIT_COMPLETED_FORECAST_DATE,
		PTWS.POST_SAFETY_INFORMATION_COMPLETED_STATUS = AX.POST_SAFETY_INFORMATION_COMPLETED_STATUS,
	PTWS.POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE = AX.POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,
	PTWS.POST_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE = AX.POST_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
		PTWS.POST_TCN_STATUS = AX.POST_TCN_STATUS,
	PTWS.POST_TCN_COMPLETED_DATE = AX.POST_TCN_COMPLETED_DATE,
	PTWS.POST_TCN_FORECAST_DATE = AX.POST_TCN_FORECAST_DATE,
		PTWS.POWER_STATUS = AX.POWER_STATUS,
	PTWS.POWER_COMPLETED_DATE = AX.POWER_COMPLETED_DATE,
	PTWS.POWER_FORECAST_DATE = AX.POWER_FORECAST_DATE,
    PTWS.POWER_VETTING_STATUS = AX.POWER_VETTING_STATUS,
	PTWS.POWER_VETTING_COMPLETED_DATE = AX.POWER_VETTING_COMPLETED_DATE,
	PTWS.POWER_VETTING_FORECAST_DATE = AX.POWER_VETTING_FORECAST_DATE,
		PTWS.POWER_COMPLETE_STATUS = AX.POWER_COMPLETE_STATUS,
	PTWS.POWER_COMPLETE_COMPLETED_DATE = AX.POWER_COMPLETE_COMPLETED_DATE,
	PTWS.POWER_COMPLETE_FORECAST_DATE = AX.POWER_COMPLETE_FORECAST_DATE,
		PTWS.POWER_UTILITIES_TERMINATION_STATUS = AX.POWER_UTILITIES_TERMINATION_STATUS,
	PTWS.POWER_UTILITIES_TERMINATION_COMPLETED_DATE = AX.POWER_UTILITIES_TERMINATION_COMPLETED_DATE,
	PTWS.POWER_UTILITIES_TERMINATION_FORECAST_DATE = AX.POWER_UTILITIES_TERMINATION_FORECAST_DATE,
		PTWS.PRE_TCN_STATUS = AX.PRE_TCN_STATUS,
	PTWS.PRE_TCN_COMPLETED_DATE = AX.PRE_TCN_COMPLETED_DATE,
	PTWS.PRE_TCN_FORECAST_DATE = AX.PRE_TCN_FORECAST_DATE,
	PTWS.REAL_ESTATE_CONFIDENCE_SIGN_OFF_STATUS = AX.REAL_ESTATE_CONFIDENCE_SIGN_OFF_STATUS,
	PTWS.REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE = AX.REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE,
	PTWS.REAL_ESTATE_CONFIDENCE_SIGN_OFF_FORECAST_DATE = AX.REAL_ESTATE_CONFIDENCE_SIGN_OFF_FORECAST_DATE,
	PTWS.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_STATUS = AX.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_STATUS,
	PTWS.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_COMPLETED_DATE = AX.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_COMPLETED_DATE,
	PTWS.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_FORECAST_DATE = AX.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_FORECAST_DATE,
		PTWS.PROJECT_STARTED_STATUS = AX.PROJECT_STARTED_STATUS,
	PTWS.PROJECT_STARTED_COMPLETED_DATE = AX.PROJECT_STARTED_COMPLETED_DATE,
	PTWS.PROJECT_STARTED_FORECAST_DATE = AX.PROJECT_STARTED_FORECAST_DATE,
	    PTWS.PROJECT_STATUS_VERIFICATION_STATUS = AX.PROJECT_STATUS_VERIFICATION_STATUS,
	PTWS.PROJECT_STATUS_VERIFICATION_COMPLETED_DATE = AX.PROJECT_STATUS_VERIFICATION_COMPLETED_DATE,
	PTWS.PROJECT_STATUS_VERIFICATION_FORECAST_DATE = AX.PROJECT_STATUS_VERIFICATION_FORECAST_DATE,
		PTWS.PSC_CONSTRUCTION_STATUS = AX.PSC_CONSTRUCTION_STATUS,
	PTWS.PSC_CONSTRUCTION_COMPLETED_DATE = AX.PSC_CONSTRUCTION_COMPLETED_DATE,
	PTWS.PSC_CONSTRUCTION_FORECAST_DATE = AX.PSC_CONSTRUCTION_FORECAST_DATE,
		PTWS.PSC_DESIGN_STATUS = AX.PSC_DESIGN_STATUS,
	PTWS.PSC_DESIGN_COMPLETED_DATE = AX.PSC_DESIGN_COMPLETED_DATE,
	PTWS.PSC_DESIGN_FORECAST_DATE = AX.PSC_DESIGN_FORECAST_DATE,
		PTWS.PSC_IMPLEMENTATION_STATUS = AX.PSC_IMPLEMENTATION_STATUS,
	PTWS.PSC_IMPLEMENTATION_COMPLETED_DATE = AX.PSC_IMPLEMENTATION_COMPLETED_DATE,
	PTWS.PSC_IMPLEMENTATION_FORECAST_DATE = AX.PSC_IMPLEMENTATION_FORECAST_DATE,
		PTWS.PSC_PRE_CONSTRUCTION_STATUS = AX.PSC_PRE_CONSTRUCTION_STATUS,
	PTWS.PSC_PRE_CONSTRUCTION_COMPLETED_DATE = AX.PSC_PRE_CONSTRUCTION_COMPLETED_DATE,
	PTWS.PSC_PRE_CONSTRUCTION_FORECAST_DATE = AX.PSC_PRE_CONSTRUCTION_FORECAST_DATE,
		PTWS.PSC_PROJ_DETAILS_STATUS = AX.PSC_PROJ_DETAILS_STATUS,
	PTWS.PSC_PROJ_DETAILS_COMPLETED_DATE = AX.PSC_PROJ_DETAILS_COMPLETED_DATE,
	PTWS.PSC_PROJ_DETAILS_FORECAST_DATE = AX.PSC_PROJ_DETAILS_FORECAST_DATE,
		PTWS.PSC_MAJOR_MATERIAL_STATUS = AX.PSC_MAJOR_MATERIAL_STATUS,
	PTWS.PSC_MAJOR_MATERIAL_COMPLETED_DATE = AX.PSC_MAJOR_MATERIAL_COMPLETED_DATE,
	PTWS.PSC_MAJOR_MATERIAL_FORECAST_DATE = AX.PSC_MAJOR_MATERIAL_FORECAST_DATE,
		PTWS.PSC_MEC_DELIVERABLES_STATUS = AX.PSC_MEC_DELIVERABLES_STATUS,
	PTWS.PSC_MEC_DELIVERABLES_COMPLETED_DATE = AX.PSC_MEC_DELIVERABLES_COMPLETED_DATE,
	PTWS.PSC_MEC_DELIVERABLES_FORECAST_DATE = AX.PSC_MEC_DELIVERABLES_FORECAST_DATE,
	PTWS.PSC_ASSESSMENT_AND_PLANNING_STATUS = AX.PSC_ASSESSMENT_AND_PLANNING_STATUS,
	PTWS.PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE = AX.PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE,
	PTWS.PSC_ASSESSMENT_AND_PLANNING_FORECAST_DATE = AX.PSC_ASSESSMENT_AND_PLANNING_FORECAST_DATE,
		PTWS.PSLC_FUNDING_STATUS = AX.PSLC_FUNDING_STATUS,
	PTWS.PSLC_FUNDING_COMPLETED_DATE = AX.PSLC_FUNDING_COMPLETED_DATE,
	PTWS.PSLC_FUNDING_FORECAST_DATE = AX.PSLC_FUNDING_FORECAST_DATE,
		PTWS.QUIET_ZONE_STATUS = AX.QUIET_ZONE_STATUS,
	PTWS.QUIET_ZONE_COMPLETED_DATE = AX.QUIET_ZONE_COMPLETED_DATE,
	PTWS.QUIET_ZONE_FORECAST_DATE = AX.QUIET_ZONE_FORECAST_DATE,
		PTWS.READY_FOR_ASSURANCE_STATUS = AX.READY_FOR_ASSURANCE_STATUS,
	PTWS.READY_FOR_ASSURANCE_COMPLETED_DATE = AX.READY_FOR_ASSURANCE_COMPLETED_DATE,
	PTWS.READY_FOR_ASSURANCE_FORECAST_DATE = AX.READY_FOR_ASSURANCE_FORECAST_DATE,
		PTWS.REAL_ESTATE_COMPLETE_STATUS = AX.REAL_ESTATE_COMPLETE_STATUS,
	PTWS.REAL_ESTATE_COMPLETE_COMPLETED_DATE = AX.REAL_ESTATE_COMPLETE_COMPLETED_DATE,
	PTWS.REAL_ESTATE_COMPLETE_FORECAST_DATE = AX.REAL_ESTATE_COMPLETE_FORECAST_DATE,
		PTWS.REGULATORY_STATUS = AX.REGULATORY_STATUS,
	PTWS.REGULATORY_COMPLETED_DATE = AX.REGULATORY_COMPLETED_DATE,
	PTWS.REGULATORY_FORECAST_DATE = AX.REGULATORY_FORECAST_DATE,
		PTWS.REGULATORY_DISMANTLEMENT_STATUS = AX.REGULATORY_DISMANTLEMENT_STATUS,
	PTWS.REGULATORY_DISMANTLEMENT_COMPLETED_DATE = AX.REGULATORY_DISMANTLEMENT_COMPLETED_DATE,
	PTWS.REGULATORY_DISMANTLEMENT_FORECAST_DATE = AX.REGULATORY_DISMANTLEMENT_FORECAST_DATE,
		PTWS.REGULATORY_INSERVICE_STATUS = AX.REGULATORY_INSERVICE_STATUS,
	PTWS.REGULATORY_INSERVICE_COMPLETED_DATE = AX.REGULATORY_INSERVICE_COMPLETED_DATE,
	PTWS.REGULATORY_INSERVICE_FORECAST_DATE = AX.REGULATORY_INSERVICE_FORECAST_DATE,
		PTWS.RELEASED_TO_BUILD_STATUS = AX.RELEASED_TO_BUILD_STATUS,
	PTWS.RELEASED_TO_BUILD_COMPLETED_DATE = AX.RELEASED_TO_BUILD_COMPLETED_DATE,
	PTWS.RELEASED_TO_BUILD_FORECAST_DATE = AX.RELEASED_TO_BUILD_FORECAST_DATE,
		PTWS.RFDS_STATUS = AX.RFDS_STATUS,
	PTWS.RFDS_COMPLETED_DATE = AX.RFDS_COMPLETED_DATE,
	PTWS.RFDS_FORECAST_DATE = AX.RFDS_FORECAST_DATE,
		PTWS.RFE_STATUS = AX.RFE_STATUS,
	PTWS.RFE_COMPLETED_DATE = AX.RFE_COMPLETED_DATE,
	PTWS.RFE_FORECAST_DATE = AX.RFE_FORECAST_DATE,
		--PTWS.RFE_MITIGATION_DOCS_STATUS = AX.RFE_MITIGATION_DOCS_STATUS,
	--PTWS.RFE_MITIGATION_DOCS_COMPLETED_DATE = AX.RFE_MITIGATION_DOCS_COMPLETED_DATE,
	--PTWS.RFE_MITIGATION_DOCS_FORECAST_DATE = AX.RFE_MITIGATION_DOCS_FORECAST_DATE,
		PTWS.RF_48HR_REVIEW_STATUS = AX.RF_48HR_REVIEW_STATUS,
	PTWS.RF_48HR_REVIEW_COMPLETED_DATE = AX.RF_48HR_REVIEW_COMPLETED_DATE,
	PTWS.RF_48HR_REVIEW_FORECAST_DATE = AX.RF_48HR_REVIEW_FORECAST_DATE,
    PTWS.REGULATORY_48HR_REVIEW_STATUS = AX.REGULATORY_48HR_REVIEW_STATUS,
	PTWS.REGULATORY_48HR_REVIEW_COMPLETED_DATE = AX.REGULATORY_48HR_REVIEW_COMPLETED_DATE,
	PTWS.REGULATORY_48HR_REVIEW_FORECAST_DATE = AX.REGULATORY_48HR_REVIEW_FORECAST_DATE,
	--FAA/ASR changes
	PTWS.FAA_ASR_TRANSFER_STATUS = AX.FAA_ASR_TRANSFER_STATUS,
	PTWS.FAA_ASR_TRANSFER_COMPLETED_DATE = AX.FAA_ASR_TRANSFER_COMPLETED_DATE,
	PTWS.FAA_ASR_TRANSFER_FORECAST_DATE = AX.FAA_ASR_TRANSFER_FORECAST_DATE,
	--FAA/ASR changes
		PTWS.RF_ACCEPT_RANKING_STATUS = AX.RF_ACCEPT_RANKING_STATUS,
	PTWS.RF_ACCEPT_RANKING_COMPLETED_DATE = AX.RF_ACCEPT_RANKING_COMPLETED_DATE,
	PTWS.RF_ACCEPT_RANKING_FORECAST_DATE = AX.RF_ACCEPT_RANKING_FORECAST_DATE,
		PTWS.RF_COMPLETE_STATUS = AX.RF_COMPLETE_STATUS,
	PTWS.RF_COMPLETE_COMPLETED_DATE = AX.RF_COMPLETE_COMPLETED_DATE,
	PTWS.RF_COMPLETE_FORECAST_DATE = AX.RF_COMPLETE_FORECAST_DATE,
		PTWS.SELECT_VENDOR_STATUS = AX.SELECT_VENDOR_STATUS,
	PTWS.SELECT_VENDOR_COMPLETED_DATE = AX.SELECT_VENDOR_COMPLETED_DATE,
	PTWS.SELECT_VENDOR_FORECAST_DATE = AX.SELECT_VENDOR_FORECAST_DATE,
		PTWS.SP_COMPLETE_STATUS = AX.SP_COMPLETE_STATUS,
	PTWS.SP_COMPLETE_COMPLETED_DATE = AX.SP_COMPLETE_COMPLETED_DATE,
	PTWS.SP_COMPLETE_FORECAST_DATE = AX.SP_COMPLETE_FORECAST_DATE,
		PTWS.STRUCTURE_FORM_STATUS = AX.STRUCTURE_FORM_STATUS,
	PTWS.STRUCTURE_FORM_COMPLETED_DATE = AX.STRUCTURE_FORM_COMPLETED_DATE,
	PTWS.STRUCTURE_FORM_FORECAST_DATE = AX.STRUCTURE_FORM_FORECAST_DATE,
		PTWS.SUBMIT_FOR_NEPA_STATUS = AX.SUBMIT_FOR_NEPA_STATUS,
	PTWS.SUBMIT_FOR_NEPA_COMPLETED_DATE = AX.SUBMIT_FOR_NEPA_COMPLETED_DATE,
	PTWS.SUBMIT_FOR_NEPA_FORECAST_DATE = AX.SUBMIT_FOR_NEPA_FORECAST_DATE,
		PTWS.SUBMIT_RFDS_STATUS = AX.SUBMIT_RFDS_STATUS,
	PTWS.SUBMIT_RFDS_COMPLETED_DATE = AX.SUBMIT_RFDS_COMPLETED_DATE,
	PTWS.SUBMIT_RFDS_FORECAST_DATE = AX.SUBMIT_RFDS_FORECAST_DATE,
		PTWS.RFDS_IBV_STATUS = AX.RFDS_IBV_STATUS,
	PTWS.RFDS_IBV_COMPLETED_DATE = AX.RFDS_IBV_COMPLETED_DATE,
	PTWS.RFDS_IBV_FORECAST_DATE = AX.RFDS_IBV_FORECAST_DATE,
		PTWS.SURVEY_STATUS = AX.SURVEY_STATUS,
	PTWS.SURVEY_COMPLETED_DATE = AX.SURVEY_COMPLETED_DATE,
	PTWS.SURVEY_FORECAST_DATE = AX.SURVEY_FORECAST_DATE,
		PTWS.PROJ_TERRITORY_REVIEW_STATUS = AX.PROJ_TERRITORY_REVIEW_STATUS,
	PTWS.TERRITORY_REVIEW_COMPLETED_DATE = AX.TERRITORY_REVIEW_COMPLETED_DATE,
	PTWS.TERRITORY_REVIEW_FORECAST_DATE = AX.TERRITORY_REVIEW_FORECAST_DATE,
		PTWS.TRANSPORT_STATUS = AX.TRANSPORT_STATUS,
	PTWS.TRANSPORT_COMPLETED_DATE = AX.TRANSPORT_COMPLETED_DATE,
	PTWS.TRANSPORT_FORECAST_DATE = AX.TRANSPORT_FORECAST_DATE,
		PTWS.TRANSPORT_COMPLETE_STATUS = AX.TRANSPORT_COMPLETE_STATUS,
	PTWS.TRANSPORT_COMPLETE_COMPLETED_DATE = AX.TRANSPORT_COMPLETE_COMPLETED_DATE,
	PTWS.TRANSPORT_COMPLETE_FORECAST_DATE = AX.TRANSPORT_COMPLETE_FORECAST_DATE,
		PTWS.TRANSPORT_CONTRACT_STATUS = AX.TRANSPORT_CONTRACT_STATUS,
	PTWS.TRANSPORT_CONTRACT_COMPLETED_DATE = AX.TRANSPORT_CONTRACT_COMPLETED_DATE,
	PTWS.TRANSPORT_CONTRACT_FORECAST_DATE = AX.TRANSPORT_CONTRACT_FORECAST_DATE,
		PTWS.TRANSPORT_DELIVERY_STATUS = AX.TRANSPORT_DELIVERY_STATUS,
	PTWS.TRANSPORT_DELIVERY_COMPLETED_DATE = AX.TRANSPORT_DELIVERY_COMPLETED_DATE,
	PTWS.TRANSPORT_DELIVERY_FORECAST_DATE = AX.TRANSPORT_DELIVERY_FORECAST_DATE,
		PTWS.TRANSPORT_REVIEW_STATUS = AX.TRANSPORT_REVIEW_STATUS,
	PTWS.TRANSPORT_REVIEW_COMPLETED_DATE = AX.TRANSPORT_REVIEW_COMPLETED_DATE,
	PTWS.TRANSPORT_REVIEW_FORECAST_DATE = AX.TRANSPORT_REVIEW_FORECAST_DATE,
		PTWS.TSDF_REVIEW_STATUS = AX.TSDF_REVIEW_STATUS,
	PTWS.TSDF_REVIEW_COMPLETED_DATE = AX.TSDF_REVIEW_COMPLETED_DATE,
	PTWS.TSDF_REVIEW_FORECAST_DATE = AX.TSDF_REVIEW_FORECAST_DATE,
		PTWS.UTILITY_INFORMATION_STATUS = AX.UTILITY_INFORMATION_STATUS,
	PTWS.UTILITY_INFORMATION_COMPLETED_DATE = AX.UTILITY_INFORMATION_COMPLETED_DATE,
	PTWS.UTILITY_INFORMATION_FORECAST_DATE = AX.UTILITY_INFORMATION_FORECAST_DATE,
		PTWS.VCP_FAR_EDGE_INSTALLATION_STATUS = AX.VCP_FAR_EDGE_INSTALLATION_STATUS,
	PTWS.VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE = AX.VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE,
	PTWS.VCP_FAR_EDGE_INSTALLATION_FORECAST_DATE = AX.VCP_FAR_EDGE_INSTALLATION_FORECAST_DATE,
		PTWS.VCP_ORCHESTRATION_STATUS = AX.VCP_ORCHESTRATION_STATUS,
	PTWS.VCP_ORCHESTRATION_COMPLETED_DATE = AX.VCP_ORCHESTRATION_COMPLETED_DATE,
	PTWS.VCP_ORCHESTRATION_FORECAST_DATE = AX.VCP_ORCHESTRATION_FORECAST_DATE,
		PTWS.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_STATUS = AX.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_STATUS,
	PTWS.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE = AX.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE,
	PTWS.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_FORECAST_DATE = AX.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_FORECAST_DATE,
		PTWS.VDU_DAY_0_COMPLETE_STATUS = AX.VDU_DAY_0_COMPLETE_STATUS,
	PTWS.VDU_DAY_0_COMPLETE_COMPLETED_DATE = AX.VDU_DAY_0_COMPLETE_COMPLETED_DATE,
	PTWS.VDU_DAY_0_COMPLETE_FORECAST_DATE = AX.VDU_DAY_0_COMPLETE_FORECAST_DATE,
		PTWS.VDU_DAY_1_COMPLETE_STATUS = AX.VDU_DAY_1_COMPLETE_STATUS,
	PTWS.VDU_DAY_1_COMPLETE_COMPLETED_DATE = AX.VDU_DAY_1_COMPLETE_COMPLETED_DATE,
	PTWS.VDU_DAY_1_COMPLETE_FORECAST_DATE = AX.VDU_DAY_1_COMPLETE_FORECAST_DATE,
		PTWS.VDU_DEPLOY_READINESS_STATUS = AX.VDU_DEPLOY_READINESS_STATUS,
	PTWS.VDU_DEPLOY_READINESS_COMPLETED_DATE = AX.VDU_DEPLOY_READINESS_COMPLETED_DATE,
	PTWS.VDU_DEPLOY_READINESS_FORECAST_DATE = AX.VDU_DEPLOY_READINESS_FORECAST_DATE,
    -- PTWS.AWAT_MATERIAL_ALLOCATION_STATUS = AX.AWAT_MATERIAL_ALLOCATION_STATUS,
	-- PTWS.AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE = AX.AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE,
	-- PTWS.AWAT_MATERIAL_ALLOCATION_FORECAST_DATE = AX.AWAT_MATERIAL_ALLOCATION_FORECAST_DATE,
		PTWS.GENERATE_BOM_STATUS = AX.GENERATE_BOM_STATUS,
	PTWS.GENERATE_BOM_COMPLETED_DATE = AX.GENERATE_BOM_COMPLETED_DATE,
	PTWS.GENERATE_BOM_FORECAST_DATE = AX.GENERATE_BOM_FORECAST_DATE,
		PTWS.ZONING_STATUS = AX.ZONING_STATUS,
	PTWS.ZONING_COMPLETED_DATE = AX.ZONING_COMPLETED_DATE,
	PTWS.ZONING_FORECAST_DATE = AX.ZONING_FORECAST_DATE,
	--PTWS.MINOR_MS_CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE = AX.CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE,
	--PTWS.MINOR_MS_CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE = AX.CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE,
	--PTWS.MINOR_MS_CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE = AX.CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE,
	--PTWS.MINOR_MS_CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE = AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE,
    PTWS.MINOR_MS_CONQUEST_COMPLETED_DATE = AX.CONQUEST_COMPLETED_DATE,
	PTWS.MINOR_MS_CREATE_CQ_COMPLETED_DATE = AX.CREATE_CQ_COMPLETED_DATE,
	PTWS.MINOR_MS_RF_COMPLETE_DATE = AX.RF_COMPLETE_COMPLETED_DATE ,
	PTWS.MINOR_MS_CQ_EQUIPMENT_COMPLETED_DATE =  AX.EQUIPMENT_COMPLETE_COMPLETED_DATE,
	PTWS.MINOR_MS_TRANSPORT_COMPLETE_COMPLETED_DATE = AX.TRANSPORT_COMPLETE_COMPLETED_DATE,
	PTWS.MINOR_MS_SP_COMPLETE_COMPLETED_DATE = AX.SP_COMPLETE_COMPLETED_DATE,
	PTWS.MINOR_MS_IP_COMPLETE_COMPLETED_DATE = AX.IP_COMPLETE_COMPLETED_DATE,
	PTWS.MINOR_MS_READY_FOR_ASSURANCE_COMPLETED_DATE = AX.READY_FOR_ASSURANCE_COMPLETED_DATE,
    PTWS.EQUIPMENT_CREATION_STATUS = AX.EQUIPMENT_CREATION_STATUS,
	PTWS.EQUIPMENT_CREATION_COMPLETED_DATE = AX.EQUIPMENT_CREATION_COMPLETED_DATE,
	PTWS.EQUIPMENT_CREATION_FORECAST_DATE = AX.EQUIPMENT_CREATION_FORECAST_DATE,
	PTWS.TOWER_BOM_STATUS = AX.TOWER_BOM_STATUS,
	PTWS.TOWER_BOM_COMPLETED_DATE = AX.TOWER_BOM_COMPLETED_DATE,
	PTWS.TOWER_BOM_FORECAST_DATE = AX.TOWER_BOM_FORECAST_DATE,
	--PTWS.TOWER_BOM_ACTUAL_DATE = AX.TOWER_BOM_ACTUAL_DATE,
	PTWS.SHELTER_BOM_STATUS = AX.SHELTER_BOM_STATUS,
	PTWS.SHELTER_BOM_COMPLETED_DATE = AX.SHELTER_BOM_COMPLETED_DATE,
	PTWS.SHELTER_BOM_FORECAST_DATE = AX.SHELTER_BOM_FORECAST_DATE,
	--PTWS.SHELTER_BOM_ACTUAL_DATE = AX.SHELTER_BOM_ACTUAL_DATE,
	PTWS.OUTDOOR_BOM_STATUS = AX.OUTDOOR_BOM_STATUS,
	PTWS.OUTDOOR_BOM_COMPLETED_DATE = AX.OUTDOOR_BOM_COMPLETED_DATE,
	PTWS.OUTDOOR_BOM_FORECAST_DATE = AX.OUTDOOR_BOM_FORECAST_DATE,
	--PTWS.OUTDOOR_BOM_ACTUAL_DATE = AX.OUTDOOR_BOM_ACTUAL_DATE,
	PTWS.AC_POWER_BOM_STATUS = AX.AC_POWER_BOM_STATUS,
	PTWS.AC_POWER_BOM_COMPLETED_DATE = AX.AC_POWER_BOM_COMPLETED_DATE,
	PTWS.AC_POWER_BOM_FORECAST_DATE = AX.AC_POWER_BOM_FORECAST_DATE,
	--PTWS.AC_POWER_BOM_ACTUAL_DATE = AX.AC_POWER_BOM_ACTUAL_DATE,
	PTWS.DC_POWER_BOM_STATUS = AX.DC_POWER_BOM_STATUS,
	PTWS.DC_POWER_BOM_COMPLETED_DATE = AX.DC_POWER_BOM_COMPLETED_DATE,
	PTWS.DC_POWER_BOM_FORECAST_DATE = AX.DC_POWER_BOM_FORECAST_DATE,
	--PTWS.DC_POWER_BOM_ACTUAL_DATE = AX.DC_POWER_BOM_ACTUAL_DATE,
	PTWS.CIVIL_BOM_STATUS = AX.CIVIL_BOM_STATUS,
	PTWS.CIVIL_BOM_COMPLETED_DATE = AX.CIVIL_BOM_COMPLETED_DATE,
	PTWS.CIVIL_BOM_FORECAST_DATE = AX.CIVIL_BOM_FORECAST_DATE,
	--PTWS.CIVIL_BOM_ACTUAL_DATE = AX.CIVIL_BOM_ACTUAL_DATE,
	PTWS.GENERATOR_BOM_STATUS = AX.GENERATOR_BOM_STATUS,
	PTWS.GENERATOR_BOM_COMPLETED_DATE = AX.GENERATOR_BOM_COMPLETED_DATE,
	PTWS.GENERATOR_BOM_FORECAST_DATE = AX.GENERATOR_BOM_FORECAST_DATE,
	--PTWS.GENERATOR_BOM_ACTUAL_DATE = AX.GENERATOR_BOM_ACTUAL_DATE,
	PTWS.CABINET_BOM_STATUS = AX.CABINET_BOM_STATUS,
	PTWS.CABINET_BOM_COMPLETED_DATE = AX.CABINET_BOM_COMPLETED_DATE,
	PTWS.CABINET_BOM_FORECAST_DATE = AX.CABINET_BOM_FORECAST_DATE,
	--PTWS.CABINET_BOM_ACTUAL_DATE = AX.CABINET_BOM_ACTUAL_DATE,
	PTWS.HUB_BOM_STATUS = AX.HUB_BOM_STATUS,
	PTWS.HUB_BOM_COMPLETED_DATE = AX.HUB_BOM_COMPLETED_DATE,
	PTWS.HUB_BOM_FORECAST_DATE = AX.HUB_BOM_FORECAST_DATE,
	--PTWS.HUB_BOM_ACTUAL_DATE = AX.HUB_BOM_ACTUAL_DATE,
	PTWS.SPOKE_NODE_BOM_STATUS = AX.SPOKE_NODE_BOM_STATUS,
	PTWS.SPOKE_NODE_BOM_COMPLETED_DATE = AX.SPOKE_NODE_BOM_COMPLETED_DATE,
	PTWS.SPOKE_NODE_BOM_FORECAST_DATE = AX.SPOKE_NODE_BOM_FORECAST_DATE,
	--PTWS.SPOKE_NODE_BOM_ACTUAL_DATE = AX.SPOKE_NODE_BOM_ACTUAL_DATE,
	PTWS.REMOTE_BOM_STATUS = AX.REMOTE_BOM_STATUS,
	PTWS.REMOTE_BOM_COMPLETED_DATE = AX.REMOTE_BOM_COMPLETED_DATE,
	PTWS.REMOTE_BOM_FORECAST_DATE = AX.REMOTE_BOM_FORECAST_DATE,
	--PTWS.REMOTE_BOM_ACTUAL_DATE = AX.REMOTE_BOM_ACTUAL_DATE,
	PTWS.CSR_ENSE_BOM_STATUS = AX.CSR_ENSE_BOM_STATUS,
	PTWS.CSR_ENSE_BOM_COMPLETED_DATE = AX.CSR_ENSE_BOM_COMPLETED_DATE,
	PTWS.CSR_ENSE_BOM_FORECAST_DATE = AX.CSR_ENSE_BOM_FORECAST_DATE,
	--PTWS.CSR_ENSE_BOM_ACTUAL_DATE = AX.CSR_ENSE_BOM_ACTUAL_DATE,
	PTWS.BASEBAND_BOM_STATUS = AX.BASEBAND_BOM_STATUS,
	PTWS.BASEBAND_BOM_COMPLETED_DATE = AX.BASEBAND_BOM_COMPLETED_DATE,
	PTWS.BASEBAND_BOM_FORECAST_DATE = AX.BASEBAND_BOM_FORECAST_DATE,
	--PTWS.BASEBAND_BOM_ACTUAL_DATE = AX.BASEBAND_BOM_ACTUAL_DATE,
	PTWS.TRANSPORT_BOM_STATUS = AX.TRANSPORT_BOM_STATUS,
	PTWS.TRANSPORT_BOM_COMPLETED_DATE = AX.TRANSPORT_BOM_COMPLETED_DATE,
	PTWS.TRANSPORT_BOM_FORECAST_DATE = AX.TRANSPORT_BOM_FORECAST_DATE,
	--PTWS.TRANSPORT_BOM_ACTUAL_DATE = AX.TRANSPORT_BOM_ACTUAL_DATE,
	PTWS.CND_BOM_STATUS = AX.CND_BOM_STATUS,
	PTWS.CND_BOM_COMPLETED_DATE = AX.CND_BOM_COMPLETED_DATE,
	PTWS.CND_BOM_FORECAST_DATE = AX.CND_BOM_FORECAST_DATE,
	--PTWS.CND_BOM_ACTUAL_DATE = AX.CND_BOM_ACTUAL_DATE,
		PTWS.LAST_MODIFIED_BY = v_lastModifiedBy,
		PTWS.LAST_MODIFIED_DATE = SYSDATE
	WHERE
		PTWS.SITE_PROJECTS_ID = AX.SITE_PROJECTS_ID;

	v_updatecount := SQL%rowcount;

		if(v_updatecount = 0)
		then
			INSERT INTO PROJECT_TRACKER_WORKSTEP_STATUS(
				SITE_PROJECTS_ID,ACTIVATION_STATUS,ACTIVATION_COMPLETED_DATE,ACTIVATION_FORECAST_DATE,
				ACTIVATION_NON_RF_STATUS,ACTIVATION_NON_RF_COMPLETED_DATE,ACTIVATION_NON_RF_FORECAST_DATE,
				AE_STATUS,AE_COMPLETED_DATE,AE_FORECAST_DATE,
				AM_FURTHER_STUDY_STATUS,AM_FURTHER_STUDY_COMPLETED_DATE,AM_FURTHER_STUDY_FORECAST_DATE,
				ASR_FORM_STATUS,ASR_FORM_COMPLETED_DATE,ASR_FORM_FORECAST_DATE,
				BOM_COMPLETE_STATUS,BOM_COMPLETE_COMPLETED_DATE,BOM_COMPLETE_FORECAST_DATE,
				BUILD_CONSTRUCTION_COMPLETE_STATUS,BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE,BUILD_CONSTRUCTION_COMPLETE_FORECAST_DATE,
				CANDIDATE_ACCEPT_STATUS,CANDIDATE_ACCEPT_COMPLETED_DATE,CANDIDATE_ACCEPT_FORECAST_DATE,
				CANDIDATE_SELECTION_STATUS,CANDIDATE_SELECTION_COMPLETED_DATE,CANDIDATE_SELECTION_FORECAST_DATE,
				CANDIDATE_SUBMIT_STATUS,CANDIDATE_SUBMIT_COMPLETED_DATE,CANDIDATE_SUBMIT_FORECAST_DATE,
				CARRIER_AGREEMENTS_STATUS,CARRIER_AGREEMENTS_COMPLETED_DATE,CARRIER_AGREEMENTS_FORECAST_DATE,
				CLOSEOUT_DOCUMENTS_STATUS,CLOSEOUT_DOCUMENTS_COMPLETED_DATE,CLOSEOUT_DOCUMENTS_FORECAST_DATE,
				CLOSEOUT_DOCUMENTS_UPLOAD_STATUS,CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE,CLOSEOUT_DOCUMENTS_UPLOAD_FORECAST_DATE,
				CONFIRM_E911_ADDRESS_STATUS,CONFIRM_E911_ADDRESS_COMPLETED_DATE,CONFIRM_E911_ADDRESS_FORECAST_DATE,
		CONFIRM_E911_REQUIRED_STATUS,CONFIRM_E911_REQUIRED_COMPLETED_DATE,CONFIRM_E911_REQUIRED_FORECAST_DATE,
				CONFIRM_E911_SUBMITTED_STATUS,CONFIRM_E911_SUBMITTED_COMPLETED_DATE,CONFIRM_E911_SUBMITTED_FORECAST_DATE,
				CONFIRM_TVW_RECEIVED_STATUS,CONFIRM_TVW_RECEIVED_COMPLETED_DATE,CONFIRM_TVW_RECEIVED_FORECAST_DATE,
		E911_READINESS_STATUS,E911_READINESS_COMPLETED_DATE,E911_READINESS_FORECAST_DATE,
				CONQUEST_STATUS,CONQUEST_COMPLETED_DATE,CONQUEST_FORECAST_DATE,
				CONSTRUCTION_48HR_REVIEW_STATUS,CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE,CONSTRUCTION_48HR_REVIEW_FORECAST_DATE,
				CONSTRUCTION_FORM_STATUS,CONSTRUCTION_FORM_COMPLETED_DATE,CONSTRUCTION_FORM_FORECAST_DATE,
				CONSTRUCTION_READY_STATUS,CONSTRUCTION_READY_COMPLETED_DATE,CONSTRUCTION_READY_FORECAST_DATE,
				CONSTRUCTION_READY_RTC_STATUS,CONSTRUCTION_READY_RTC_COMPLETED_DATE,CONSTRUCTION_READY_RTC_FORECAST_DATE,
				CONSTRUCTION_REVIEW_STATUS,CONSTRUCTION_REVIEW_COMPLETED_DATE,CONSTRUCTION_REVIEW_FORECAST_DATE,
				CQ_DAY_0_VALIDATION_COMPLETE_STATUS,CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE,CQ_DAY_0_VALIDATION_COMPLETE_FORECAST_DATE,
				CQ_DAY_1_VALIDATION_COMPLETE_STATUS,CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE,CQ_DAY_1_VALIDATION_COMPLETE_FORECAST_DATE,
				CQ_DAY_2_VALIDATION_COMPLETE_STATUS,CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE,CQ_DAY_2_VALIDATION_COMPLETE_FORECAST_DATE,
				CQ_VCP_FAR_EDGE_CIQ_COMPLETE_STATUS,CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE,CQ_VCP_FAR_EDGE_CIQ_COMPLETE_FORECAST_DATE,
				CREATE_CQ_STATUS,CREATE_CQ_COMPLETED_DATE,CREATE_CQ_FORECAST_DATE,
				CREATE_PROJECT_STATUS,CREATE_PROJECT_COMPLETED_DATE,
				CREATE_RFDS_STATUS,CREATE_RFDS_COMPLETED_DATE,
				DC_DISCOVERY_STATUS,DC_DISCOVERY_COMPLETED_DATE,DC_DISCOVERY_FORECAST_DATE,
				E911_STATUS,E911_COMPLETED_DATE,E911_FORECAST_DATE,
				EDGE_EQUIPMENT_CLOSEOUT_STATUS,EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE,EDGE_EQUIPMENT_CLOSEOUT_FORECAST_DATE,
				EDGE_EQUIPMENT_INFORMATION_STATUS,EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE,EDGE_EQUIPMENT_INFORMATION_FORECAST_DATE,
				EDGE_EQUIPMENT_INSTALL_STATUS,EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE,EDGE_EQUIPMENT_INSTALL_FORECAST_DATE,
				EDGE_IMPLEMENTATION_STATUS,EDGE_IMPLEMENTATION_COMPLETED_DATE,EDGE_IMPLEMENTATION_FORECAST_DATE,
				EDGE_MEC_STATUS,EDGE_MEC_COMPLETED_DATE,EDGE_MEC_FORECAST_DATE,
				EDGE_PROJECT_INFO_STATUS,EDGE_PROJECT_INFO_COMPLETED_DATE,EDGE_PROJECT_INFO_FORECAST_DATE,
				EDGE_PROJECT_PEC_STATUS,EDGE_PROJECT_PEC_COMPLETED_DATE,EDGE_PROJECT_PEC_FORECAST_DATE,
				EDGE_PROJECT_PSR_STATUS,EDGE_PROJECT_PSR_COMPLETED_DATE,EDGE_PROJECT_PSR_FORECAST_DATE,
				EDGE_PSC_VETTING_STATUS,EDGE_PSC_VETTING_COMPLETED_DATE,EDGE_PSC_VETTING_FORECAST_DATE,
				EDGE_VENDOR_RATING_STATUS,EDGE_VENDOR_RATING_COMPLETED_DATE,EDGE_VENDOR_RATING_FORECAST_DATE,
				EDGE_VENDOR_SERVICE_INSTALL_STATUS,EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE,EDGE_VENDOR_SERVICE_INSTALL_FORECAST_DATE,
				EDGE_MANAGERS_CUSTOM_REPORTS_STATUS,EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE,EDGE_MANAGERS_CUSTOM_REPORTS_FORECAST_DATE,
				EDGE_PROJECT_SLA_STATUS,EDGE_PROJECT_SLA_COMPLETED_DATE,EDGE_PROJECT_SLA_FORECAST_DATE,
				EDGE_PARTNER_PROJECT_REQUEST_STATUS,EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE,EDGE_PARTNER_PROJECT_REQUEST_FORECAST_DATE,
				EDGE_DESIGN_REVIEW_STATUS,EDGE_DESIGN_REVIEW_COMPLETED_DATE,EDGE_DESIGN_REVIEW_FORECAST_DATE,
				EDGE_PLANNING_REVIEW_STATUS,EDGE_PLANNING_REVIEW_COMPLETED_DATE,EDGE_PLANNING_REVIEW_FORECAST_DATE,
				ENVIRONMENTAL_DUE_DILIGENCE_STATUS,ENVIRONMENTAL_DUE_DILIGENCE_COMPLETED_DATE,ENVIRONMENTAL_DUE_DILIGENCE_FORECAST_DATE,
				ENVIRONMENTAL_REVIEW_STATUS,ENVIRONMENTAL_REVIEW_COMPLETED_DATE,ENVIRONMENTAL_REVIEW_FORECAST_DATE,
				ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_STATUS,ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE, ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_FORECAST_DATE,
				ENV_CONST_CLOSEOUT_INFO_STATUS,ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE,ENV_CONST_CLOSEOUT_INFO_FORECAST_DATE,
				EQUIPMENT_STATUS,EQUIPMENT_COMPLETED_DATE,EQUIPMENT_FORECAST_DATE,
				EQUIPMENT_COMPLETE_STATUS,EQUIPMENT_COMPLETE_COMPLETED_DATE,EQUIPMENT_COMPLETE_FORECAST_DATE,
				EQUIPMENT_PROCUREMENT_COMPLETE_STATUS,EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE,EQUIPMENT_PROCUREMENT_COMPLETE_FORECAST_DATE,
				FAA_FORM_STATUS,FAA_FORM_COMPLETED_DATE,FAA_FORM_FORECAST_DATE,
				FAR_EDGE_INSTANTIATION_STATUS,FAR_EDGE_INSTANTIATION_COMPLETED_DATE,FAR_EDGE_INSTANTIATION_FORECAST_DATE,
				FULL_CONSTRUCTION_APPROVAL_STATUS,FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE,FULL_CONSTRUCTION_APPROVAL_FORECAST_DATE,
				FUNDING_VERIFICATION_STATUS,FUNDING_VERIFICATION_COMPLETED_DATE,FUNDING_VERIFICATION_FORECAST_DATE,
				GLOBAL_EHS_REVIEW_STATUS,GLOBAL_EHS_REVIEW_COMPLETED_DATE,GLOBAL_EHS_REVIEW_FORECAST_DATE,
				GROUND_ONLY_APPROVAL_STATUS,GROUND_ONLY_APPROVAL_COMPLETED_DATE,GROUND_ONLY_APPROVAL_FORECAST_DATE,
				HUB_READY_STATUS,HUB_READY_COMPLETED_DATE,HUB_READY_FORECAST_DATE,
				IMPLEMENTATION_ACCEPTED_STATUS,IMPLEMENTATION_ACCEPTED_COMPLETED_DATE,IMPLEMENTATION_ACCEPTED_FORECAST_DATE,
				INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_STATUS,INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE,INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_FORECAST_DATE,
				INITIAL_SAFETY_INFORMATION_COMPLETED_STATUS,INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,INITIAL_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
				INITIATIVE_VERIFICATION_STATUS,INITIATIVE_VERIFICATION_COMPLETED_DATE,INITIATIVE_VERIFICATION_FORECAST_DATE,
				INSERVICE_DOCUMENTS_STATUS,INSERVICE_DOCUMENTS_COMPLETED_DATE,INSERVICE_DOCUMENTS_FORECAST_DATE,
				INTEGRATION_STATUS,INTEGRATION_COMPLETED_DATE,INTEGRATION_FORECAST_DATE,
				INTERNATIONAL_BORDER_STATUS,INTERNATIONAL_BORDER_COMPLETED_DATE,INTERNATIONAL_BORDER_FORECAST_DATE,
				IP_COMPLETE_STATUS,IP_COMPLETE_COMPLETED_DATE,IP_COMPLETE_FORECAST_DATE,
				LEASING_STATUS,LEASING_COMPLETED_DATE,LEASING_FORECAST_DATE,
				LOCATION_CODE_CREATED_STATUS,LOCATION_CODE_CREATED_COMPLETED_DATE,LOCATION_CODE_CREATED_FORECAST_DATE,
				MICROWAVE_STATUS,MICROWAVE_COMPLETED_DATE,MICROWAVE_FORECAST_DATE,
				MID_PROJECT_REVIEW_STATUS,MID_PROJECT_REVIEW_COMPLETED_DATE,MID_PROJECT_REVIEW_FORECAST_DATE,
				NETWORK_ASSURANCE_STATUS,NETWORK_ASSURANCE_COMPLETED_DATE,NETWORK_ASSURANCE_FORECAST_DATE,
				ONE_FIBER_STATUS,ONE_FIBER_COMPLETED_DATE,ONE_FIBER_FORECAST_DATE,
				OSHA_ROOFTOP_ASSESSMENT_STATUS,OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE,OSHA_ROOFTOP_ASSESSMENT_FORECAST_DATE,
				PERMITTING_STATUS,PERMITTING_COMPLETED_DATE,PERMITTING_FORECAST_DATE,
				PHOTO_DOCUMENTS_STATUS,PHOTO_DOCUMENTS_COMPLETED_DATE,PHOTO_DOCUMENTS_FORECAST_DATE,
				PHYSICAL_CONSTRUCTION_COMPLETE_STATUS,PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE,PHYSICAL_CONSTRUCTION_COMPLETE_FORECAST_DATE,
				POST_ROOFTOP_AUDIT_COMPLETED_STATUS,POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE,POST_ROOFTOP_AUDIT_COMPLETED_FORECAST_DATE,
				POST_SAFETY_INFORMATION_COMPLETED_STATUS,POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,POST_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
				POST_TCN_STATUS,POST_TCN_COMPLETED_DATE,POST_TCN_FORECAST_DATE,
				POWER_STATUS,POWER_COMPLETED_DATE,POWER_FORECAST_DATE,
		POWER_VETTING_STATUS,POWER_VETTING_COMPLETED_DATE,POWER_VETTING_FORECAST_DATE,
				POWER_COMPLETE_STATUS,POWER_COMPLETE_COMPLETED_DATE,POWER_COMPLETE_FORECAST_DATE,
				POWER_UTILITIES_TERMINATION_STATUS,POWER_UTILITIES_TERMINATION_COMPLETED_DATE,POWER_UTILITIES_TERMINATION_FORECAST_DATE,
				PRE_TCN_STATUS,PRE_TCN_COMPLETED_DATE,PRE_TCN_FORECAST_DATE,
				REAL_ESTATE_CONFIDENCE_SIGN_OFF_STATUS,REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE,REAL_ESTATE_CONFIDENCE_SIGN_OFF_FORECAST_DATE,
				REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_STATUS,REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_COMPLETED_DATE,REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_FORECAST_DATE,
				PROJECT_STARTED_STATUS,PROJECT_STARTED_COMPLETED_DATE,PROJECT_STARTED_FORECAST_DATE,
				PROJECT_STATUS_VERIFICATION_STATUS,PROJECT_STATUS_VERIFICATION_COMPLETED_DATE,PROJECT_STATUS_VERIFICATION_FORECAST_DATE,
				PSC_CONSTRUCTION_STATUS,PSC_CONSTRUCTION_COMPLETED_DATE,PSC_CONSTRUCTION_FORECAST_DATE,
				PSC_DESIGN_STATUS,PSC_DESIGN_COMPLETED_DATE,PSC_DESIGN_FORECAST_DATE,
				PSC_IMPLEMENTATION_STATUS,PSC_IMPLEMENTATION_COMPLETED_DATE,PSC_IMPLEMENTATION_FORECAST_DATE,
				PSC_PRE_CONSTRUCTION_STATUS,PSC_PRE_CONSTRUCTION_COMPLETED_DATE,PSC_PRE_CONSTRUCTION_FORECAST_DATE,
				PSC_PROJ_DETAILS_STATUS,PSC_PROJ_DETAILS_COMPLETED_DATE,PSC_PROJ_DETAILS_FORECAST_DATE,
				PSC_MAJOR_MATERIAL_STATUS,PSC_MAJOR_MATERIAL_COMPLETED_DATE,PSC_MAJOR_MATERIAL_FORECAST_DATE,
				PSC_MEC_DELIVERABLES_STATUS,PSC_MEC_DELIVERABLES_COMPLETED_DATE,PSC_MEC_DELIVERABLES_FORECAST_DATE,
				PSC_ASSESSMENT_AND_PLANNING_STATUS,PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE,PSC_ASSESSMENT_AND_PLANNING_FORECAST_DATE,
				PSLC_FUNDING_STATUS,PSLC_FUNDING_COMPLETED_DATE,PSLC_FUNDING_FORECAST_DATE,
				QUIET_ZONE_STATUS,QUIET_ZONE_COMPLETED_DATE,QUIET_ZONE_FORECAST_DATE,
				READY_FOR_ASSURANCE_STATUS,READY_FOR_ASSURANCE_COMPLETED_DATE,READY_FOR_ASSURANCE_FORECAST_DATE,
				REAL_ESTATE_COMPLETE_STATUS,REAL_ESTATE_COMPLETE_COMPLETED_DATE,REAL_ESTATE_COMPLETE_FORECAST_DATE,
				REGULATORY_STATUS,REGULATORY_COMPLETED_DATE,REGULATORY_FORECAST_DATE,
				REGULATORY_DISMANTLEMENT_STATUS,REGULATORY_DISMANTLEMENT_COMPLETED_DATE,REGULATORY_DISMANTLEMENT_FORECAST_DATE,
				REGULATORY_INSERVICE_STATUS,REGULATORY_INSERVICE_COMPLETED_DATE,REGULATORY_INSERVICE_FORECAST_DATE,
				RELEASED_TO_BUILD_STATUS,RELEASED_TO_BUILD_COMPLETED_DATE,RELEASED_TO_BUILD_FORECAST_DATE,
				RFDS_STATUS,RFDS_COMPLETED_DATE,RFDS_FORECAST_DATE,
				RFE_STATUS,RFE_COMPLETED_DATE,RFE_FORECAST_DATE,
				--RFE_MITIGATION_DOCS_STATUS,RFE_MITIGATION_DOCS_COMPLETED_DATE,RFE_MITIGATION_DOCS_FORECAST_DATE,
				RF_48HR_REVIEW_STATUS,RF_48HR_REVIEW_COMPLETED_DATE,RF_48HR_REVIEW_FORECAST_DATE,
		REGULATORY_48HR_REVIEW_STATUS,REGULATORY_48HR_REVIEW_COMPLETED_DATE,REGULATORY_48HR_REVIEW_FORECAST_DATE,
		--FAA/ASR changes
		FAA_ASR_TRANSFER_STATUS,FAA_ASR_TRANSFER_COMPLETED_DATE,FAA_ASR_TRANSFER_FORECAST_DATE,
		--FAA/ASR changes
				RF_ACCEPT_RANKING_STATUS,RF_ACCEPT_RANKING_COMPLETED_DATE,RF_ACCEPT_RANKING_FORECAST_DATE,
				RF_COMPLETE_STATUS,RF_COMPLETE_COMPLETED_DATE,RF_COMPLETE_FORECAST_DATE,
				SELECT_VENDOR_STATUS,SELECT_VENDOR_COMPLETED_DATE,SELECT_VENDOR_FORECAST_DATE,
				SP_COMPLETE_STATUS,SP_COMPLETE_COMPLETED_DATE,SP_COMPLETE_FORECAST_DATE,
				STRUCTURE_FORM_STATUS,STRUCTURE_FORM_COMPLETED_DATE,STRUCTURE_FORM_FORECAST_DATE,
				SUBMIT_FOR_NEPA_STATUS,SUBMIT_FOR_NEPA_COMPLETED_DATE,SUBMIT_FOR_NEPA_FORECAST_DATE,
				SUBMIT_RFDS_STATUS,SUBMIT_RFDS_COMPLETED_DATE,SUBMIT_RFDS_FORECAST_DATE,
				RFDS_IBV_STATUS,RFDS_IBV_COMPLETED_DATE,RFDS_IBV_FORECAST_DATE,
				SURVEY_STATUS,SURVEY_COMPLETED_DATE,SURVEY_FORECAST_DATE,
				PROJ_TERRITORY_REVIEW_STATUS,TERRITORY_REVIEW_COMPLETED_DATE,TERRITORY_REVIEW_FORECAST_DATE,
				TRANSPORT_STATUS,TRANSPORT_COMPLETED_DATE,TRANSPORT_FORECAST_DATE,
				TRANSPORT_COMPLETE_STATUS,TRANSPORT_COMPLETE_COMPLETED_DATE,TRANSPORT_COMPLETE_FORECAST_DATE,
				TRANSPORT_CONTRACT_STATUS,TRANSPORT_CONTRACT_COMPLETED_DATE,TRANSPORT_CONTRACT_FORECAST_DATE,
				TRANSPORT_DELIVERY_STATUS,TRANSPORT_DELIVERY_COMPLETED_DATE,TRANSPORT_DELIVERY_FORECAST_DATE,
				TRANSPORT_REVIEW_STATUS,TRANSPORT_REVIEW_COMPLETED_DATE,TRANSPORT_REVIEW_FORECAST_DATE,
				TSDF_REVIEW_STATUS,TSDF_REVIEW_COMPLETED_DATE,TSDF_REVIEW_FORECAST_DATE,
				UTILITY_INFORMATION_STATUS,UTILITY_INFORMATION_COMPLETED_DATE,UTILITY_INFORMATION_FORECAST_DATE,
				VCP_FAR_EDGE_INSTALLATION_STATUS,VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE,VCP_FAR_EDGE_INSTALLATION_FORECAST_DATE,
				VCP_ORCHESTRATION_STATUS,VCP_ORCHESTRATION_COMPLETED_DATE,VCP_ORCHESTRATION_FORECAST_DATE,
				VCP_SUBCLOUD_DEPLOYMENT_INITIATED_STATUS,VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE,VCP_SUBCLOUD_DEPLOYMENT_INITIATED_FORECAST_DATE,
				VDU_DAY_0_COMPLETE_STATUS,VDU_DAY_0_COMPLETE_COMPLETED_DATE,VDU_DAY_0_COMPLETE_FORECAST_DATE,
				VDU_DAY_1_COMPLETE_STATUS,VDU_DAY_1_COMPLETE_COMPLETED_DATE,VDU_DAY_1_COMPLETE_FORECAST_DATE,
				VDU_DEPLOY_READINESS_STATUS,VDU_DEPLOY_READINESS_COMPLETED_DATE,VDU_DEPLOY_READINESS_FORECAST_DATE,
		-- AWAT_MATERIAL_ALLOCATION_STATUS,AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE,AWAT_MATERIAL_ALLOCATION_FORECAST_DATE,
				GENERATE_BOM_STATUS,GENERATE_BOM_COMPLETED_DATE,GENERATE_BOM_FORECAST_DATE,
				ZONING_STATUS,ZONING_COMPLETED_DATE,ZONING_FORECAST_DATE,
				EQUIPMENT_CREATION_STATUS,EQUIPMENT_CREATION_COMPLETED_DATE,EQUIPMENT_CREATION_FORECAST_DATE,
				TOWER_BOM_STATUS,TOWER_BOM_COMPLETED_DATE,TOWER_BOM_FORECAST_DATE,--TOWER_BOM_ACTUAL_DATE,
				SHELTER_BOM_STATUS,SHELTER_BOM_COMPLETED_DATE,SHELTER_BOM_FORECAST_DATE,--SHELTER_BOM_ACTUAL_DATE,
				OUTDOOR_BOM_STATUS ,OUTDOOR_BOM_COMPLETED_DATE ,OUTDOOR_BOM_FORECAST_DATE ,--OUTDOOR_BOM_ACTUAL_DATE ,
				AC_POWER_BOM_STATUS ,AC_POWER_BOM_COMPLETED_DATE ,AC_POWER_BOM_FORECAST_DATE ,--AC_POWER_BOM_ACTUAL_DATE ,
				DC_POWER_BOM_STATUS ,DC_POWER_BOM_COMPLETED_DATE ,DC_POWER_BOM_FORECAST_DATE ,--DC_POWER_BOM_ACTUAL_DATE ,
				CIVIL_BOM_STATUS ,CIVIL_BOM_COMPLETED_DATE ,CIVIL_BOM_FORECAST_DATE ,--CIVIL_BOM_ACTUAL_DATE ,
				GENERATOR_BOM_STATUS ,GENERATOR_BOM_COMPLETED_DATE ,GENERATOR_BOM_FORECAST_DATE ,--GENERATOR_BOM_ACTUAL_DATE ,
				CABINET_BOM_STATUS ,CABINET_BOM_COMPLETED_DATE ,CABINET_BOM_FORECAST_DATE ,--CABINET_BOM_ACTUAL_DATE ,
				HUB_BOM_STATUS ,HUB_BOM_COMPLETED_DATE ,HUB_BOM_FORECAST_DATE ,--HUB_BOM_ACTUAL_DATE ,
				SPOKE_NODE_BOM_STATUS ,SPOKE_NODE_BOM_COMPLETED_DATE ,SPOKE_NODE_BOM_FORECAST_DATE ,--SPOKE_NODE_BOM_ACTUAL_DATE ,
				REMOTE_BOM_STATUS ,REMOTE_BOM_COMPLETED_DATE ,REMOTE_BOM_FORECAST_DATE ,--REMOTE_BOM_ACTUAL_DATE ,
				CSR_ENSE_BOM_STATUS ,CSR_ENSE_BOM_COMPLETED_DATE ,CSR_ENSE_BOM_FORECAST_DATE ,--CSR_ENSE_BOM_ACTUAL_DATE ,
				BASEBAND_BOM_STATUS ,BASEBAND_BOM_COMPLETED_DATE ,BASEBAND_BOM_FORECAST_DATE ,--BASEBAND_BOM_ACTUAL_DATE ,
				TRANSPORT_BOM_STATUS ,TRANSPORT_BOM_COMPLETED_DATE ,TRANSPORT_BOM_FORECAST_DATE ,--TRANSPORT_BOM_ACTUAL_DATE ,
				CND_BOM_STATUS ,CND_BOM_COMPLETED_DATE ,CND_BOM_FORECAST_DATE ,--CND_BOM_ACTUAL_DATE ,
				LAST_MODIFIED_BY,LAST_MODIFIED_DATE
			)
			VALUES (
				AX.SITE_PROJECTS_ID,AX.ACTIVATION_STATUS,AX.ACTIVATION_COMPLETED_DATE,AX.ACTIVATION_FORECAST_DATE,
				AX.ACTIVATION_NON_RF_STATUS,AX.ACTIVATION_NON_RF_COMPLETED_DATE,AX.ACTIVATION_NON_RF_FORECAST_DATE,
				AX.AE_STATUS,AX.AE_COMPLETED_DATE,AX.AE_FORECAST_DATE,
				AX.AM_FURTHER_STUDY_STATUS,AX.AM_FURTHER_STUDY_COMPLETED_DATE,AX.AM_FURTHER_STUDY_FORECAST_DATE,
				AX.ASR_FORM_STATUS,AX.ASR_FORM_COMPLETED_DATE,AX.ASR_FORM_FORECAST_DATE,
				AX.BOM_COMPLETE_STATUS,AX.BOM_COMPLETE_COMPLETED_DATE,AX.BOM_COMPLETE_FORECAST_DATE,
				AX.BUILD_CONSTRUCTION_COMPLETE_STATUS,AX.BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE,AX.BUILD_CONSTRUCTION_COMPLETE_FORECAST_DATE,
				AX.CANDIDATE_ACCEPT_STATUS,AX.CANDIDATE_ACCEPT_COMPLETED_DATE,AX.CANDIDATE_ACCEPT_FORECAST_DATE,
				AX.CANDIDATE_SELECTION_STATUS,AX.CANDIDATE_SELECTION_COMPLETED_DATE,AX.CANDIDATE_SELECTION_FORECAST_DATE,
				AX.CANDIDATE_SUBMIT_STATUS,AX.CANDIDATE_SUBMIT_COMPLETED_DATE,AX.CANDIDATE_SUBMIT_FORECAST_DATE,
				AX.CARRIER_AGREEMENTS_STATUS,AX.CARRIER_AGREEMENTS_COMPLETED_DATE,AX.CARRIER_AGREEMENTS_FORECAST_DATE,
				AX.CLOSEOUT_DOCUMENTS_STATUS,AX.CLOSEOUT_DOCUMENTS_COMPLETED_DATE,AX.CLOSEOUT_DOCUMENTS_FORECAST_DATE,
				AX.CLOSEOUT_DOCUMENTS_UPLOAD_STATUS,AX.CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE,AX.CLOSEOUT_DOCUMENTS_UPLOAD_FORECAST_DATE,
				AX.CONFIRM_E911_ADDRESS_STATUS,AX.CONFIRM_E911_ADDRESS_COMPLETED_DATE,AX.CONFIRM_E911_ADDRESS_FORECAST_DATE,
		AX.CONFIRM_E911_REQUIRED_STATUS,AX.CONFIRM_E911_REQUIRED_COMPLETED_DATE,AX.CONFIRM_E911_REQUIRED_FORECAST_DATE,
				AX.CONFIRM_E911_SUBMITTED_STATUS,AX.CONFIRM_E911_SUBMITTED_COMPLETED_DATE,AX.CONFIRM_E911_SUBMITTED_FORECAST_DATE,
				AX.CONFIRM_TVW_RECEIVED_STATUS,AX.CONFIRM_TVW_RECEIVED_COMPLETED_DATE,AX.CONFIRM_TVW_RECEIVED_FORECAST_DATE,
		AX.E911_READINESS_STATUS,AX.E911_READINESS_COMPLETED_DATE,AX.E911_READINESS_FORECAST_DATE,
				AX.CONQUEST_STATUS,AX.CONQUEST_COMPLETED_DATE,AX.CONQUEST_FORECAST_DATE,
				AX.CONSTRUCTION_48HR_REVIEW_STATUS,AX.CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE,AX.CONSTRUCTION_48HR_REVIEW_FORECAST_DATE,
				AX.CONSTRUCTION_FORM_STATUS,AX.CONSTRUCTION_FORM_COMPLETED_DATE,AX.CONSTRUCTION_FORM_FORECAST_DATE,
				AX.CONSTRUCTION_READY_STATUS,AX.CONSTRUCTION_READY_COMPLETED_DATE,AX.CONSTRUCTION_READY_FORECAST_DATE,
				AX.CONSTRUCTION_READY_RTC_STATUS,AX.CONSTRUCTION_READY_RTC_COMPLETED_DATE,AX.CONSTRUCTION_READY_RTC_FORECAST_DATE,
				AX.CONSTRUCTION_REVIEW_STATUS,AX.CONSTRUCTION_REVIEW_COMPLETED_DATE,AX.CONSTRUCTION_REVIEW_FORECAST_DATE,
				AX.CQ_DAY_0_VALIDATION_COMPLETE_STATUS,AX.CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE,AX.CQ_DAY_0_VALIDATION_COMPLETE_FORECAST_DATE,
				AX.CQ_DAY_1_VALIDATION_COMPLETE_STATUS,AX.CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE,AX.CQ_DAY_1_VALIDATION_COMPLETE_FORECAST_DATE,
				AX.CQ_DAY_2_VALIDATION_COMPLETE_STATUS,AX.CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE,AX.CQ_DAY_2_VALIDATION_COMPLETE_FORECAST_DATE,
				AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_STATUS,AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE,AX.CQ_VCP_FAR_EDGE_CIQ_COMPLETE_FORECAST_DATE,
				AX.CREATE_CQ_STATUS,AX.CREATE_CQ_COMPLETED_DATE,AX.CREATE_CQ_FORECAST_DATE,
				AX.CREATE_PROJECT_STATUS,AX.CREATE_PROJECT_COMPLETED_DATE,
				AX.CREATE_RFDS_STATUS,AX.CREATE_RFDS_COMPLETED_DATE,
				AX.DC_DISCOVERY_STATUS,AX.DC_DISCOVERY_COMPLETED_DATE,AX.DC_DISCOVERY_FORECAST_DATE,
				AX.E911_STATUS,AX.E911_COMPLETED_DATE,AX.E911_FORECAST_DATE,
				AX.EDGE_EQUIPMENT_CLOSEOUT_STATUS,AX.EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE,AX.EDGE_EQUIPMENT_CLOSEOUT_FORECAST_DATE,
				AX.EDGE_EQUIPMENT_INFORMATION_STATUS,AX.EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE,AX.EDGE_EQUIPMENT_INFORMATION_FORECAST_DATE,
				AX.EDGE_EQUIPMENT_INSTALL_STATUS,AX.EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE,AX.EDGE_EQUIPMENT_INSTALL_FORECAST_DATE,
				AX.EDGE_IMPLEMENTATION_STATUS,AX.EDGE_IMPLEMENTATION_COMPLETED_DATE,AX.EDGE_IMPLEMENTATION_FORECAST_DATE,
				AX.EDGE_MEC_STATUS,AX.EDGE_MEC_COMPLETED_DATE,AX.EDGE_MEC_FORECAST_DATE,
				AX.EDGE_PROJECT_INFO_STATUS,AX.EDGE_PROJECT_INFO_COMPLETED_DATE,AX.EDGE_PROJECT_INFO_FORECAST_DATE,
				AX.EDGE_PROJECT_PEC_STATUS,AX.EDGE_PROJECT_PEC_COMPLETED_DATE,AX.EDGE_PROJECT_PEC_FORECAST_DATE,
				AX.EDGE_PROJECT_PSR_STATUS,AX.EDGE_PROJECT_PSR_COMPLETED_DATE,AX.EDGE_PROJECT_PSR_FORECAST_DATE,
				AX.EDGE_PSC_VETTING_STATUS,AX.EDGE_PSC_VETTING_COMPLETED_DATE,AX.EDGE_PSC_VETTING_FORECAST_DATE,
				AX.EDGE_VENDOR_RATING_STATUS,AX.EDGE_VENDOR_RATING_COMPLETED_DATE,AX.EDGE_VENDOR_RATING_FORECAST_DATE,
				AX.EDGE_PROJECT_SLA_STATUS,AX.EDGE_PROJECT_SLA_COMPLETED_DATE,AX.EDGE_PROJECT_SLA_FORECAST_DATE,
				AX.EDGE_PARTNER_PROJECT_REQUEST_STATUS,AX.EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE,AX.EDGE_PARTNER_PROJECT_REQUEST_FORECAST_DATE,
				AX.EDGE_DESIGN_REVIEW_STATUS,AX.EDGE_DESIGN_REVIEW_COMPLETED_DATE,AX.EDGE_DESIGN_REVIEW_FORECAST_DATE,
				AX.EDGE_PLANNING_REVIEW_STATUS,AX.EDGE_PLANNING_REVIEW_COMPLETED_DATE,AX.EDGE_PLANNING_REVIEW_FORECAST_DATE,
				AX.EDGE_VENDOR_SERVICE_INSTALL_STATUS,AX.EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE,AX.EDGE_VENDOR_SERVICE_INSTALL_FORECAST_DATE,
				AX.ENVIRONMENTAL_DUE_DILIGENCE_STATUS,AX.ENVIRONMENTAL_DUE_DILIGENCE_COMPLETED_DATE,AX.ENVIRONMENTAL_DUE_DILIGENCE_FORECAST_DATE,
				AX.ENVIRONMENTAL_REVIEW_STATUS,AX.ENVIRONMENTAL_REVIEW_COMPLETED_DATE,AX.ENVIRONMENTAL_REVIEW_FORECAST_DATE,
		AX.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_STATUS,AX.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE,AX.ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_FORECAST_DATE,
				AX.ENV_CONST_CLOSEOUT_INFO_STATUS,AX.ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE,AX.ENV_CONST_CLOSEOUT_INFO_FORECAST_DATE,
				AX.EQUIPMENT_STATUS,AX.EQUIPMENT_COMPLETED_DATE,AX.EQUIPMENT_FORECAST_DATE,
				AX.EQUIPMENT_COMPLETE_STATUS,AX.EQUIPMENT_COMPLETE_COMPLETED_DATE,AX.EQUIPMENT_COMPLETE_FORECAST_DATE,
				AX.EQUIPMENT_PROCUREMENT_COMPLETE_STATUS,AX.EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE,AX.EQUIPMENT_PROCUREMENT_COMPLETE_FORECAST_DATE,
				AX.FAA_FORM_STATUS,AX.FAA_FORM_COMPLETED_DATE,AX.FAA_FORM_FORECAST_DATE,
				AX.FAR_EDGE_INSTANTIATION_STATUS,AX.FAR_EDGE_INSTANTIATION_COMPLETED_DATE,AX.FAR_EDGE_INSTANTIATION_FORECAST_DATE,
				AX.FULL_CONSTRUCTION_APPROVAL_STATUS,AX.FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE,AX.FULL_CONSTRUCTION_APPROVAL_FORECAST_DATE,
				AX.FUNDING_VERIFICATION_STATUS,AX.FUNDING_VERIFICATION_COMPLETED_DATE,AX.FUNDING_VERIFICATION_FORECAST_DATE,
				AX.GLOBAL_EHS_REVIEW_STATUS,AX.GLOBAL_EHS_REVIEW_COMPLETED_DATE,AX.GLOBAL_EHS_REVIEW_FORECAST_DATE,
				AX.GROUND_ONLY_APPROVAL_STATUS,AX.GROUND_ONLY_APPROVAL_COMPLETED_DATE,AX.GROUND_ONLY_APPROVAL_FORECAST_DATE,
				AX.HUB_READY_STATUS,AX.HUB_READY_COMPLETED_DATE,AX.HUB_READY_FORECAST_DATE,
				AX.IMPLEMENTATION_ACCEPTED_STATUS,AX.IMPLEMENTATION_ACCEPTED_COMPLETED_DATE,AX.IMPLEMENTATION_ACCEPTED_FORECAST_DATE,
				AX.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_STATUS,AX.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE,AX.INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_FORECAST_DATE,
				AX.INITIAL_SAFETY_INFORMATION_COMPLETED_STATUS,AX.INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,AX.INITIAL_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
				AX.INITIATIVE_VERIFICATION_STATUS,AX.INITIATIVE_VERIFICATION_COMPLETED_DATE,AX.INITIATIVE_VERIFICATION_FORECAST_DATE,AX.INSERVICE_DOCUMENTS_STATUS,AX.INSERVICE_DOCUMENTS_COMPLETED_DATE,AX.INSERVICE_DOCUMENTS_FORECAST_DATE,
				AX.INTEGRATION_STATUS,AX.INTEGRATION_COMPLETED_DATE,AX.INTEGRATION_FORECAST_DATE,
				AX.INTERNATIONAL_BORDER_STATUS,AX.INTERNATIONAL_BORDER_COMPLETED_DATE,AX.INTERNATIONAL_BORDER_FORECAST_DATE,
				AX.IP_COMPLETE_STATUS,AX.IP_COMPLETE_COMPLETED_DATE,AX.IP_COMPLETE_FORECAST_DATE,
				AX.LEASING_STATUS,AX.LEASING_COMPLETED_DATE,AX.LEASING_FORECAST_DATE,
				AX.LOCATION_CODE_CREATED_STATUS,AX.LOCATION_CODE_CREATED_COMPLETED_DATE,AX.LOCATION_CODE_CREATED_FORECAST_DATE,
				AX.MICROWAVE_STATUS,AX.MICROWAVE_COMPLETED_DATE,AX.MICROWAVE_FORECAST_DATE,
				AX.MID_PROJECT_REVIEW_STATUS,AX.MID_PROJECT_REVIEW_COMPLETED_DATE,AX.MID_PROJECT_REVIEW_FORECAST_DATE,
				AX.NETWORK_ASSURANCE_STATUS,AX.NETWORK_ASSURANCE_COMPLETED_DATE,AX.NETWORK_ASSURANCE_FORECAST_DATE,
				AX.ONE_FIBER_STATUS,AX.ONE_FIBER_COMPLETED_DATE,AX.ONE_FIBER_FORECAST_DATE,
				AX.OSHA_ROOFTOP_ASSESSMENT_STATUS,AX.OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE,AX.OSHA_ROOFTOP_ASSESSMENT_FORECAST_DATE,
				AX.PERMITTING_STATUS,AX.PERMITTING_COMPLETED_DATE,AX.PERMITTING_FORECAST_DATE,
				AX.PHOTO_DOCUMENTS_STATUS,AX.PHOTO_DOCUMENTS_COMPLETED_DATE,AX.PHOTO_DOCUMENTS_FORECAST_DATE,
				AX.PHYSICAL_CONSTRUCTION_COMPLETE_STATUS,AX.PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE,AX.PHYSICAL_CONSTRUCTION_COMPLETE_FORECAST_DATE,
				AX.POST_ROOFTOP_AUDIT_COMPLETED_STATUS,AX.POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE,AX.POST_ROOFTOP_AUDIT_COMPLETED_FORECAST_DATE,
				AX.POST_SAFETY_INFORMATION_COMPLETED_STATUS,AX.POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,AX.POST_SAFETY_INFORMATION_COMPLETED_FORECAST_DATE,
				AX.POST_TCN_STATUS,AX.POST_TCN_COMPLETED_DATE,AX.POST_TCN_FORECAST_DATE,
				AX.POWER_STATUS,AX.POWER_COMPLETED_DATE,AX.POWER_FORECAST_DATE,
		AX.POWER_VETTING_STATUS,AX.POWER_VETTING_COMPLETED_DATE,AX.POWER_VETTING_FORECAST_DATE,
				AX.POWER_COMPLETE_STATUS,AX.POWER_COMPLETE_COMPLETED_DATE,AX.POWER_COMPLETE_FORECAST_DATE,
				AX.POWER_UTILITIES_TERMINATION_STATUS,AX.POWER_UTILITIES_TERMINATION_COMPLETED_DATE,AX.POWER_UTILITIES_TERMINATION_FORECAST_DATE,
				AX.PRE_TCN_STATUS,AX.PRE_TCN_COMPLETED_DATE,AX.PRE_TCN_FORECAST_DATE,
				AX.REAL_ESTATE_CONFIDENCE_SIGN_OFF_STATUS,AX.REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE,AX.REAL_ESTATE_CONFIDENCE_SIGN_OFF_FORECAST_DATE,
				AX.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_STATUS,AX.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_COMPLETED_DATE,AX.REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_FORECAST_DATE,
				AX.PROJECT_STARTED_STATUS,AX.PROJECT_STARTED_COMPLETED_DATE,AX.PROJECT_STARTED_FORECAST_DATE,
				AX.PROJECT_STATUS_VERIFICATION_STATUS,AX.PROJECT_STATUS_VERIFICATION_COMPLETED_DATE,AX.PROJECT_STATUS_VERIFICATION_FORECAST_DATE,AX.PSC_CONSTRUCTION_STATUS,AX.PSC_CONSTRUCTION_COMPLETED_DATE,AX.PSC_CONSTRUCTION_FORECAST_DATE,
				AX.PSC_DESIGN_STATUS,AX.PSC_DESIGN_COMPLETED_DATE,AX.PSC_DESIGN_FORECAST_DATE,
				AX.PSC_IMPLEMENTATION_STATUS,AX.PSC_IMPLEMENTATION_COMPLETED_DATE,AX.PSC_IMPLEMENTATION_FORECAST_DATE,
				AX.PSC_PRE_CONSTRUCTION_STATUS,AX.PSC_PRE_CONSTRUCTION_COMPLETED_DATE,AX.PSC_PRE_CONSTRUCTION_FORECAST_DATE,
				AX.PSC_PROJ_DETAILS_STATUS,AX.PSC_PROJ_DETAILS_COMPLETED_DATE,AX.PSC_PROJ_DETAILS_FORECAST_DATE,
				AX.PSC_MAJOR_MATERIAL_STATUS,AX.PSC_MAJOR_MATERIAL_COMPLETED_DATE,AX.PSC_MAJOR_MATERIAL_FORECAST_DATE,
				AX.PSC_MEC_DELIVERABLES_STATUS,AX.PSC_MEC_DELIVERABLES_COMPLETED_DATE,AX.PSC_MEC_DELIVERABLES_FORECAST_DATE,
			    AX.PSC_ASSESSMENT_AND_PLANNING_STATUS,AX.PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE,AX.PSC_ASSESSMENT_AND_PLANNING_FORECAST_DATE,
				AX.EDGE_MANAGERS_CUSTOM_REPORTS_STATUS,AX.EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE,AX.EDGE_MANAGERS_CUSTOM_REPORTS_FORECAST_DATE,
				AX.PSLC_FUNDING_STATUS,AX.PSLC_FUNDING_COMPLETED_DATE,AX.PSLC_FUNDING_FORECAST_DATE,
				AX.QUIET_ZONE_STATUS,AX.QUIET_ZONE_COMPLETED_DATE,AX.QUIET_ZONE_FORECAST_DATE,
				AX.READY_FOR_ASSURANCE_STATUS,AX.READY_FOR_ASSURANCE_COMPLETED_DATE,AX.READY_FOR_ASSURANCE_FORECAST_DATE,
				AX.REAL_ESTATE_COMPLETE_STATUS,AX.REAL_ESTATE_COMPLETE_COMPLETED_DATE,AX.REAL_ESTATE_COMPLETE_FORECAST_DATE,
				AX.REGULATORY_STATUS,AX.REGULATORY_COMPLETED_DATE,AX.REGULATORY_FORECAST_DATE,
				AX.REGULATORY_DISMANTLEMENT_STATUS,AX.REGULATORY_DISMANTLEMENT_COMPLETED_DATE,AX.REGULATORY_DISMANTLEMENT_FORECAST_DATE,
				AX.REGULATORY_INSERVICE_STATUS,AX.REGULATORY_INSERVICE_COMPLETED_DATE,AX.REGULATORY_INSERVICE_FORECAST_DATE,
				AX.RELEASED_TO_BUILD_STATUS,AX.RELEASED_TO_BUILD_COMPLETED_DATE,AX.RELEASED_TO_BUILD_FORECAST_DATE,
				AX.RFDS_STATUS,AX.RFDS_COMPLETED_DATE,AX.RFDS_FORECAST_DATE,
				AX.RFE_STATUS,AX.RFE_COMPLETED_DATE,AX.RFE_FORECAST_DATE,
				--AX.RFE_MITIGATION_DOCS_STATUS,AX.RFE_MITIGATION_DOCS_COMPLETED_DATE,AX.RFE_MITIGATION_DOCS_FORECAST_DATE,
				AX.RF_48HR_REVIEW_STATUS,AX.RF_48HR_REVIEW_COMPLETED_DATE,AX.RF_48HR_REVIEW_FORECAST_DATE,
		AX.REGULATORY_48HR_REVIEW_STATUS,AX.REGULATORY_48HR_REVIEW_COMPLETED_DATE,AX.REGULATORY_48HR_REVIEW_FORECAST_DATE,
		--FAA/ASR changes
		AX.FAA_ASR_TRANSFER_STATUS,AX.FAA_ASR_TRANSFER_COMPLETED_DATE,AX.FAA_ASR_TRANSFER_FORECAST_DATE,
		--FAA/ASR changes
				AX.RF_ACCEPT_RANKING_STATUS,AX.RF_ACCEPT_RANKING_COMPLETED_DATE,AX.RF_ACCEPT_RANKING_FORECAST_DATE,
				AX.RF_COMPLETE_STATUS,AX.RF_COMPLETE_COMPLETED_DATE,AX.RF_COMPLETE_FORECAST_DATE,
				AX.SELECT_VENDOR_STATUS,AX.SELECT_VENDOR_COMPLETED_DATE,AX.SELECT_VENDOR_FORECAST_DATE,
				AX.SP_COMPLETE_STATUS,AX.SP_COMPLETE_COMPLETED_DATE,AX.SP_COMPLETE_FORECAST_DATE,
				AX.STRUCTURE_FORM_STATUS,AX.STRUCTURE_FORM_COMPLETED_DATE,AX.STRUCTURE_FORM_FORECAST_DATE,
				AX.SUBMIT_FOR_NEPA_STATUS,AX.SUBMIT_FOR_NEPA_COMPLETED_DATE,AX.SUBMIT_FOR_NEPA_FORECAST_DATE,
				AX.SUBMIT_RFDS_STATUS,AX.SUBMIT_RFDS_COMPLETED_DATE,AX.SUBMIT_RFDS_FORECAST_DATE,
				AX.RFDS_IBV_STATUS,AX.RFDS_IBV_COMPLETED_DATE,AX.RFDS_IBV_FORECAST_DATE,
				AX.SURVEY_STATUS,AX.SURVEY_COMPLETED_DATE,AX.SURVEY_FORECAST_DATE,
				AX.PROJ_TERRITORY_REVIEW_STATUS,AX.TERRITORY_REVIEW_COMPLETED_DATE,AX.TERRITORY_REVIEW_FORECAST_DATE,
				AX.TRANSPORT_STATUS,AX.TRANSPORT_COMPLETED_DATE,AX.TRANSPORT_FORECAST_DATE,
				AX.TRANSPORT_COMPLETE_STATUS,AX.TRANSPORT_COMPLETE_COMPLETED_DATE,AX.TRANSPORT_COMPLETE_FORECAST_DATE,
				AX.TRANSPORT_CONTRACT_STATUS,AX.TRANSPORT_CONTRACT_COMPLETED_DATE,AX.TRANSPORT_CONTRACT_FORECAST_DATE,
				AX.TRANSPORT_DELIVERY_STATUS,AX.TRANSPORT_DELIVERY_COMPLETED_DATE,AX.TRANSPORT_DELIVERY_FORECAST_DATE,
				AX.TRANSPORT_REVIEW_STATUS,AX.TRANSPORT_REVIEW_COMPLETED_DATE,AX.TRANSPORT_REVIEW_FORECAST_DATE,
				AX.TSDF_REVIEW_STATUS,AX.TSDF_REVIEW_COMPLETED_DATE,AX.TSDF_REVIEW_FORECAST_DATE,
				AX.UTILITY_INFORMATION_STATUS,AX.UTILITY_INFORMATION_COMPLETED_DATE,AX.UTILITY_INFORMATION_FORECAST_DATE,
				AX.VCP_FAR_EDGE_INSTALLATION_STATUS,AX.VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE,AX.VCP_FAR_EDGE_INSTALLATION_FORECAST_DATE,
				AX.VCP_ORCHESTRATION_STATUS,AX.VCP_ORCHESTRATION_COMPLETED_DATE,AX.VCP_ORCHESTRATION_FORECAST_DATE,
				AX.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_STATUS,AX.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE,AX.VCP_SUBCLOUD_DEPLOYMENT_INITIATED_FORECAST_DATE,
				AX.VDU_DAY_0_COMPLETE_STATUS,AX.VDU_DAY_0_COMPLETE_COMPLETED_DATE,AX.VDU_DAY_0_COMPLETE_FORECAST_DATE,
				AX.VDU_DAY_1_COMPLETE_STATUS,AX.VDU_DAY_1_COMPLETE_COMPLETED_DATE,AX.VDU_DAY_1_COMPLETE_FORECAST_DATE,
				AX.VDU_DEPLOY_READINESS_STATUS,AX.VDU_DEPLOY_READINESS_COMPLETED_DATE,AX.VDU_DEPLOY_READINESS_FORECAST_DATE,
		-- AX.AWAT_MATERIAL_ALLOCATION_STATUS,AX.AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE,AX.AWAT_MATERIAL_ALLOCATION_FORECAST_DATE,
				AX.GENERATE_BOM_STATUS,AX.GENERATE_BOM_COMPLETED_DATE,AX.GENERATE_BOM_FORECAST_DATE,
				AX.ZONING_STATUS,AX.ZONING_COMPLETED_DATE,AX.ZONING_FORECAST_DATE,
				AX.EQUIPMENT_CREATION_STATUS,AX.EQUIPMENT_CREATION_COMPLETED_DATE,AX.EQUIPMENT_CREATION_FORECAST_DATE,
				AX.TOWER_BOM_STATUS,AX.TOWER_BOM_COMPLETED_DATE,AX.TOWER_BOM_FORECAST_DATE,--AX.TOWER_BOM_ACTUAL_DATE,
				AX.SHELTER_BOM_STATUS,AX.SHELTER_BOM_COMPLETED_DATE,AX.SHELTER_BOM_FORECAST_DATE,--AX.SHELTER_BOM_ACTUAL_DATE,
				AX.OUTDOOR_BOM_STATUS ,AX.OUTDOOR_BOM_COMPLETED_DATE ,AX.OUTDOOR_BOM_FORECAST_DATE ,--AX.OUTDOOR_BOM_ACTUAL_DATE ,
				AX.AC_POWER_BOM_STATUS ,AX.AC_POWER_BOM_COMPLETED_DATE ,AX.AC_POWER_BOM_FORECAST_DATE ,--AX.AC_POWER_BOM_ACTUAL_DATE ,
				AX.DC_POWER_BOM_STATUS ,AX.DC_POWER_BOM_COMPLETED_DATE ,AX.DC_POWER_BOM_FORECAST_DATE ,--AX.DC_POWER_BOM_ACTUAL_DATE ,
				AX.CIVIL_BOM_STATUS ,AX.CIVIL_BOM_COMPLETED_DATE ,AX.CIVIL_BOM_FORECAST_DATE ,--AX.CIVIL_BOM_ACTUAL_DATE ,
				AX.GENERATOR_BOM_STATUS ,AX.GENERATOR_BOM_COMPLETED_DATE ,AX.GENERATOR_BOM_FORECAST_DATE ,--AX.GENERATOR_BOM_ACTUAL_DATE ,
				AX.CABINET_BOM_STATUS ,AX.CABINET_BOM_COMPLETED_DATE ,AX.CABINET_BOM_FORECAST_DATE ,--AX.CABINET_BOM_ACTUAL_DATE ,
				AX.HUB_BOM_STATUS ,AX.HUB_BOM_COMPLETED_DATE ,AX.HUB_BOM_FORECAST_DATE ,--AX.HUB_BOM_ACTUAL_DATE ,
				AX.SPOKE_NODE_BOM_STATUS ,AX.SPOKE_NODE_BOM_COMPLETED_DATE ,AX.SPOKE_NODE_BOM_FORECAST_DATE ,--AX.SPOKE_NODE_BOM_ACTUAL_DATE ,
				AX.REMOTE_BOM_STATUS ,AX.REMOTE_BOM_COMPLETED_DATE ,AX.REMOTE_BOM_FORECAST_DATE ,--AX.REMOTE_BOM_ACTUAL_DATE ,
				AX.CSR_ENSE_BOM_STATUS ,AX.CSR_ENSE_BOM_COMPLETED_DATE ,AX.CSR_ENSE_BOM_FORECAST_DATE ,--AX.CSR_ENSE_BOM_ACTUAL_DATE ,
				AX.BASEBAND_BOM_STATUS ,AX.BASEBAND_BOM_COMPLETED_DATE ,AX.BASEBAND_BOM_FORECAST_DATE ,--AX.BASEBAND_BOM_ACTUAL_DATE ,
				AX.TRANSPORT_BOM_STATUS ,AX.TRANSPORT_BOM_COMPLETED_DATE ,AX.TRANSPORT_BOM_FORECAST_DATE ,--AX.TRANSPORT_BOM_ACTUAL_DATE ,
				AX.CND_BOM_STATUS ,AX.CND_BOM_COMPLETED_DATE ,AX.CND_BOM_FORECAST_DATE ,--AX.CND_BOM_ACTUAL_DATE ,
				v_lastModifiedBy,SYSDATE
			);

		END IF;
    END LOOP;

	IF (v_decomCount>0) THEN
	    UPDATE
		PROJECT_TRACKER_WORKSTEP_STATUS
	    SET
	MAJOR_MS_ACTIVATION_COMPLETED_DATE = ACTIVATION_COMPLETED_DATE,
		MINOR_MS_ACTIVATION_NON_RF_COMPLETED_DATE = ACTIVATION_NON_RF_COMPLETED_DATE,
		MINOR_MS_AE_COMPLETED_DATE = AE_COMPLETED_DATE,
		MINOR_MS_AM_FURTHER_STUDY_COMPLETED_DATE = AM_FURTHER_STUDY_COMPLETED_DATE,
		MINOR_MS_ASR_FORM_COMPLETED_DATE = ASR_FORM_COMPLETED_DATE,
		MINOR_MS_BOM_COMPLETE_COMPLETED_DATE = BOM_COMPLETE_COMPLETED_DATE,
		MINOR_MS_BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE = BUILD_CONSTRUCTION_COMPLETE_COMPLETED_DATE,
		MAJOR_MS_CANDIDATE_SELECTION_COMPLETED_DATE = CANDIDATE_SELECTION_COMPLETED_DATE,
		MINOR_MS_CLOSEOUT_DOCUMENTS_COMPLETED_DATE = CLOSEOUT_DOCUMENTS_COMPLETED_DATE,
		MINOR_MS_CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE = CLOSEOUT_DOCUMENTS_UPLOAD_COMPLETED_DATE,
		MINOR_MS_CONFIRM_E911_ADDRESS_COMPLETED_DATE = CONFIRM_E911_ADDRESS_COMPLETED_DATE,
	MINOR_MS_CONFIRM_E911_REQUIRED_COMPLETED_DATE = CONFIRM_E911_REQUIRED_COMPLETED_DATE,
		MINOR_MS_CONFIRM_E911_SUBMITTED_COMPLETED_DATE = CONFIRM_E911_SUBMITTED_COMPLETED_DATE,
		MINOR_MS_CONFIRM_TVW_RECEIVED_COMPLETED_DATE = CONFIRM_TVW_RECEIVED_COMPLETED_DATE,
	MINOR_MS_E911_READINESS_COMPLETED_DATE = E911_READINESS_COMPLETED_DATE,
		MINOR_MS_CONQUEST_COMPLETED_DATE = CONQUEST_COMPLETED_DATE,
		MINOR_MS_CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE = CONSTRUCTION_48HR_REVIEW_COMPLETED_DATE,
		MINOR_MS_CONSTRUCTION_FORM_COMPLETED_DATE = CONSTRUCTION_FORM_COMPLETED_DATE,
		MINOR_MS_CONSTRUCTION_READY_COMPLETED_DATE = CONSTRUCTION_READY_COMPLETED_DATE,
		MAJOR_MS_RTC_COMPLETED_DATE = CONSTRUCTION_READY_RTC_COMPLETED_DATE,
		MINOR_MS_CONSTRUCTION_REVIEW_COMPLETED_DATE = CONSTRUCTION_REVIEW_COMPLETED_DATE,
		MINOR_MS_CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE = CQ_DAY_0_VALIDATION_COMPLETE_COMPLETED_DATE,
		MINOR_MS_CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE = CQ_DAY_1_VALIDATION_COMPLETE_COMPLETED_DATE,
		MINOR_MS_CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE = CQ_DAY_2_VALIDATION_COMPLETE_COMPLETED_DATE,
		MINOR_MS_CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE = CQ_VCP_FAR_EDGE_CIQ_COMPLETE_COMPLETED_DATE,
		MINOR_MS_CREATE_CQ_COMPLETED_DATE = CREATE_CQ_COMPLETED_DATE,
		MINOR_MS_DC_DISCOVERY_COMPLETED_DATE = DC_DISCOVERY_COMPLETED_DATE,
		MINOR_MS_E911_COMPLETED_DATE = E911_COMPLETED_DATE,
		MINOR_MS_EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE = EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE,
		MINOR_MS_EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE = EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE,
		MINOR_MS_EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE = EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE,
		MINOR_MS_EDGE_IMPLEMENTATION_COMPLETED_DATE = EDGE_IMPLEMENTATION_COMPLETED_DATE,
		MINOR_MS_EDGE_MEC_COMPLETED_DATE = EDGE_MEC_COMPLETED_DATE,
		MINOR_MS_EDGE_PROJECT_INFO_COMPLETED_DATE = EDGE_PROJECT_INFO_COMPLETED_DATE,
		MINOR_MS_EDGE_PROJECT_PEC_COMPLETED_DATE = EDGE_PROJECT_PEC_COMPLETED_DATE,
		MINOR_MS_EDGE_PROJECT_PSR_COMPLETED_DATE = EDGE_PROJECT_PSR_COMPLETED_DATE,
		MINOR_MS_EDGE_PSC_VETTING_COMPLETED_DATE = EDGE_PSC_VETTING_COMPLETED_DATE,
		MINOR_MS_EDGE_VENDOR_RATING_COMPLETED_DATE = EDGE_VENDOR_RATING_COMPLETED_DATE,
		MINOR_MS_EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE = EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE,
		MINOR_MS_EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE = EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE,
		MINOR_MS_EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE = EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE,
		MINOR_MS_EDGE_DESIGN_REVIEW_COMPLETED_DATE = EDGE_DESIGN_REVIEW_COMPLETED_DATE,
		MINOR_MS_EDGE_PLANNING_REVIEW_COMPLETED_DATE = EDGE_PLANNING_REVIEW_COMPLETED_DATE,
		MINOR_MS_EDGE_PROJECT_SLA_COMPLETED_DATE = EDGE_PROJECT_SLA_COMPLETED_DATE,
		MINOR_MS_ENVIRONMENTAL_REVIEW_COMPLETED_DATE = ENVIRONMENTAL_REVIEW_COMPLETED_DATE,
		MINOR_MS_ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE = ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_COMPLETED_DATE,
		MINOR_MS_ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE = ENV_CONST_CLOSEOUT_INFO_COMPLETED_DATE,
		MINOR_MS_EQUIPMENT_COMPLETED_DATE = EQUIPMENT_COMPLETED_DATE,
		MINOR_MS_EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE = EQUIPMENT_PROCUREMENT_COMPLETE_COMPLETED_DATE,
		MINOR_MS_FAA_FORM_COMPLETED_DATE = FAA_FORM_COMPLETED_DATE,
		MINOR_MS_FAR_EDGE_INSTANTIATION_COMPLETED_DATE = FAR_EDGE_INSTANTIATION_COMPLETED_DATE,
		MINOR_MS_FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE = FULL_CONSTRUCTION_APPROVAL_COMPLETED_DATE,
		MINOR_MS_FUNDING_VERIFICATION_COMPLETED_DATE = FUNDING_VERIFICATION_COMPLETED_DATE,
		MINOR_MS_GLOBAL_EHS_REVIEW_COMPLETED_DATE = GLOBAL_EHS_REVIEW_COMPLETED_DATE,
		MINOR_MS_GROUND_ONLY_APPROVAL_COMPLETED_DATE = GROUND_ONLY_APPROVAL_COMPLETED_DATE,
		MINOR_MS_IMPLEMENTATION_ACCEPTED_COMPLETED_DATE = IMPLEMENTATION_ACCEPTED_COMPLETED_DATE,
		MINOR_MS_INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE = INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_COMPLETED_DATE,
		MINOR_MS_INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE = INITIAL_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,
		MINOR_MS_INITIATIVE_VERIFICATION_COMPLETED_DATE = INITIATIVE_VERIFICATION_COMPLETED_DATE,
		MINOR_MS_INSERVICE_DOCUMENTS_COMPLETED_DATE = INSERVICE_DOCUMENTS_COMPLETED_DATE,
		MINOR_MS_INTEGRATION_COMPLETED_DATE = INTEGRATION_COMPLETED_DATE,
		MINOR_MS_INTERNATIONAL_BORDER_COMPLETED_DATE = INTERNATIONAL_BORDER_COMPLETED_DATE,
		MINOR_MS_IP_COMPLETE_COMPLETED_DATE = IP_COMPLETE_COMPLETED_DATE,
		MINOR_MS_LEASING_COMPLETED_DATE = LEASING_COMPLETED_DATE,
		MINOR_MS_LOCATION_CODE_CREATED_COMPLETED_DATE = LOCATION_CODE_CREATED_COMPLETED_DATE,
		MINOR_MS_MICROWAVE_COMPLETED_DATE = MICROWAVE_COMPLETED_DATE,
		MINOR_MS_MID_PROJECT_REVIEW_COMPLETED_DATE = MID_PROJECT_REVIEW_COMPLETED_DATE,
		MAJOR_MS_NETWORK_ASSURANCE_COMPLETED_DATE = NETWORK_ASSURANCE_COMPLETED_DATE,
		MINOR_MS_ONE_FIBER_COMPLETED_DATE = ONE_FIBER_COMPLETED_DATE,
		MINOR_MS_OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE = OSHA_ROOFTOP_ASSESSMENT_COMPLETED_DATE,
		MINOR_MS_PERMITTING_COMPLETED_DATE = PERMITTING_COMPLETED_DATE,
		MINOR_MS_PHOTO_DOCUMENTS_COMPLETED_DATE = PHOTO_DOCUMENTS_COMPLETED_DATE,
		MAJOR_MS_PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE = PHYSICAL_CONSTRUCTION_COMPLETE_COMPLETED_DATE,
		MINOR_MS_POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE = POST_ROOFTOP_AUDIT_COMPLETED_COMPLETED_DATE,
		MINOR_MS_POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE = POST_SAFETY_INFORMATION_COMPLETED_COMPLETED_DATE,
		MINOR_MS_POST_TCN_COMPLETED_DATE = POST_TCN_COMPLETED_DATE,
		MAJOR_MS_POWER_COMPLETED_DATE = POWER_COMPLETED_DATE,
	MINOR_MS_POWER_VETTING_COMPLETED_DATE = POWER_VETTING_COMPLETED_DATE,
		MINOR_MS_POWER_COMPLETE_COMPLETED_DATE = POWER_COMPLETE_COMPLETED_DATE,
		MINOR_MS_POWER_UTILITIES_TERMINATION_COMPLETED_DATE = POWER_UTILITIES_TERMINATION_COMPLETED_DATE,
		MINOR_MS_PRE_TCN_COMPLETED_DATE = PRE_TCN_COMPLETED_DATE,
		MINOR_MS_REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE = REAL_ESTATE_CONFIDENCE_SIGN_OFF_COMPLETED_DATE,
		MINOR_MS_REGULATORY_CONSTRUCTION_SR_COMPLETED_DATE = REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_COMPLETED_DATE,
		MINOR_MS_PROJECT_STARTED_COMPLETED_DATE = PROJECT_STARTED_COMPLETED_DATE,
		MINOR_MS_PROJECT_STATUS_VERIFICATION_COMPLETED_DATE = PROJECT_STATUS_VERIFICATION_COMPLETED_DATE,
		MINOR_MS_PSC_CONSTRUCTION_COMPLETED_DATE = PSC_CONSTRUCTION_COMPLETED_DATE,
		MINOR_MS_PSC_DESIGN_COMPLETED_DATE = PSC_DESIGN_COMPLETED_DATE,
		MINOR_MS_PSC_IMPLEMENTATION_COMPLETED_DATE = PSC_IMPLEMENTATION_COMPLETED_DATE,
		MINOR_MS_PSC_PRE_CONSTRUCTION_COMPLETED_DATE = PSC_PRE_CONSTRUCTION_COMPLETED_DATE,
		MINOR_MS_PSC_PROJ_DETAILS_COMPLETED_DATE = PSC_PROJ_DETAILS_COMPLETED_DATE,
		MINOR_MS_PSC_MAJOR_MATERIAL_COMPLETED_DATE = PSC_MAJOR_MATERIAL_COMPLETED_DATE,
		MINOR_MS_PSC_MEC_DELIVERABLES_COMPLETED_DATE = PSC_MEC_DELIVERABLES_COMPLETED_DATE,
	    MINOR_MS_PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE = PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE,
		MINOR_MS_PSLC_FUNDING_COMPLETED_DATE = PSLC_FUNDING_COMPLETED_DATE,
		MINOR_MS_QUIET_ZONE_COMPLETED_DATE = QUIET_ZONE_COMPLETED_DATE,
		MINOR_MS_READY_FOR_ASSURANCE_COMPLETED_DATE = READY_FOR_ASSURANCE_COMPLETED_DATE,
		MAJOR_MS_REAL_ESTATE_COMPLETED_DATE = REAL_ESTATE_COMPLETE_COMPLETED_DATE,
		MINOR_MS_REGULATORY_COMPLETED_DATE = REGULATORY_COMPLETED_DATE,
		MINOR_MS_REGULATORY_DISMANTLEMENT_COMPLETED_DATE = REGULATORY_DISMANTLEMENT_COMPLETED_DATE,
		MINOR_MS_REGULATORY_INSERVICE_COMPLETED_DATE = REGULATORY_INSERVICE_COMPLETED_DATE,
		MINOR_MS_RELEASED_TO_BUILD_COMPLETED_DATE = RELEASED_TO_BUILD_COMPLETED_DATE,
		MINOR_MS_RFDS_COMPLETED_DATE = RFDS_COMPLETED_DATE,
		MINOR_MS_RFE_COMPLETED_DATE = RFE_COMPLETED_DATE,
		--MINOR_MS_RFE_MITIGATION_DOCS_COMPLETED_DATE = RFE_MITIGATION_DOCS_COMPLETED_DATE,
		MINOR_MS_RF_48HR_REVIEW_COMPLETED_DATE = RF_48HR_REVIEW_COMPLETED_DATE,
	MINOR_MS_REGULATORY_48HR_REVIEW_COMPLETED_DATE = REGULATORY_48HR_REVIEW_COMPLETED_DATE,
	--FAA/ASR changes
	MINOR_MS_FAA_ASR_TRANSFER_COMPLETED_DATE = FAA_ASR_TRANSFER_COMPLETED_DATE,
	--FAA/ASR changes
		MINOR_MS_RF_ACCEPT_RANKING_COMPLETED_DATE = RF_ACCEPT_RANKING_COMPLETED_DATE,
		MINOR_MS_SELECT_VENDOR_COMPLETED_DATE = SELECT_VENDOR_COMPLETED_DATE,
		MINOR_MS_SP_COMPLETE_COMPLETED_DATE = SP_COMPLETE_COMPLETED_DATE,
		MINOR_MS_STRUCTURE_FORM_COMPLETED_DATE = STRUCTURE_FORM_COMPLETED_DATE,
		MINOR_MS_SUBMIT_FOR_NEPA_COMPLETED_DATE = SUBMIT_FOR_NEPA_COMPLETED_DATE,
		MINOR_MS_SUBMIT_RFDS_COMPLETED_DATE = SUBMIT_RFDS_COMPLETED_DATE,
		MINOR_MS_RFDS_IBV_COMPLETED_DATE = RFDS_IBV_COMPLETED_DATE,
		MINOR_MS_SURVEY_COMPLETED_DATE = SURVEY_COMPLETED_DATE,
		MINOR_MS_TERRITORY_REVIEW_COMPLETED_DATE = TERRITORY_REVIEW_COMPLETED_DATE,
		MAJOR_MS_TRANSPORT_COMPLETED_DATE = TRANSPORT_COMPLETED_DATE,
		MINOR_MS_TRANSPORT_COMPLETE_COMPLETED_DATE = TRANSPORT_COMPLETE_COMPLETED_DATE,
		MINOR_MS_TRANSPORT_CONTRACT_COMPLETED_DATE = TRANSPORT_CONTRACT_COMPLETED_DATE,
		MINOR_MS_TRANSPORT_DELIVERY_COMPLETED_DATE = TRANSPORT_DELIVERY_COMPLETED_DATE,
		MINOR_MS_TRANSPORT_REVIEW_COMPLETED_DATE = TRANSPORT_REVIEW_COMPLETED_DATE,
		MINOR_MS_TSDF_REVIEW_COMPLETED_DATE = TSDF_REVIEW_COMPLETED_DATE,
		MINOR_MS_UTILITY_INFORMATION_COMPLETED_DATE = UTILITY_INFORMATION_COMPLETED_DATE,
		MINOR_MS_VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE = VCP_FAR_EDGE_INSTALLATION_COMPLETED_DATE,
		MINOR_MS_VCP_ORCHESTRATION_COMPLETED_DATE = VCP_ORCHESTRATION_COMPLETED_DATE,
		MINOR_MS_VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE = VCP_SUBCLOUD_DEPLOYMENT_INITIATED_COMPLETED_DATE,
		MINOR_MS_VDU_DAY_0_COMPLETE_COMPLETED_DATE = VDU_DAY_0_COMPLETE_COMPLETED_DATE,
		MINOR_MS_VDU_DAY_1_COMPLETE_COMPLETED_DATE = VDU_DAY_1_COMPLETE_COMPLETED_DATE,
		MINOR_MS_VDU_DEPLOY_READINESS_COMPLETED_DATE = VDU_DEPLOY_READINESS_COMPLETED_DATE,
	-- MINOR_MS_AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE = AWAT_MATERIAL_ALLOCATION_COMPLETED_DATE,
		MINOR_MS_GENERATE_BOM_COMPLETED_DATE = GENERATE_BOM_COMPLETED_DATE,
		MINOR_MS_ZONING_COMPLETED_DATE = ZONING_COMPLETED_DATE,
	MINOR_MS_EQUIPMENT_CREATION_COMPLETED_DATE = EQUIPMENT_CREATION_COMPLETED_DATE,
    MINOR_MS_ENVIRONMENT_DUE_DILIGENCE_COMPLETED_DATE =ENVIRONMENTAL_DUE_DILIGENCE_COMPLETED_DATE,
		MINOR_MS_TOWER_BOM_COMPLETED_DATE = TOWER_BOM_COMPLETED_DATE,
		MINOR_MS_SHELTER_BOM_COMPLETED_DATE = SHELTER_BOM_COMPLETED_DATE,
		MINOR_MS_OUTDOOR_BOM_COMPLETED_DATE =OUTDOOR_BOM_COMPLETED_DATE ,
		MINOR_MS_AC_POWER_BOM_COMPLETED_DATE =AC_POWER_BOM_COMPLETED_DATE ,
		MINOR_MS_DC_POWER_BOM_COMPLETED_DATE =DC_POWER_BOM_COMPLETED_DATE ,
		MINOR_MS_CIVIL_BOM_COMPLETED_DATE =CIVIL_BOM_COMPLETED_DATE ,
		MINOR_MS_GENERATOR_BOM_COMPLETED_DATE =GENERATOR_BOM_COMPLETED_DATE ,
		MINOR_MS_CABINET_BOM_COMPLETED_DATE =CABINET_BOM_COMPLETED_DATE ,
		MINOR_MS_HUB_BOM_COMPLETED_DATE =HUB_BOM_COMPLETED_DATE ,
		MINOR_MS_SPOKE_NODE_BOM_COMPLETED_DATE =SPOKE_NODE_BOM_COMPLETED_DATE ,
		MINOR_MS_REMOTE_BOM_COMPLETED_DATE =REMOTE_BOM_COMPLETED_DATE ,
		MINOR_MS_BASEBAND_BOM_COMPLETED_DATE =BASEBAND_BOM_COMPLETED_DATE ,
		MINOR_MS_CSR_ENSE_BOM_COMPLETED_DATE =CSR_ENSE_BOM_COMPLETED_DATE ,
		MINOR_MS_TRANSPORT_BOM_COMPLETED_DATE =TRANSPORT_BOM_COMPLETED_DATE ,
		MINOR_MS_CND_BOM_COMPLETED_DATE =CND_BOM_COMPLETED_DATE,
		LAST_MODIFIED_BY = v_lastModifiedBy,
		LAST_MODIFIED_DATE = SYSDATE
	    WHERE
		SITE_PROJECTS_ID = siteProjectsId;
	END IF;


		IF (v_lastModifiedBy NOT IN ('forecast_sync','forecast_system')) THEN

			BEGIN
		UPDATE PROJ_TRACKER_FORECAST_LOCKS SET STATUS='QUEUED' WHERE SITE_PROJECTS_ID = siteProjectsId;
			EXCEPTION
				WHEN OTHERS
				   THEN dbms_output.put_line('ERROR');
			END;
		END IF;

    -- added logic for updating Built Capable
    PROC_CALCULATE_BUILT_CAPABLE(siteProjectsId,v_lastModifiedBy);


END;


--4
create or replace PROCEDURE "PROC_WORKSTEP_RULES"
(
siteProjectsId NUMBER,
siteInfoId  NUMBER,
currentWorkStep VARCHAR2,
actionPerformed VARCHAR2,
modifiedBy VARCHAR2
)
AS


v_projType VARCHAR2(64);
v_proposedSiteType VARCHAR2(64);
v_proposedSiteSubType VARCHAR2(64);
v_projModType VARCHAR2(64);
v_oldProjModType VARCHAR2(64);
v_newProjModType VARCHAR2(64);
v_territory VARCHAR2(64);
v_leaseFullyExecAcDt VARCHAR2(64);
v_awardedAcDt VARCHAR2(64);
v_zoningApprdAcDt VARCHAR2(64);
v_constStrtAcDt VARCHAR2(64);
v_realEstateCompleteAcDt VARCHAR2(64);
v_allPermitsRecvdAcDt VARCHAR2(64);
v_allPermitsAprvdAcDt VARCHAR2(64);
v_electricCompltAcDt VARCHAR2(64);
v_siteType VARCHAR2(64);
v_siteSubType VARCHAR2(64);
v_siteInfoId NUMBER;
v_48hrDocCnt NUMBER;
v_rfReviewReq VARCHAR2(64);
v_asbuiltDis VARCHAR2(64);
v_reg_tolerance_exeeded VARCHAR(64);
v_e911NotReqd NUMBER;
v_e911Reqd NUMBER;
v_isValidPlanningProject NUMBER;
v_equipInstallAcDt NUMBER;
v_mitigationRequired VARCHAR2(64);
v_nodeProject VARCHAR2(32);
maxVersion NUMBER;
eddReqd VARCHAR2(32);
terrReqd VARCHAR2(32);
hqReqd VARCHAR2(32);
eesReqd VARCHAR2(32);
tsdfReqd VARCHAR2(32);
recs VARCHAR2(32);
bers VARCHAR2(32);
ntcReqd VARCHAR2(32);
highRisk VARCHAR2(32);
envStatus VARCHAR2(32);
ehsStatus VARCHAR2(32);
terrStatus VARCHAR2(32);
tsdfStatus  VARCHAR2(32);
mergeProjTaskComment NUMBER;
isVzOwnwed VARCHAR2(8);
v_isDismantlementPrj VARCHAR2(8);
regdismntTaskId NUMBER;
tsdfAbatementReq VARCHAR2(32);
constTsdfStatus VARCHAR2(32);
constRTCTaskIndex Number;
is_dismantlement VARCHAR2(8);
v_band5G VARCHAR2(32);
v_carrierCount NUMBER;
edgeActivityType VARCHAR2(256);
v_siteObjective VARCHAR2(64);
v_projCat VARCHAR2(64);
pecOwner VARCHAR2(16);
projectPsrPowerCablingCompleteAcDt VARCHAR2(64);
vran_2_0_criteria VARCHAR2(16);
vcp_fe_ciq_validation VARCHAR2(16);
v_completeCheck VARCHAR2(16);
v_hubReadyAcDt VARCHAR2(32);
v_rowcount NUMBER DEFAULT 0;
v_transportOnly VARCHAR2(16);
v_siteLatitude VARCHAR2(32);
v_siteLongitude VARCHAR2(32);
v_subcloudInitDt DATE;
v_cBandCallsignCnt NUMBER;
v_freqFilingCompleted VARCHAR2(8);
docRoutingWorkflowId NUMBER DEFAULT 0;
v_drmTemplateJson VARCHAR2(4000 BYTE) DEFAULT '';
v_apiQueueCount NUMBER DEFAULT 0;
maxDcDt DATE;
v_messageQuery CLOB;
TYPE vcpMessageRec IS RECORD (
GNB_VDU_ID VARCHAR2(128)
);
TYPE vcpMessageSet IS TABLE OF vcpMessageRec;
vcpMessageBulk vcpMessageSet;
TYPE vduOrchRecord IS RECORD (
GNB_VDU_ID VARCHAR2(128)
);
TYPE DEPLOY_INIT_TBL IS TABLE OF vduOrchRecord;
deployMsg DEPLOY_INIT_TBL;
--OSHA
v_osha_rooftop_mod_required VARCHAR2(32);
v_osha_row_count NUMBER DEFAULT 0;
v_rooftop_audit_uploaded VARCHAR2(32);
v_rfdsServiceCount NUMBER DEFAULT 0;
v_orchPath VARCHAR2(128);
v_faaSpecial_cond VARCHAR2(32);
v_nepaSpecial_rq VARCHAR2(32);
v_nepaActivation VARCHAR2(8);
v_aneFinalCdsApprACDT VARCHAR2(32);
v_minServerDate DATE;
v_vduDeployDate DATE;
v_installDate DATE;
e911TestingADate VARCHAR2(16);
v_turnOn VARCHAR2(8);
v_utilityMakeReadyCompletedAcDt VARCHAR2(32);
v_externalNtpAcDt VARCHAR2(32);
v_implemantationReadyAcDt VARCHAR2(32);
v_asBuildDataAprovedDate VARCHAR2(32);
v_constCompltAcDt VARCHAR2(32);
v_equipIntallAcDt VARCHAR2(32);
v_911TestCompltAcDt VARCHAR2(32);
v_integrationAcDt VARCHAR2(32);
v_networkAssuranceAcceptsAcDt VARCHAR2(32);
v_allPermitsPostRtcAppliedAcDt VARCHAR2(32);
v_allPermitsPostRtcRecievedAcDt VARCHAR2(32);
v_allPermitsPostRtcApprovedAcDt VARCHAR2(32);
v_zoningFldAcDt VARCHAR2(32);
v_pwrUpgradeSelectedAcDt VARCHAR2(32);
v_batteryInstalledAcDt VARCHAR2(32);
v_hvacInstalledAcDt VARCHAR2(32);
v_powerPlantInstalledAcDt VARCHAR2(32);
v_generatorCommissionAcDt VARCHAR2(32);
v_powerUtilityDeliveryReqAcDt VARCHAR2(32);
v_powerUtilityElecInspcnReadyAcDt  VARCHAR2(32);
v_faa_trans_req VARCHAR2(32);
v_asr_trans_req VARCHAR2(32);
v_rfds_service_updated VARCHAR2(8);
v_source VARCHAR2(32);
cq_change_Control VARCHAR2(16);
rfds_change_control VARCHAR2(16);
v_cq_change_control VARCHAR2(16) DEFAULT '';
v_change_control_version_number NUMBER(10);
v_rfds_change_control VARCHAR2(16);
lease_ac_dt VARCHAR2(32);
lease_fc_dt VARCHAR2(32);
v_IsmidTesting VARCHAR2(16);
BEGIN

select VALUE into v_IsmidTesting from ENUM_REFERENCE where NAME = 'MID_PROJECT';

IF(siteProjectsId !=0) THEN

BEGIN
    SELECT SP.TYPE , PAI.PROPOSED_SITE_TYPE,PAI.PROPOSED_SITE_SUB_TYPE, PAI.PROJ_MOD_TYPE,GH.TERRITORY,SP.SOURCE,PAI.CQ_CHANGE_CONTROL,PAI.CQ_CHANGE_CONTROL_VERSION_NUMBER,RFDS_CHANGE_CONTROL
    INTO v_projType, v_proposedSiteType, v_proposedSiteSubType,v_projModType, v_territory, v_source, v_cq_change_control,v_change_control_version_number,v_rfds_change_control
    FROM SITE_PROJECTS SP
    INNER JOIN PROJ_ADDITIONAL_INFO PAI ON PAI.SITE_PROJECTS_ID = SP.SITE_PROJECTS_ID
    INNER JOIN GEO_HIERARCHY GH ON GH.GEO_HIERARCHY_ID = PAI.GEO_HIERARCHY_ID
    WHERE SP.SITE_PROJECTS_ID = siteProjectsId;

    EXCEPTION WHEN NO_DATA_FOUND THEN
    v_projType := NULL;
    v_proposedSiteType := NULL;
    v_proposedSiteSubType := NULL;
    v_projModType := NULL;
    v_territory := NULL;
    v_cq_change_control :='';
    v_change_control_version_number :=0;
    v_rfds_change_control := '';
END;

BEGIN
    SELECT SI.SITE_INFO_ID, "TYPE",SUB_TYPE,LATITUDE,LONGITUDE
    INTO v_siteInfoId,v_siteType, v_siteSubType, v_siteLatitude, v_siteLongitude
    FROM SITE_PROJECTS_MAP SPM
    INNER JOIN SITE_INFO SI ON SPM.SITE_INFO_ID = SI.SITE_INFO_ID
    WHERE SI.STATUS IN('Primary','Live','SarfSite','Pending Dismantlement','Dismantled')
    AND SPM.SITE_PROJECTS_ID = siteProjectsId
    order by SI.SITE_INFO_ID desc
    fetch first 1 row only ;

    EXCEPTION WHEN NO_DATA_FOUND THEN
    v_siteInfoId := NULL;
END;

IF(siteInfoId = 0)THEN
    SELECT v_siteInfoId into v_siteInfoId from dual;
END IF;

BEGIN
    SELECT
    LSE_FULLLY_EXEC_AC_DT,AWARDED_AC_DT,ZONING_APPRD_AC_DT,REAL_ESTATE_COMPLETE_AC_DT,ELECTRIC_COMPLT_AC_DT,CONST_START_AC_DT,
    ALL_PERMITS_RECEIVED_AC_DT,ALL_PERMITS_APPROVED_AC_DT,
    UTILITY_MAKE_READY_COMPLETED_AC_DT, EXTERNAL_NTP_AC_DT, IMPLEMENTATION_READY_AC_DT, AS_BUILT_DATA_PROVIDED_DATE,
    CONST_COMPLT_AC_DT, EQUIP_INSTALL_AC_DT, E911_TEST_COMPLT_AC_DT, INTEGRATION_AC_DT, NETWORK_ASSURANCE_ACCEPTS_AC_DT,
    ALL_PERMITS_POST_RTC_APPLIED_AC_DT, ALL_PERMITS_POST_RTC_RECIEVED_AC_DT, ALL_PERMITS_POST_RTC_APPROVED_AC_DT, ZONING_FLD_AC_DT,
    PWR_UPGRADE_SELECTED_AC_DT, BATTERY_INSTALLED_AC_DT, HVAC_INSTALLED_AC_DT, POWER_PLANT_INSTALLED_AC_DT, GENERATOR_COMMISSIONED_AC_DT,
    POWER_UTILITY_DELIVERY_REQ_AC_DT, POWER_UTILITY_ELEC_INSPCN_READY_AC_DT
    INTO v_leaseFullyExecAcDt,v_awardedAcDt,v_zoningApprdAcDt,v_realEstateCompleteAcDt,v_electricCompltAcDt,v_constStrtAcDt,
    v_allPermitsRecvdAcDt, v_allPermitsAprvdAcDt,
    v_utilityMakeReadyCompletedAcDt, v_externalNtpAcDt, v_implemantationReadyAcDt, v_asBuildDataAprovedDate,
    v_constCompltAcDt, v_equipIntallAcDt, v_911TestCompltAcDt, v_integrationAcDt, v_networkAssuranceAcceptsAcDt, v_allPermitsPostRtcAppliedAcDt,
    v_allPermitsPostRtcRecievedAcDt, v_allPermitsPostRtcApprovedAcDt, v_zoningFldAcDt, v_pwrUpgradeSelectedAcDt,
    v_batteryInstalledAcDt, v_hvacInstalledAcDt, v_powerPlantInstalledAcDt, v_generatorCommissionAcDt, v_powerUtilityDeliveryReqAcDt, v_powerUtilityElecInspcnReadyAcDt
    FROM PROJ_ST_FIELDS_DATA PL
    WHERE SITE_PROJECTS_ID = siteProjectsId;

    EXCEPTION WHEN NO_DATA_FOUND THEN
    v_leaseFullyExecAcDt := NULL;
    v_awardedAcDt := NULL;
    v_zoningApprdAcDt := NULL;
    v_realEstateCompleteAcDt := NULL;
    v_electricCompltAcDt := NULL;
    v_constStrtAcDt := NULL;
END;

BEGIN
    SELECT
    VZ_OWNED_STRUCTURE INTO isVzOwnwed
    FROM SITE_STRUCTURE
    WHERE SITE_INFO_ID = siteInfoId;

    EXCEPTION WHEN NO_DATA_FOUND THEN
    isVzOwnwed := NULL;
END;

    BEGIN
	SELECT DISTINCT 'TRUE' INTO vran_2_0_criteria
	FROM VDU_ORCHESTRATION VDU
	INNER JOIN SPM_PROJECT_TRACKER_EXT EXT ON VDU.SITE_PROJECTS_ID = EXT.SITE_PROJECTS_ID
	WHERE VDU.SITE_PROJECTS_ID = siteProjectsId
	AND UPPER(EXT.VRAN_CONFIGURATION) = 'VRAN';
	EXCEPTION WHEN NO_DATA_FOUND THEN
	vran_2_0_criteria := 'FALSE';
    END;



BEGIN
	SELECT DISTINCT 'TRUE' INTO vcp_fe_ciq_validation FROM CQCIQ_PROJECT
		WHERE SITE_PROJECTS_ID = siteProjectsId AND VCP_FE_CIQ = 1;
	EXCEPTION WHEN NO_DATA_FOUND THEN
    vcp_fe_ciq_validation := 'FALSE';
END;


    SELECT CASE WHEN isVzOwnwed = 'Yes' AND v_proposedSiteType in('TEMPORARY','PORTABLE') AND
    (v_projType = 'Initial Build' OR (v_projType =  'Modification' AND v_projModType in ('RF','CONSTRUCTION_ONLY','MICROWAVE_ONLY')))THEN 'true' ELSE 'false' END
    INTO v_isDismantlementPrj FROM DUAL;


    SELECT CASE WHEN v_projType = 'Initial Build' AND v_proposedSiteType IN ('SMALL-CELL','MEDIUM-CELL') THEN 'true' ELSE 'false' END
    INTO v_nodeProject FROM DUAL;

	 SELECT CASE WHEN ( v_projType = 'Initial Build' AND v_proposedSiteType IN ('TRANSPORT-ONLY', 'HUB')) OR (v_projType = 'Modification'
    AND v_projModType IN ('TRANSPORT_ONLY','HUB_HARDENING_NODE_CONVERSION','MICROWAVE_ONLY','NON_RF_MOD'))
    THEN 'TRUE' ELSE 'FALSE' END
    INTO v_transportOnly FROM DUAL;


    SELECT CASE WHEN TYPE='Modification' AND PAI.PROJ_MOD_TYPE IN('DISMANTLEMENT','DECOM') then 'true' ELSE 'false' END INTO is_dismantlement
    FROM SITE_PROJECTS SP
    INNER JOIN PROJ_ADDITIONAL_INFO PAI ON SP.SITE_PROJECTS_ID = PAI.SITE_PROJECTS_ID
    WHERE SP.SITE_PROJECTS_ID=siteProjectsId;

-- Main code starts here CREATE_PROJECT logic for MOD

	IF(currentWorkStep = 'CREATE_PROJECT')THEN
	-- Adding for VMB messages to NPP

	INSERT INTO PROJ_HISTORY(SITE_PROJECTS_ID,TABLE_NAME,COLUMN_NAME,OLD_VALUE,NEW_VALUE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
	    VALUES(siteProjectsId, 'SITE_INFO', 'SITE_INFO_ID', '', v_siteInfoId, SYSDATE, modifiedby);

    INSERT INTO PROJ_HISTORY(SITE_PROJECTS_ID,TABLE_NAME,COLUMN_NAME,OLD_VALUE,NEW_VALUE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
	    VALUES(siteProjectsId, 'SITE_INFO', 'LATITUDE', '', v_siteLatitude, SYSDATE, modifiedby);
	INSERT INTO PROJ_HISTORY(SITE_PROJECTS_ID,TABLE_NAME,COLUMN_NAME,OLD_VALUE,NEW_VALUE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
	    VALUES(siteProjectsId, 'SITE_INFO', 'LONGITUDE', '', v_siteLongitude, SYSDATE, modifiedby);

     -- PROC to Enable the Project Started and RFDS Milestone
    PROC_ENABLE_PROJECT_STARTED_RFDS_ON_PL_RELEASE(siteProjectsId,modifiedBy);


    END IF;


-- Main code starts here RELEASED_TO_BUILD logic for MOD
    IF(v_projType = 'Modification') THEN

	   IF(currentWorkStep IN ('CREATE_PROJECT')) THEN
	  		UPDATE PROJ_ST_FIELDS_DATA SET MAKE_READY_DETERMINATION_AC_DT ='01/01/1900',
			 UTILITY_MAKE_READY_COMPLETED_AC_DT = '01/01/1900'  WHERE SITE_PROJECTS_ID = siteProjectsId;
	   END IF;

      IF(currentWorkStep IN ('RELEASED_TO_BUILD','CREATE_PROJECT')) THEN
--	(currentWorkStep = 'CREATE_PROJECT' AND
--	 v_projModType IN ('SOFTWARE_ONLY_5G','EDGE_IMPLEMENTATION_TEMPLATE','STATION_REC_UPDATE','PSC_VETTING','PSC_IMPLEMENTATION_TEMPLATE','MEC','VBG_IN-BUILDING'))) THEN


     -- PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'CREATE_PROJECT',NULL,siteInfoId,'QUEUED',modifiedBy);



	    FOR AX IN (SELECT DISTINCT PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID,WFR.TASK_STATUS,WFR.USER_REVIEW_STATUS,
	    CASE WHEN WFR.TASK_STATUS ='INACTIVE' THEN NULL ELSE SYSDATE END AS CREATED_DATE,
			CASE WHEN WFR.TASK_STATUS='N/A' OR (WFR.TASK_STATUS='COMPLETED' AND WFR.USER_REVIEW_STATUS='NA') THEN TO_DATE('01/01/1900','MM/DD/YYYY') ELSE NULL END AS COMPLETED_DATE
	    FROM PROJ_TRACKER PT
	    INNER JOIN SITE_PROJECTS SP ON SP.SITE_PROJECTS_ID=PT.SITE_PROJECTS_ID
	    INNER JOIN PROJ_ADDITIONAL_INFO PAI ON PAI.SITE_PROJECTS_ID=SP.SITE_PROJECTS_ID
	    INNER JOIN WORKFLOW WF ON WF.WF_ID=PT.WF_ID
	    INNER JOIN WORKSTEPS WS ON WF.WF_ID=WS.WF_ID
	    INNER JOIN WF_RULES WFR ON WFR.WORKSTEP_NAME=WS.WORKSTEP_NAME AND WFR.CURRENT_WORKSTEP_NAME=currentWorkStep
	    WHERE WFR.FILTER_VALUE=PAI.PROJ_MOD_TYPE AND WFR.FILTER_FILED='PROJ_MOD_TYPE'
		  AND SP.SITE_PROJECTS_ID = siteProjectsId AND PT.TRACKER_TYPE='MOD_PROJECT'
	      )
	  LOOP

			    UPDATE PROJ_TRACKER_TASKS PTT
			    SET  PTT.TASK_STATUS = AX.TASK_STATUS,
	    PTT.IS_ACTIVE = 1,
	    PTT.USER_REVIEW_STATUS = AX.USER_REVIEW_STATUS,
	    PTT.CREATED_DATE = AX.CREATED_DATE,
	    PTT.COMPLETED_DATE = AX.COMPLETED_DATE,
	    PTT.LAST_MODIFIED_DATE = SYSDATE,
	    PTT.LAST_MODIFIED_BY = modifiedBy
			    WHERE AX.PROJ_TRACKER_ID = PTT.PROJ_TRACKER_ID AND AX.WORKSTEP_ID = PTT.WORKSTEP_ID
		 AND AX.TASK_STATUS != PTT.TASK_STATUS	and PTT.TASK_STATUS  not in( 'COMPLETED','N/A')
		 AND AX.TASK_STATUS not in ('INACTIVE');

			   /* v_rowcount := SQL%rowcount;

			    IF(v_rowcount = 0) THEN

				BEGIN
				    INSERT INTO PROJ_TRACKER_TASKS PTT	(PTT.PROJ_TRACKER_ID, PTT.WORKSTEP_ID, PTT.TASK_STATUS,PTT.USER_REVIEW_STATUS,PTT.IS_ACTIVE, PTT.CREATED_DATE,PTT.COMPLETED_DATE,PTT.LAST_MODIFIED_DATE, PTT.LAST_MODIFIED_BY)
	    VALUES (AX.PROJ_TRACKER_ID, AX.WORKSTEP_ID, AX.TASK_STATUS,AX.USER_REVIEW_STATUS,1, AX.CREATED_DATE,AX.COMPLETED_DATE,SYSDATE, modifiedBy);
				END;

			    END IF;
		*/
	  END LOOP;


    ---Checking whether Mod Template Switch happened
			  BEGIN

			SELECT OLD_VALUE, NEW_VALUE INTO v_oldProjModType,v_newProjModType
			FROM (SELECT OLD_VALUE, NEW_VALUE FROM PROJ_HISTORY WHERE SITE_PROJECTS_ID = siteProjectsId AND COLUMN_NAME = 'PROJ_MOD_TYPE' ORDER BY LAST_MODIFIED_DATE DESC)
			WHERE rownum =1;

			EXCEPTION WHEN NO_DATA_FOUND THEN
			v_oldProjModType := null;
			v_newProjModType := null;
			  END;
				IF (v_oldProjModType IN ('SOFTWARE_ONLY_5G','VBG_IN-BUILDING')) THEN
					IF(currentWorkStep = 'RELEASED_TO_BUILD') THEN
						  FOR AX IN (SELECT DISTINCT PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID,WFR.TASK_STATUS,WFR.USER_REVIEW_STATUS,
				CASE WHEN WFR.TASK_STATUS ='INACTIVE' THEN NULL ELSE SYSDATE END AS CREATED_DATE,
					CASE WHEN WFR.TASK_STATUS='N/A' OR (WFR.TASK_STATUS='COMPLETED' AND WFR.USER_REVIEW_STATUS='NA') THEN TO_DATE('01/01/1900','MM/DD/YYYY') ELSE NULL END AS COMPLETED_DATE
				FROM PROJ_TRACKER PT
				INNER JOIN SITE_PROJECTS SP ON SP.SITE_PROJECTS_ID=PT.SITE_PROJECTS_ID
				INNER JOIN PROJ_ADDITIONAL_INFO PAI ON PAI.SITE_PROJECTS_ID=SP.SITE_PROJECTS_ID
				INNER JOIN WORKFLOW WF ON WF.WF_ID=PT.WF_ID
				INNER JOIN WORKSTEPS WS ON WF.WF_ID=WS.WF_ID
				INNER JOIN WF_RULES WFR ON WFR.WORKSTEP_NAME=WS.WORKSTEP_NAME AND WFR.CURRENT_WORKSTEP_NAME='RELEASED_TO_BUILD'
				WHERE WFR.FILTER_VALUE=PAI.PROJ_MOD_TYPE AND WFR.FILTER_FILED='PROJ_MOD_TYPE'
				  AND SP.SITE_PROJECTS_ID = siteProjectsId AND PT.TRACKER_TYPE='MOD_PROJECT'
				  )
			  LOOP
						UPDATE PROJ_TRACKER_TASKS PTT
						SET  PTT.TASK_STATUS = AX.TASK_STATUS,
				PTT.IS_ACTIVE = 1,
				PTT.USER_REVIEW_STATUS = AX.USER_REVIEW_STATUS,
				PTT.CREATED_DATE = AX.CREATED_DATE,
				PTT.COMPLETED_DATE = AX.COMPLETED_DATE,
				PTT.LAST_MODIFIED_DATE = SYSDATE,
				PTT.LAST_MODIFIED_BY = modifiedBy
						WHERE AX.PROJ_TRACKER_ID = PTT.PROJ_TRACKER_ID AND AX.WORKSTEP_ID = PTT.WORKSTEP_ID
				 AND AX.TASK_STATUS != PTT.TASK_STATUS	and PTT.TASK_STATUS in('COMPLETED','N/A') AND PTT.COMPLETED_DATE IS NOT NULL AND PTT.COMPLETED_DATE = TO_DATE('01/01/1900','MM/DD/YYYY');
					END LOOP;
			END IF;
			FOR CX IN(SELECT DISTINCT CURRENT_WORKSTEP_NAME FROM WF_RULES WHERE FILTER_FILED = 'PROJ_MOD_TYPE' AND FILTER_VALUE = v_projModType AND CURRENT_WORKSTEP_NAME NOT IN ('RELEASED_TO_BUILD','CREATE_PROJECT') order by
					  CASE WHEN CURRENT_WORKSTEP_NAME = 'SUBMIT_RFDS' THEN 1
					  WHEN CURRENT_WORKSTEP_NAME = 'CONSTRUCTION_READY_RTC' THEN 2
					  WHEN CURRENT_WORKSTEP_NAME = 'PHYSICAL_CONSTRUCTION_COMPLETE' THEN 3
					  ELSE 4 END)
					LOOP
					IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,CX.CURRENT_WORKSTEP_NAME) = 'COMPLETED') THEN
						  FOR AX IN (SELECT DISTINCT PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID,WFR.TASK_STATUS,WFR.USER_REVIEW_STATUS,
								CASE WHEN WFR.TASK_STATUS ='INACTIVE' THEN NULL ELSE SYSDATE END AS CREATED_DATE,
									CASE WHEN WFR.TASK_STATUS='N/A' OR (WFR.TASK_STATUS='COMPLETED' AND WFR.USER_REVIEW_STATUS='NA') THEN TO_DATE('01/01/1900','MM/DD/YYYY') ELSE NULL END AS COMPLETED_DATE
								FROM PROJ_TRACKER PT
								INNER JOIN SITE_PROJECTS SP ON SP.SITE_PROJECTS_ID=PT.SITE_PROJECTS_ID
								INNER JOIN PROJ_ADDITIONAL_INFO PAI ON PAI.SITE_PROJECTS_ID=SP.SITE_PROJECTS_ID
								INNER JOIN WORKFLOW WF ON WF.WF_ID=PT.WF_ID
								INNER JOIN WORKSTEPS WS ON WF.WF_ID=WS.WF_ID
								INNER JOIN WF_RULES WFR ON WFR.WORKSTEP_NAME=WS.WORKSTEP_NAME AND WFR.CURRENT_WORKSTEP_NAME=CX.CURRENT_WORKSTEP_NAME
								WHERE WFR.FILTER_VALUE=PAI.PROJ_MOD_TYPE AND WFR.FILTER_FILED='PROJ_MOD_TYPE'
								  AND SP.SITE_PROJECTS_ID = siteProjectsId AND PT.TRACKER_TYPE='MOD_PROJECT'
								  )
							  LOOP
										UPDATE PROJ_TRACKER_TASKS PTT
										SET  PTT.TASK_STATUS = AX.TASK_STATUS,
								PTT.IS_ACTIVE = 1,
								PTT.USER_REVIEW_STATUS = AX.USER_REVIEW_STATUS,
								PTT.CREATED_DATE = AX.CREATED_DATE,
								PTT.COMPLETED_DATE = AX.COMPLETED_DATE,
								PTT.LAST_MODIFIED_DATE = SYSDATE,
								PTT.LAST_MODIFIED_BY = modifiedBy
										WHERE AX.PROJ_TRACKER_ID = PTT.PROJ_TRACKER_ID AND AX.WORKSTEP_ID = PTT.WORKSTEP_ID
								 AND AX.TASK_STATUS != PTT.TASK_STATUS and PTT.TASK_STATUS not in('COMPLETED');
								 END LOOP;
											END IF;
											END LOOP;
							END IF;

	    FOR AX IN(
		SELECT LISTAGG(WORKSTEP_NAME,',') WITHIN GROUP (ORDER BY WORKSTEP_NAME) AS WORKSTEP_NAME--,WS.MILESTONE
		FROM PROJ_TRACKER_TASKS PTT
		INNER JOIN PROJ_TRACKER PT ON PT.PROJ_TRACKER_ID = PTT.PROJ_TRACKER_ID
		INNER JOIN WORKSTEPS WS ON WS.WORKSTEP_ID = PTT.WORKSTEP_ID AND WS.WF_ID = PT.WF_ID
		WHERE PT.SITE_PROJECTS_ID = siteProjectsId AND (TASK_STATUS = 'N/A' OR (TASK_STATUS = 'COMPLETED' AND USER_REVIEW_STATUS = 'NA' AND WS.WORKSTEP_GROUP = 'T'))
	    )

	    LOOP
		--there's no previous status on project creation, so we can directly call this proc
		PROC_NA_MILESTONE_DATE_UPDATE('true', AX.WORKSTEP_NAME, NULL, '01/01/1900', siteProjectsId, modifiedBy,currentWorkStep); -- AX.MILESTONE removing milestone out since unnessaray things are getting n/a

	    END LOOP;

		DBMS_OUTPUT.PUT_LINE('CHECKING CONSTRUCTION COMPLETED MILESTONE IS COMPLETED IN INITIALBUILD PROC_WORKSTEP_RULES BEGIN');
	IF(currentWorkStep = 'RELEASED_TO_BUILD') THEN

	    IF(v_projModType='NON_RF_MOD' OR v_projModType in ('VRAN_2_HUB_HARDWARE') OR v_projModType = 'HUB_HARDENING_NODE_CONVERSION'
	    OR v_projModType = 'IN_BOUND_COLO') THEN
		PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'CONSTRUCTION_READY_RTC',NULL,siteInfoId,'QUEUED',modifiedBy);

		IF((v_projModType = 'NON_RF_MOD' OR v_projModType in ('VRAN_2_HUB_HARDWARE') OR v_projModType = 'HUB_HARDENING_NODE_CONVERSION')
		AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST') IN ('N/A','COMPLETED'))THEN

		    PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'NETWORK_ASSURANCE',NULL,siteInfoId,'QUEUED',modifiedBy);
		END IF;
	    END IF;

	    IF(v_projModType = 'PSC_IMPLEMENTATION_TEMPLATE' AND v_siteType IN ('NEC','MSC')) THEN

		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_PROJ_DETAILS_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

		DBMS_OUTPUT.PUT_LINE('Inside Edge Block');
	    END IF;

IF(v_projModType NOT IN('PSC_IMPLEMENTATION_TEMPLATE') OR v_siteType NOT IN ('NEC','MSC')) THEN

BEGIN
	FOR AX IN(

select
		DISTINCT PTWS.SITE_PROJECTS_ID,PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID from
		project_tracker_workstep_status ptws
		INNER JOIN PROJ_TRACKER PT ON PTWS.SITE_PROJECTS_ID = PT.SITE_PROJECTS_ID
		INNER JOIN WORKSTEPS WS ON WS.WF_ID = PT.WF_ID
		where ws.workstep_name in ('PSC_IMPLEMENTATION','PSC_PROJ_DETAILS','PSC_DESIGN','PSC_PRE_CONSTRUCTION','PSC_CONSTRUCTION','PSC_MAJOR_MATERIAL','PSC_MEC_DELIVERABLES','PSC_ASSESSMENT_AND_PLANNING') and ptws.site_projects_id=siteProjectsId

 )LOOP
		UPDATE PROJ_TRACKER_TASKS PTTS SET
	PTTS.TASK_STATUS = 'N/A',
		PTTS.COMPLETED_DATE ='01-Jan-1900',
		PTTS.CREATED_DATE= SYSDATE,
	PTTS.LAST_MODIFIED_BY = modifiedBy,
	PTTS.LAST_MODIFIED_DATE = SYSDATE
		WHERE PROJ_TRACKER_ID = AX.PROJ_TRACKER_ID
		AND WORKSTEP_ID = AX.WORKSTEP_ID;

		UPDATE proj_tracker_tasks_forecast pttf SET
		pttf.FORECAST_DATE='01-Jan-1900',
		pttf.LAST_MODIFIED_BY = modifiedBy,
	pttf.LAST_MODIFIED_DATE = SYSDATE
		WHERE WORKSTEP_ID=AX.WORKSTEP_ID
		and PROJ_TRACKER_ID= AX.PROJ_TRACKER_ID;

END LOOP;

		UPDATE PROJECT_TRACKER_WORKSTEP_STATUS PTWS
		SET ptws.PSC_IMPLEMENTATION_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_PSC_IMPLEMENTATION_COMPLETED_DATE='01/01/1900',
		ptws.PSC_IMPLEMENTATION_STATUS='N/A',
		ptws.PSC_PROJ_DETAILS_STATUS='N/A',
		ptws.PSC_PROJ_DETAILS_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_PSC_PROJ_DETAILS_COMPLETED_DATE='01/01/1900',
		ptws.PSC_DESIGN_STATUS='N/A',
		ptws.PSC_DESIGN_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_PSC_DESIGN_COMPLETED_DATE='01/01/1900',
		ptws.PSC_PRE_CONSTRUCTION_STATUS='N/A',
		ptws.MINOR_MS_PSC_PRE_CONSTRUCTION_COMPLETED_DATE='01/01/1900',
		ptws.PSC_PRE_CONSTRUCTION_FORECAST_DATE='01/01/1900',
		ptws.PSC_CONSTRUCTION_STATUS='N/A',
		ptws.MINOR_MS_PSC_CONSTRUCTION_COMPLETED_DATE='01/01/1900',
		ptws.PSC_CONSTRUCTION_FORECAST_DATE='01/01/1900',
		ptws.PSC_MAJOR_MATERIAL_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_PSC_MAJOR_MATERIAL_COMPLETED_DATE='01/01/1900',
		ptws.PSC_MAJOR_MATERIAL_STATUS='N/A',
		ptws.PSC_MEC_DELIVERABLES_STATUS='N/A',
		ptws.PSC_MEC_DELIVERABLES_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_PSC_MEC_DELIVERABLES_COMPLETED_DATE='01/01/1900',
		ptws.PSC_ASSESSMENT_AND_PLANNING_STATUS='N/A',
		ptws.PSC_ASSESSMENT_AND_PLANNING_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_PSC_ASSESSMENT_AND_PLANNING_COMPLETED_DATE='01/01/1900',
		LAST_MODIFIED_BY = modifiedBy,
		LAST_MODIFIED_DATE = SYSDATE
		WHERE SITE_PROJECTS_ID = siteProjectsId;

END;

END IF;

		DBMS_OUTPUT.PUT_LINE('outside Edge Block '||v_projModType||' '||v_siteType);
IF(v_projModType = 'EDGE_IMPLEMENTATION_TEMPLATE' AND v_siteType = 'MSC') THEN

BEGIN
	FOR AX IN(

select
		DISTINCT PTWS.SITE_PROJECTS_ID,PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID from
		project_tracker_workstep_status ptws
		INNER JOIN PROJ_TRACKER PT ON PTWS.SITE_PROJECTS_ID = PT.SITE_PROJECTS_ID
		INNER JOIN WORKSTEPS WS ON WS.WF_ID = PT.WF_ID
		where ws.workstep_name in ('EDGE_PARTNER_PROJECT_REQUEST','EDGE_PLANNING_REVIEW','EDGE_DESIGN_REVIEW','EDGE_PROJECT_INFO','EDGE_PROJECT_PSR','EDGE_PROJECT_PEC','EDGE_VENDOR_SERVICE_INSTALL','EDGE_EQUIPMENT_INSTALL','EDGE_EQUIPMENT_CLOSEOUT','EDGE_VENDOR_INFORMATION','EDGE_VENDOR_RATING','EDGE_PROJECT_SLA','EDGE_MANAGERS_CUSTOM_REPORTS') and ptws.site_projects_id=siteProjectsId

 )LOOP

 		UPDATE PROJ_TRACKER_TASKS PTTS SET
	PTTS.TASK_STATUS = 'ACTIVE',
		PTTS.CREATED_DATE= TO_DATE(SYSDATE,'dd-mon-yy'),
	PTTS.LAST_MODIFIED_BY = modifiedBy,
	PTTS.LAST_MODIFIED_DATE = SYSDATE
		WHERE PROJ_TRACKER_ID = AX.PROJ_TRACKER_ID
		AND WORKSTEP_ID = AX.WORKSTEP_ID;

END LOOP;

		UPDATE PROJECT_TRACKER_WORKSTEP_STATUS PTWS
		SET ptws.EDGE_PARTNER_PROJECT_REQUEST_STATUS='ACTIVE',
		ptws.EDGE_PLANNING_REVIEW_STATUS='ACTIVE',
		ptws.EDGE_DESIGN_REVIEW_STATUS='ACTIVE',
		ptws.EDGE_PROJECT_INFO_STATUS='ACTIVE',
		ptws.EDGE_PROJECT_PSR_STATUS='ACTIVE',
		ptws.EDGE_PROJECT_PEC_STATUS='ACTIVE',
		ptws.EDGE_VENDOR_SERVICE_INSTALL_STATUS='ACTIVE',
		ptws.EDGE_EQUIPMENT_INSTALL_STATUS='ACTIVE',
		ptws.EDGE_EQUIPMENT_CLOSEOUT_STATUS='ACTIVE',
		ptws.EDGE_VENDOR_INFORMATION_STATUS='ACTIVE',
		ptws.EDGE_VENDOR_RATING_STATUS='ACTIVE',
		ptws.EDGE_PROJECT_SLA_STATUS='ACTIVE',
		ptws.EDGE_MANAGERS_CUSTOM_REPORTS_STATUS='ACTIVE',
		LAST_MODIFIED_BY = modifiedBy,
		LAST_MODIFIED_DATE = SYSDATE
		WHERE SITE_PROJECTS_ID = siteProjectsId;

END;

END IF;

IF(v_projModType = 'EDGE_IMPLEMENTATION_TEMPLATE' AND v_siteType = 'MSC') THEN
		DBMS_OUTPUT.PUT_LINE('Inside Edge Block');

BEGIN
	FOR AX IN(

select
		DISTINCT PTWS.SITE_PROJECTS_ID,PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID from
		project_tracker_workstep_status ptws
		INNER JOIN PROJ_TRACKER PT ON PTWS.SITE_PROJECTS_ID = PT.SITE_PROJECTS_ID
		INNER JOIN WORKSTEPS WS ON WS.WF_ID = PT.WF_ID
		where ws.workstep_name in ('EDGE_PSC_VETTING','EDGE_MEC') and ptws.site_projects_id=siteProjectsId

 )LOOP
		UPDATE PROJ_TRACKER_TASKS PTTS SET
	PTTS.TASK_STATUS = 'N/A',
		PTTS.COMPLETED_DATE ='01-Jan-1900',
		PTTS.CREATED_DATE= SYSDATE,
	PTTS.LAST_MODIFIED_BY = modifiedBy,
	PTTS.LAST_MODIFIED_DATE = SYSDATE
		WHERE PROJ_TRACKER_ID = AX.PROJ_TRACKER_ID
		AND WORKSTEP_ID = AX.WORKSTEP_ID;

		UPDATE proj_tracker_tasks_forecast pttf SET
		pttf.FORECAST_DATE='01-Jan-1900',
		pttf.LAST_MODIFIED_BY = modifiedBy,
	pttf.LAST_MODIFIED_DATE = SYSDATE
		WHERE WORKSTEP_ID=AX.WORKSTEP_ID
		and PROJ_TRACKER_ID= AX.PROJ_TRACKER_ID;

END LOOP;

		UPDATE PROJECT_TRACKER_WORKSTEP_STATUS PTWS
		SET ptws.EDGE_PSC_VETTING_STATUS='N/A',
		ptws.EDGE_PSC_VETTING_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PSC_VETTING_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_MEC_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_MEC_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_MEC_STATUS='N/A',
		LAST_MODIFIED_BY = modifiedBy,
		LAST_MODIFIED_DATE = SYSDATE
		WHERE SITE_PROJECTS_ID = siteProjectsId;

END;

END IF;

----Logic for CND

			IF(v_projModType ='EDGE_IMPLEMENTATION_TEMPLATE') THEN
				BEGIN
				SELECT PROJECT INTO v_projCat FROM PROJ_ADDITIONAL_INFO PAI
				WHERE PAI.SITE_PROJECTS_ID = siteProjectsId;
				EXCEPTION WHEN NO_DATA_FOUND THEN
				v_projCat :=NULL;
				END;

				IF(v_projCat is not null AND (INSTR(v_projCat, 'MSC AUTO CREATED FROM CND')>0)) THEN
				PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PARTNER_PROJECT_REQUEST_INSERT',actionPerformed,'N/A','',modifiedBy);
				PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PLANNING_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
				PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_DESIGN_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
 				PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_INFO_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

				END IF;
			END IF;


IF((v_projModType NOT IN('EDGE_IMPLEMENTATION_TEMPLATE') OR v_siteType <> 'MSC') AND v_projModType NOT IN('PSC_VETTING','MEC')) THEN

BEGIN
	FOR AX IN(

select
		DISTINCT PTWS.SITE_PROJECTS_ID,PT.PROJ_TRACKER_ID,WS.WORKSTEP_ID from
		project_tracker_workstep_status ptws
		INNER JOIN PROJ_TRACKER PT ON PTWS.SITE_PROJECTS_ID = PT.SITE_PROJECTS_ID
		INNER JOIN WORKSTEPS WS ON WS.WF_ID = PT.WF_ID
		where ws.workstep_name in ('EDGE_IMPLEMENTATION','EDGE_PROJECT_INFO','EDGE_EQUIPMENT_INFORMATION','EDGE_VENDOR_SERVICE_INSTALL','EDGE_EQUIPMENT_INSTALL','EDGE_EQUIPMENT_CLOSEOUT','EDGE_PSC_VETTING','EDGE_PROJECT_PEC','EDGE_PROJECT_PSR','EDGE_VENDOR_RATING','EDGE_MEC','EDGE_MANAGERS_CUSTOM_REPORTS','EDGE_VENDOR_INFORMATION','EDGE_PROJECT_SLA','EDGE_DESIGN_REVIEW','EDGE_PLANNING_REVIEW','EDGE_PARTNER_PROJECT_REQUEST') and ptws.site_projects_id=siteProjectsId

 )LOOP
		UPDATE PROJ_TRACKER_TASKS PTTS SET
	PTTS.TASK_STATUS = 'N/A',
		PTTS.COMPLETED_DATE ='01-Jan-1900',
		PTTS.CREATED_DATE= SYSDATE,
	PTTS.LAST_MODIFIED_BY = modifiedBy,
	PTTS.LAST_MODIFIED_DATE = SYSDATE
		WHERE PROJ_TRACKER_ID = AX.PROJ_TRACKER_ID
		AND WORKSTEP_ID = AX.WORKSTEP_ID;

		UPDATE proj_tracker_tasks_forecast pttf SET
		pttf.FORECAST_DATE='01-Jan-1900',
		pttf.LAST_MODIFIED_BY = modifiedBy,
	pttf.LAST_MODIFIED_DATE = SYSDATE
		WHERE WORKSTEP_ID=AX.WORKSTEP_ID
		and PROJ_TRACKER_ID= AX.PROJ_TRACKER_ID;

END LOOP;

		UPDATE PROJECT_TRACKER_WORKSTEP_STATUS PTWS
		SET ptws.EDGE_IMPLEMENTATION_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_IMPLEMENTATION_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_IMPLEMENTATION_STATUS='N/A',
		ptws.EDGE_PROJECT_INFO_STATUS='N/A',
		ptws.EDGE_PROJECT_INFO_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PROJECT_INFO_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_EQUIPMENT_INFORMATION_STATUS='N/A',
		ptws.MINOR_MS_EDGE_EQUIPMENT_INFORMATION_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_EQUIPMENT_INFORMATION_FORECAST_DATE='01/01/1900',
		ptws.EDGE_EQUIPMENT_CLOSEOUT_STATUS='N/A',
		ptws.MINOR_MS_EDGE_EQUIPMENT_CLOSEOUT_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_EQUIPMENT_CLOSEOUT_FORECAST_DATE='01/01/1900',
		ptws.EDGE_VENDOR_SERVICE_INSTALL_STATUS='N/A',
		ptws.EDGE_VENDOR_SERVICE_INSTALL_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_VENDOR_SERVICE_INSTALL_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_EQUIPMENT_INSTALL_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_EQUIPMENT_INSTALL_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_EQUIPMENT_INSTALL_STATUS='N/A',
		ptws.EDGE_PSC_VETTING_STATUS='N/A',
		ptws.EDGE_PSC_VETTING_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PSC_VETTING_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_PROJECT_PEC_STATUS='N/A',
		ptws.EDGE_PROJECT_PEC_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PROJECT_PEC_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_PROJECT_PSR_STATUS='N/A',
		ptws.MINOR_MS_EDGE_PROJECT_PSR_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_PROJECT_PSR_FORECAST_DATE='01/01/1900',
		ptws.EDGE_VENDOR_RATING_STATUS='N/A',
		ptws.MINOR_MS_EDGE_VENDOR_RATING_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_VENDOR_RATING_FORECAST_DATE='01/01/1900',
		ptws.EDGE_MEC_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_MEC_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_MEC_STATUS='N/A',
		ptws.EDGE_MANAGERS_CUSTOM_REPORTS_STATUS='N/A',
		ptws.EDGE_MANAGERS_CUSTOM_REPORTS_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_MANAGERS_CUSTOM_REPORTS_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_VENDOR_INFORMATION_STATUS='N/A',
		ptws.EDGE_VENDOR_INFORMATION_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_VENDOR_INFORMATION_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_PROJECT_SLA_STATUS='N/A',
		ptws.EDGE_PROJECT_SLA_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PROJECT_SLA_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_PARTNER_PROJECT_REQUEST_STATUS='N/A',
		ptws.EDGE_PARTNER_PROJECT_REQUEST_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PARTNER_PROJECT_REQUEST_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_DESIGN_REVIEW_STATUS='N/A',
		ptws.EDGE_DESIGN_REVIEW_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_DESIGN_REVIEW_COMPLETED_DATE='01/01/1900',
		ptws.EDGE_PLANNING_REVIEW_STATUS='N/A',
		ptws.EDGE_PLANNING_REVIEW_FORECAST_DATE='01/01/1900',
		ptws.MINOR_MS_EDGE_PLANNING_REVIEW_COMPLETED_DATE='01/01/1900',
		LAST_MODIFIED_BY = modifiedBy,
		LAST_MODIFIED_DATE = SYSDATE
		WHERE SITE_PROJECTS_ID = siteProjectsId;

END;

END IF;


	--completing the release_to_build IN_BUILDIND_AND_VENUE in InActive state
	IF(v_siteType = 'TRANSPORT-ONLY')THEN
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'RFDS,CREATE_RFDS,SUBMIT_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'IN_BUILDING_AND_VENUE_INSERT',actionPerformed,'N/A','',modifiedBy);
	END IF;


	END IF; -- END RELEASE_TO_BUILD / CREATE_PROJECT
    END IF;

    IF(currentWorkStep = 'RELEASED_TO_BUILD' OR
    (currentWorkStep = 'CREATE_PROJECT' AND
	 v_projModType IN ('SOFTWARE_ONLY_5G','EDGE_IMPLEMENTATION_TEMPLATE','STATION_REC_UPDATE','PSC_VETTING','PSC_IMPLEMENTATION_TEMPLATE','MEC','VBG_IN-BUILDING','VBG-NHN-VZ-JOIN'))) THEN

	INSERT INTO PROJ_COMPLETE_WORKSTEP_LOG(SITE_PROJECTS_ID,SITE_INFO_ID,WORKSTEP_NAME,"COMMENT",LAST_MODIFIED_BY,LAST_MODIFIED_DATE)
    	select siteProjectsId, siteInfoId, currentWorkStep,'calling PROC_REGULATORY_SYNC_MOD',modifiedBy, SYSDATE FROM DUAL;

	PROC_REGULATORY_SYNC_MOD(siteProjectsId,siteInfoId,modifiedBy);
    END IF;

    --Update the AE Milestone ACTIVE When Project Started Milestone is Completed
    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PROJECT_STARTED') = 'COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RELEASED_TO_BUILD') = 'COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'AE') = 'INACTIVE') THEN
    	  PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
    END IF;

	IF(currentWorkStep = 'CREATE_PROJECT' AND v_source='CND' AND v_projModType = 'EDGE_IMPLEMENTATION_TEMPLATE' ) THEN
		PROC_CND_PROJ_CREATION(siteProjectsId,currentWorkStep,modifiedBy);
    END IF;

    END IF; -- END for logic for MOD

    IF(currentWorkStep = 'RELEASED_TO_BUILD') THEN
    --Change Control
	    UPDATE PROJ_ADDITIONAL_INFO SET RFDS_CHANGE_CONTROL = 'Inactive', CQ_CHANGE_CONTROL = 'Inactive', LAST_MODIFIED_BY = modifiedBy,
	    LAST_MODIFIED_DATE = SYSDATE WHERE SITE_PROJECTS_ID = siteProjectsId;
--MID PROJECT REVIEW
	IF( v_projType = 'Initial Build') THEN
			IF(  v_proposedSiteType = 'TRANSPORT-ONLY' OR v_proposedSiteType = 'IN-BUILDING') THEN

		    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'MID_PROJECT_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FUNDING_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PROJECT_STATUS_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IMPLEMENTATION_ACCEPTED_INSERT',actionPerformed,'N/A','NA',modifiedBy);

			END IF;
			IF(  v_proposedSiteType = 'IN-BUILDING-VBG') THEN
			   BEGIN
		    SELECT OBJECTIVE_CATEGORY INTO v_siteObjective FROM PROJ_SARF PS
		     WHERE PS.SITE_PROJECTS_ID = siteProjectsId;
		     EXCEPTION WHEN NO_DATA_FOUND THEN
		     v_siteObjective := NULL;
		    END;
				IF(   v_siteObjective is not null
				  AND (INSTR(v_siteObjective, 'VBG Success Based')>0 OR INSTR(v_siteObjective, 'Vz-Led NHN')>0 OR INSTR(v_siteObjective, 'Vz-Join NHN')>0 )  )	THEN

			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'MID_PROJECT_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FUNDING_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PROJECT_STATUS_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'N/A','NA',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IMPLEMENTATION_ACCEPTED_INSERT',actionPerformed,'N/A','NA',modifiedBy);

			     END IF;
		END IF;

		END IF;
 --MID PROJECT REVIEW

	IF(v_proposedSiteType = 'MUlTI-CUSTOMER-UNIT' AND v_projType = 'Initial Build') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_IMPLEMENTATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_INFO_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_EQUIPMENT_INFORMATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_VENDOR_SERVICE_INSTALL_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_EQUIPMENT_INSTALL_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_EQUIPMENT_CLOSEOUT_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PSC_VETTING_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_VENDOR_RATING_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_MANAGERS_CUSTOM_REPORTS_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PARTNER_PROJECT_REQUEST_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_VENDOR_INFORMATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_SLA_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_DESIGN_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_PSR_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_PEC_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_MEC_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PLANNING_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_ASSESSMENT_AND_PLANNING_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_CONSTRUCTION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_DESIGN_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_IMPLEMENTATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_MAJOR_MATERIAL_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_MEC_DELIVERABLES_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_PRE_CONSTRUCTION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_PROJ_DETAILS_INSERT',actionPerformed,'N/A','',modifiedBy);
	END IF;

	  IF(v_proposedSiteType = 'IN-BUILDING' AND v_proposedSiteSubType IN ('EFEMTO','REPEATER','WIFI','EFEMTO Fed DAS')) THEN
	dbms_output.put_line( 'current workstep- RELEASED_TO_BUILD and projtype- initialBuild');

	dbms_output.put_line( 'working on REG Dismatlement');

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REGULATORY_DISMANTLEMENT',actionPerformed,'N/A',modifiedBy,'NA');


    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_ASSESSMENT_AND_PLANNING_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_CONSTRUCTION_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_DESIGN_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_MAJOR_MATERIAL_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_MEC_DELIVERABLES_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_PRE_CONSTRUCTION_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSC_PROJ_DETAILS_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'PSC_IMPLEMENTATION',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CLOSEOUT_DOCUMENTS_UPLOAD_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHOTO_DOCUMENTS_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENV_CONST_CLOSEOUT_INFO_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RFDS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CREATE_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'SUBMIT_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RFE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INTERNATIONAL_BORDER_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'QUIET_ZONE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CARRIER_AGREEMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INSERVICE_DOCUMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IN_BUILDING_AND_VENUE_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REGULATORY',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'SURVEY',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'STRUCTURE_FORM',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AM_FURTHER_STUDY_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ASR_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_ASR_TRANSFER_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FULL_CONSTRUCTION_APPROVAL_INSERT','actionPerformed','N/A','NA',modifiedBy);

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_ADDRESS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_SUBMITTED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_TVW_RECEIVED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'E911_READINESS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'E911_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'E911',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PRE_TCN_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CREATE_CQ_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RF_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IP_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'READY_FOR_ASSURANCE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SP_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CONQUEST',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POST_TCN_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_48HR_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RF_48HR_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_48HR_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'PHYSICAL_CONSTRUCTION_COMPLETE',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'UTILITY_INFORMATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_UTILITIES_TERMINATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'POWER',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_CREATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EQUIPMENT',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_ORCHESTRATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'VCP_ORCHESTRATION',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_ORCHESTRATION_INSERT',actionPerformed,'COMPLETED','COMPLETE',modifiedBy);

	--PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'NETWORK_ASSURANCE_INSERT',actionPerformed,'COMPLETED','COMPLETE',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'NETWORK_ASSURANCE',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'HUB_READY',actionPerformed,'N/A',modifiedBy,'NA');
	--PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'HUB_READY',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'PERMITTING',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'ZONING',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'AE',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REGULATORY_INSERVICE',actionPerformed,'N/A',modifiedBy,'NA');

    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INTEGRATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	dbms_output.put_line( 'working on ACTIVATION');

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'ACTIVATION',actionPerformed,'N/A',modifiedBy,'NA');

	dbms_output.put_line( 'working on ACTIVATION_NON_RF_INSERT');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ACTIVATION_NON_RF_INSERT',actionPerformed,'ACTIVE','',modifiedBy);


	/*PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_INFO_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PLANNING_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PARTNER_PROJECT_REQUEST_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_DESIGN_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_FUNDING_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_EQUIPMENT_INFORMATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_VENDOR_SERVICE_INSTALL_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_EQUIPMENT_INSTALL_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_EQUIPMENT_CLOSEOUT_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PSC_VETTING_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_MEC_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_PEC_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_PSR_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_VENDOR_RATING_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_MANAGERS_CUSTOM_REPORTS_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_VENDOR_INFORMATION_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EDGE_PROJECT_SLA_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_IMPLEMENTATION',actionPerformed,'N/A',modifiedBy,'NA');
	*/


	dbms_output.put_line( 'End of efemto: ');
	END IF;

    END IF;

	IF(currentWorkStep = 'CREATE_PROJECT' and v_projType = 'Initial Build')THEN

		 IF(v_proposedSiteType = 'TRANSPORT-ONLY' AND v_proposedSiteSubType = 'MICROWAVE ONLY')
			THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHOTO_DOCUMENTS_INSERT',actionPerformed,'N/A','N/A',modifiedBy);
		 END IF;

	IF(v_proposedSiteType = 'IN-BUILDING-VBG') THEN

    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_CONTRACT_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ONE_FIBER_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_DELIVERY_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'MICROWAVE_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'HUB_READY_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_ORCHESTRATION_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','',modifiedBy);
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ACTIVATION_NON_RF_INSERT',actionPerformed,'N/A','',modifiedBy);


	/*BEGIN
	SELECT OBJECTIVE_CATEGORY INTO v_siteObjective FROM PROJ_SARF PS
	WHERE PS.SITE_PROJECTS_ID = siteProjectsId;
	EXCEPTION WHEN NO_DATA_FOUND THEN
	v_siteObjective := NULL;
	END;

    IF(v_siteObjective is not null AND INSTR(v_siteObjective, 'Vz-Join NHN')>0) THEN
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PROJECT_STARTED_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSLC_FUNDING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RELEASED_TO_BUILD_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SELECT_VENDOR_INSERT',actionPerformed,'N/A','',modifiedBy);
    ELSIF(v_siteObjective is not null AND (INSTR(v_siteObjective, 'VBG Success Based')>0 OR INSTR(v_siteObjective, 'Vz-Led NHN')>0 )) THEN
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PROJECT_STARTED_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSLC_FUNDING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RELEASED_TO_BUILD_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CANDIDATE_SUBMIT_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CANDIDATE_SELECTION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	ELSE
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PROJECT_STARTED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RELEASED_TO_BUILD_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'LOCATION_CODE_CREATED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PSLC_FUNDING_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SELECT_VENDOR_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CANDIDATE_SUBMIT_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CANDIDATE_SELECTION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		 --MID PROJECT REVIEW
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'MID_PROJECT_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FUNDING_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PROJECT_STATUS_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IMPLEMENTATION_ACCEPTED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
    END IF;*/
	END IF;

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_IMPLEMENTATION',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_PROJECT_INFO',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_EQUIPMENT_INFORMATION',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_VENDOR_SERVICE_INSTALL',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_EQUIPMENT_INSTALL',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_EQUIPMENT_CLOSEOUT',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_PROJECT_PEC',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_PROJECT_PSR',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_VENDOR_RATING',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_MANAGERS_CUSTOM_REPORTS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_PSC_VETTING',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_MEC',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_VENDOR_INFORMATION',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_DESIGN_REVIEW',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_PLANNING_REVIEW',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_PARTNER_PROJECT_REQUEST',actionPerformed,'N/A',modifiedBy,'NA');

    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_INTEGRATE',actionPerformed,'N/A',modifiedBy,'NA');

	--OSHA TASKS for Initial Build
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'OSHA_ROOFTOP_ASSESSMENT_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INITIAL_SAFETY_INFORMATION_COMPLETED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POST_SAFETY_INFORMATION_COMPLETED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POST_ROOFTOP_AUDIT_COMPLETED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ENABLE_TRANSPORT_NON_ONEF',actionPerformed,'N/A','',modifiedBy);

    /*	--Inserting site id value when new project get creates
     INSERT INTO SITE_TRANSPORT_ATTRIBUTES (SITE_INFO_ID) VALUES (v_siteInfoId);*/

     --Updating CND fields with local market
     PROC_GRANITE_SYNC_FIELDS(siteProjectsId,v_siteInfoId,modifiedBy);

     -- map the Baers Document for Initial Build with site type as MCU.
     IF(v_proposedSiteType = 'MULTI-CUSTOMER-UNIT') THEN
	PROC_MAP_BAERS_DOCUMENTS_TO_FUZE(v_siteInfoId,modifiedBy);
     END IF;

    END IF;-- END of CREATE_PROEJCT for IB

    IF((currentWorkStep='RELEASED_TO_BUILD' OR currentWorkStep = 'CREATE_PROJECT' OR currentWorkStep = 'RF_ACCEPT_RANKING') AND  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'LEASING') = 'N/A') THEN
	BEGIN
	    SELECT LSE_FULLLY_EXEC_AC_DT,LSE_FULLLY_EXEC_FC_DT INTO lease_ac_dt,lease_fc_dt
	    FROM PROJ_ST_FIELDS_DATA PS
	    INNER JOIN PROJECT_TRACKER_WORKSTEP_STATUS PTWS ON PTWS.SITE_PROJECTS_ID=PS.SITE_PROJECTS_ID
	    WHERE PTWS.SITE_PROJECTS_ID=siteProjectsId;
	    EXCEPTION WHEN OTHERS THEN
		lease_ac_dt := null;
	lease_fc_dt := null;
	    END;

	IF(lease_ac_dt IS NULL AND lease_fc_dt IS NULL AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'LEASING') = 'N/A') THEN
	    UPDATE PROJ_ST_FIELDS_DATA SET LSE_FULLLY_EXEC_AC_DT='01/01/1900',LSE_FULLLY_EXEC_FC_DT='01/01/1900' WHERE SITE_PROJECTS_ID=siteProjectsId;
	END IF;
    END IF;

	IF(currentWorkStep = 'EDGE_EQUIPMENT_INFORMATION' AND v_projModType = 'EDGE_IMPLEMENTATION_TEMPLATE' AND v_siteType = 'MSC') THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_VENDOR_SERVICE_INSTALL',actionPerformed,'ACTIVE',modifiedBy,'NA');
    END IF ;

    IF((currentWorkStep = 'EDGE_EQUIPMENT_CLOSEOUT') AND (v_projModType <> 'PSC_VETTING')) THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS',actionPerformed,'ACTIVE',modifiedBy,'NA');
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS_UPLOAD',actionPerformed,'ACTIVE',modifiedBy,'NA');
    END IF;

	 IF(currentWorkStep = 'PSC_MEC_DELIVERABLES') THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS',actionPerformed,'ACTIVE',modifiedBy,'NA');
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS_UPLOAD',actionPerformed,'ACTIVE',modifiedBy,'NA');
	END IF;

    IF((currentWorkStep = 'EDGE_MEC') AND v_projModType NOT IN('PSC_VETTING','EDGE_IMPLEMENTATION_TEMPLATE')) THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS',actionPerformed,'ACTIVE',modifiedBy,'NA');
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CLOSEOUT_DOCUMENTS_UPLOAD',actionPerformed,'ACTIVE',modifiedBy,'NA');
    END IF;

    IF(currentWorkStep='CONSTRUCTION_READY' AND v_projModType = 'DISMANTLEMENT' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY') = 'COMPLETED')THEN
       IF(v_utilityMakeReadyCompletedAcDt = '09/09/1900' OR v_externalNtpAcDt = '09/09/1900' OR v_implemantationReadyAcDt = '09/09/1900') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','REJECTED','',modifiedBy);
       ELSE
       PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','COMPLETED','',modifiedBy);
    END IF;
    END IF;

	IF(currentWorkStep = 'EDGE_EQUIPMENT_INFORMATION' AND v_projModType = 'EDGE_IMPLEMENTATION_TEMPLATE' AND v_siteType = 'MSC') THEN
		BEGIN
			SELECT dbms_xmlgen.convert(LTRIM(RTRIM(XMLAGG(XMLELEMENT(E,ACTIVITY_TYPE,',').EXTRACT('E/text()')).GetClobVal(),','),','),1) INTO edgeActivityType FROM EDGE_PO_VENDOR_DETAILS EPVD
			WHERE EPVD.SITE_PROJECTS_ID = siteProjectsId;
			EXCEPTION WHEN NO_DATA_FOUND THEN
			edgeActivityType :=NULL;
		END;
    IF(edgeActivityType is not null AND INSTR(edgeActivityType, 'Service PO')>0) THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_VENDOR_RATING',actionPerformed,'ACTIVE',modifiedBy,'NA');

	ELSIF((edgeActivityType is null) OR INSTR(edgeActivityType, 'Service PO')=0) THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_VENDOR_RATING',actionPerformed,'N/A',modifiedBy,'NA');

    END IF;
	END IF;

	IF(currentWorkStep = 'EDGE_PROJECT_PSR') THEN
		BEGIN
				SELECT PROJECT_PSR_POWER_CABLING_COMPLETE_AC_DT INTO projectPsrPowerCablingCompleteAcDt FROM PROJ_EDGE_ENGINEERING_DETAILS PEED
				WHERE PEED.SITE_PROJECTS_ID = siteProjectsId;
				EXCEPTION WHEN NO_DATA_FOUND THEN
				projectPsrPowerCablingCompleteAcDt :=NULL;
		END;
	IF(projectPsrPowerCablingCompleteAcDt is not null AND projectPsrPowerCablingCompleteAcDt not in ('01/01/1900')) THEN
	BEGIN
		FOR AX IN (SELECT EV.EVENT_ID FROM EVENT_SITE_PROJECTS_MAPPING ESPM
		INNER JOIN EVENTS EV ON ESPM.EVENT_ID = EV.EVENT_ID
		INNER JOIN EVENT_TYPES EVT ON EV.EVENT_TYPE_ID = EVT.EVENT_TYPE_ID
		WHERE EVT.EVENT_TYPE='PSR Ready' AND EV.EVENT_STATUS not in ('Completed')
	)LOOP
		UPDATE EVENTS EV SET
		EV.EVENT_STATUS='Completed',
		EV.LAST_MODIFIED_BY = modifiedBy,
		EV.LAST_MODIFIED_DATE = SYSDATE
		WHERE EVENT_ID= AX.EVENT_ID;
	END LOOP;
	END;
	END IF;
	END IF;

	IF(currentWorkStep = 'EDGE_PROJECT_PEC' AND v_projModType = 'EDGE_IMPLEMENTATION_TEMPLATE' ) THEN
			BEGIN
				SELECT dbms_xmlgen.convert(LTRIM(RTRIM(XMLAGG(XMLELEMENT(E,PROJ_PEC_REQUIRED,',').EXTRACT('E/text()')).GetClobVal(),','),','),1) INTO pecOwner FROM PROJ_EDGE_ENGINEERING_DETAILS PEED
				WHERE PEED.SITE_PROJECTS_ID = siteProjectsId;
				EXCEPTION WHEN NO_DATA_FOUND THEN
				pecOwner :=NULL;
			END;
		IF(pecOwner is not null AND INSTR(pecOwner, 'MEC')>0) THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'EDGE_MEC',actionPerformed,'ACTIVE',modifiedBy,'NA');


		END IF;
	END IF;

    -- ON CANDIDATE_SUBMIT Mark CANDIDATE_ACCEPT, TRANSPORT_REVIEW, CONSTRUCTION_REVIEW As COMPLETED for Site Type In-Building and Venue (Excluding EFEMTO)/Transport Only
    IF(currentWorkStep = 'CANDIDATE_SUBMIT') THEN

	IF(v_proposedSiteType in ('TRANSPORT-ONLY','HUB','IN-BUILDING-VBG','MULTI-CUSTOMER-UNIT') OR
	    (v_proposedSiteType IN ('IN-BUILDING','VENUE') AND v_proposedSiteSubType NOT IN ('EFEMTO','EFEMTO Fed DAS','WIFI'))) THEN

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CANDIDATE_ACCEPT_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_REVIEW_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_REVIEW_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RF_ACCEPT_RANKING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

	END IF;
    END IF; -- End of In-Building and Venue (Excluding EFEMTO)/Transport Only

    IF (currentWorkStep = 'SUBMIT_RFDS') THEN
	IF(v_proposedSiteType IN ('IN-BUILDING-VBG','IN-BUILDING','VENUE')) THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'IN_BUILDING_AND_VENUE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		ELSE
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'IN_BUILDING_AND_VENUE_INSERT',actionPerformed,'N/A','',modifiedBy);
	END IF;
	--Mid-Review
	IF(v_projType = 'Initial Build' AND v_proposedSiteType IN ('MACRO','SMALL-CELL','MEDIUM-CELL','TEMPORARY','IN-BUILDING') ) THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_DQI_VALIDATION_QUEUE_WRAPPER(siteProjectsId,'INITIATIVE_VERIFICATION', 'BULK',modifiedBy);
	END IF;
	IF(v_projType = 'Modification' AND v_projModType IN ('RF','RF_HUB_HARDWARE','VBG-NHN-VZ-JOIN','VBG_IN-BUILDING') ) THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_DQI_VALIDATION_QUEUE_WRAPPER(siteProjectsId,'INITIATIVE_VERIFICATION', 'BULK',modifiedBy);
	END IF;--Mid-Review
    END IF;

    IF(currentWorkStep = 'RF_ACCEPT_RANKING' AND v_proposedSiteType = 'IN-BUILDING' AND v_proposedSiteSubType IN ('EFEMTO','REPEATER','WIFI','EFEMTO Fed DAS')) THEN
    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RFDS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CREATE_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'SUBMIT_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RFE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INTERNATIONAL_BORDER_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'QUIET_ZONE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CARRIER_AGREEMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INSERVICE_DOCUMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IN_BUILDING_AND_VENUE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'ZONING',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'PERMITTING',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'INTEGRATION',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'ACTIVATION',actionPerformed,'N/A',modifiedBy,'NA');
    --PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'AE',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AE_INSERT',actionPerformed,'N/A','NA',modifiedBy);

    END IF;

    IF(currentWorkStep = 'RF_ACCEPT_RANKING' AND v_proposedSiteType != 'IN-BUILDING' AND v_proposedSiteSubType NOT IN ('EFEMTO','REPEATER','WIFI','EFEMTO Fed DAS')) THEN
	    IF(v_proposedSiteType = 'IN-BUILDING-VBG') THEN
		BEGIN
		    SELECT OBJECTIVE_CATEGORY INTO v_siteObjective FROM PROJ_SARF PS
		    WHERE PS.SITE_PROJECTS_ID = siteProjectsId;
		EXCEPTION WHEN NO_DATA_FOUND THEN
		    v_siteObjective := NULL;
		END;

	    IF (v_siteObjective is not null AND INSTR(v_siteObjective, 'Vz-Join NHN')>0) THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'LEASING_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ZONING_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SURVEY_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AM_FURTHER_STUDY_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ASR_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_DISMANTLEMENT_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FULL_CONSTRUCTION_APPROVAL_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PERMITTING_INSERT',actionPerformed,'N/A','',modifiedBy);

		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_READY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PRE_TCN_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT',actionPerformed,'N/A','',modifiedBy);

		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'EQUIPMENT_CREATION_INSERT',actionPerformed,'N/A','',modifiedBy);
		-- PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'AWAT_MATERIAL_ALLOCATION_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'EQUIPMENT_INSERT',actionPerformed,'N/A','',modifiedBy);

	    END IF;
	 END IF;

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'HUB_READY',actionPerformed,'N/A',modifiedBy,'NA');

		-- Adding for VMB messages to NPP
	INSERT INTO PROJ_HISTORY(SITE_PROJECTS_ID,TABLE_NAME,COLUMN_NAME,OLD_VALUE,NEW_VALUE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
	    VALUES(siteProjectsId, 'SITE_INFO', 'LATITUDE', '', v_siteLatitude, SYSDATE, modifiedby);
	INSERT INTO PROJ_HISTORY(SITE_PROJECTS_ID,TABLE_NAME,COLUMN_NAME,OLD_VALUE,NEW_VALUE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
	    VALUES(siteProjectsId, 'SITE_INFO', 'LONGITUDE', '', v_siteLongitude, SYSDATE, modifiedby);


	IF(v_proposedSiteType = 'IN-BUILDING') THEN
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'SURVEY',actionPerformed,'COMPLETED',modifiedBy,'NA');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'ZONING',actionPerformed,'N/A',modifiedBy,'NA');
	END IF;

	IF(v_leaseFullyExecAcDt IS NOT NULL) THEN
	    IF(v_leaseFullyExecAcDt = '09/09/1900') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'LEASING_INSERT','COMPLETE','REJECTED','',modifiedBy);
		ELSE
			 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'LEASING_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	END IF;
	END IF;

	--TransportM Enhancement
/*
	IF(v_awardedAcDt IS NOT NULL) THEN
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'TRANSPORT_CONTRACT',actionPerformed,'COMPLETED',modifiedBy,'');
	END IF;
*/
	IF(v_zoningApprdAcDt IS NOT NULL) THEN
	    IF(v_zoningApprdAcDt = '09/09/1900' OR v_zoningFldAcDt = '09/09/1900') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ZONING_INSERT','COMPLETE','REJECTED','',modifiedBy);
	ELSE
			 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ZONING_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	END IF;
	END IF;

	IF(v_realEstateCompleteAcDt IS NOT NULL AND is_dismantlement = 'true') THEN
		IF(v_realEstateCompleteAcDt = '09/09/1900') THEN
			PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REAL_ESTATE_COMPLETE',actionPerformed,'REJECTED',modifiedBy,'');
	    ELSE
			PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REAL_ESTATE_COMPLETE',actionPerformed,'COMPLETED',modifiedBy,'');
	    END IF;
	END IF;

	IF(is_dismantlement = 'true') THEN
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'PERMITTING',actionPerformed,'COMPLETED',modifiedBy,'');

	ELSIF(is_dismantlement='false' AND v_allPermitsRecvdAcDt IS NOT NULL AND v_allPermitsAprvdAcDt IS NOT NULL) THEN
	   IF(v_allPermitsRecvdAcDt = '09/09/1900' OR v_allPermitsAprvdAcDt = '09/09/1900') THEN
	   	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PERMITTING_INSERT','COMPLETE','REJECTED','',modifiedBy);
       ELSE
			 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PERMITTING_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	END IF;
	END IF;

	IF(v_electricCompltAcDt IS NOT NULL AND is_dismantlement = 'true') THEN
		IF(v_electricCompltAcDt = '09/09/1900') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_COMPLETE_INSERT','COMPLETE','REJECTED','',modifiedBy);
	ELSE
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_COMPLETE_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	END IF;

	    PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'POWER_COMPLETE',NULL,siteInfoId,'QUEUED',modifiedBy);
	END IF;

		-- changed for new template
	IF(v_siteType in ('TRANSPORT-ONLY','HUB')) THEN

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RFDS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CREATE_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'SUBMIT_RFDS',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RFE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INTERNATIONAL_BORDER_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'QUIET_ZONE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CARRIER_AGREEMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INSERVICE_DOCUMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IN_BUILDING_AND_VENUE_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_ADDRESS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_SUBMITTED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_TVW_RECEIVED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'E911_READINESS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'E911_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'E911',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CREATE_CQ_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RF_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IP_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'READY_FOR_ASSURANCE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SP_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CONQUEST',actionPerformed,'N/A',modifiedBy,'NA');

	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REGULATORY',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'SURVEY',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'STRUCTURE_FORM',actionPerformed,'N/A',modifiedBy,'NA');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AM_FURTHER_STUDY_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ASR_FORM_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_ASR_TRANSFER_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FULL_CONSTRUCTION_APPROVAL_INSERT','actionPerformed','N/A','NA',modifiedBy);

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ENVIRONMENTAL_REVIEW_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'LEASING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ENABLE_TRANSPORT_NON_ONEF',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ZONING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PRE_TCN_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REAL_ESTATE_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PERMITTING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CREATE_CQ_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	-- PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AWAT_MATERIAL_ALLOCATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VCP_ORCHESTRATION',actionPerformed,'N/A',modifiedBy,'');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'FAR_EDGE_INSTANTIATION',actionPerformed,'N/A',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'DC_DISCOVERY',actionPerformed,'N/A',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DEPLOY_READINESS',actionPerformed,'N/A',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DAY_0_COMPLETE',actionPerformed,'N/A',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DAY_1_COMPLETE',actionPerformed,'N/A',modifiedBy,'');

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ENABLE_PCC',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'UTILITY_INFORMATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_INSERVICE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'NETWORK_ASSURANCE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'INTEGRATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ACTIVATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ACTIVATION_NON_RF_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CLOSEOUT_DOCUMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	END IF; -- end for (v_siteType = 'TRANSPORT-ONLY')

    IF(v_proposedSiteType = 'TRANSPORT-ONLY' AND v_proposedSiteSubType = 'MICROWAVE ONLY') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'SURVEY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
    END IF;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'FULL_CONSTRUCTION_APPROVAL') = 'COMPLETED') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FULL_CONSTRUCTION_APPROVAL_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	END IF;

	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ASR_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);

	IF(v_projType = 'Initial Build' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RF_ACCEPT_RANKING') = 'COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'AE') = 'INACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
    END IF;

     IF (v_proposedSiteType = 'MULTI-CUSTOMER-UNIT') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'UTILITY_INFORMATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_UTILITIES_TERMINATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PERMITTING_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ZONING_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	-- Making EDD milestone NA for MCU
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ENVIRONMENTAL_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TERRITORY_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TSDF_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GLOBAL_EHS_REVIEW_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ENVIRONMENTAL_DUE_DILIGENCE_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	END IF;
    END IF; -- END for RF_ACCEPT_RANKING

    -- On FULL_CONSTRUCTION_APPROVAL Completion, complete all other Active Tasks
    IF(currentWorkStep = 'FULL_CONSTRUCTION_APPROVAL') THEN
	BEGIN
	    select
	    CASE WHEN SPECIAL_CONDITIONS='Yes' THEN 'true'
	    WHEN SPECIAL_CONDITIONS='No' THEN 'false'
	    END AS SPECIAL_CONDITIONS INTO v_faaSpecial_cond
	    from PROJ_REG_FAA
	    WHERE SITE_PROJECTS_ID = siteProjectsId;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_faaSpecial_cond := NULL;
	END;
	BEGIN
	    select SP_REQMNTS INTO v_nepaSpecial_rq from NEPA_TRACKER
		WHERE TRACKER_ID=(SELECT MAX(TRACKER_ID) FROM NEPA_TRACKER WHERE SITE_PROJECTS_ID=siteProjectsId);

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_nepaSpecial_rq := NULL;
	END;
    IF((FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY') = 'COMPLETED' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'FULL_CONSTRUCTION_APPROVAL') = 'COMPLETED')
	AND ((v_faaSpecial_cond IS NOT NULL AND v_faaSpecial_cond IN ('true')) OR (v_nepaSpecial_rq IS NOT NULL AND v_nepaSpecial_rq NOT IN ('N/A')))) THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	ELSE
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT',actionPerformed,'N/A','',modifiedBy);
    END IF;


	IF(v_projModType = 'STATION_REC_UPDATE')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'N/A','NA',modifiedBy); -- CONSTRUCTION_READY_RTC,CONSTRUCTION_READY
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PRE_TCN_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENABLE_PCC',actionPerformed,'N/A','NA',modifiedBy); -- PHYSICAL_CONSTRUCTION_COMPLETE, CONSTRUCTION_FORM
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_48HR_REVIEW_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_TCN_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_INSERVICE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'NETWORK_ASSURANCE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INTEGRATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ACTIVATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	END IF;

	IF(v_projModType = 'CONSTRUCTION_ONLY')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'N/A','NA',modifiedBy); -- CONSTRUCTION_READY_RTC,CONSTRUCTION_READY
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PRE_TCN_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENABLE_PCC',actionPerformed,'N/A','NA',modifiedBy); -- PHYSICAL_CONSTRUCTION_COMPLETE, CONSTRUCTION_FORM
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_48HR_REVIEW_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_TCN_INSERT',actionPerformed,'COMPLETED','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_INSERVICE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	END IF;

	IF(v_projModType = 'MICROWAVE_ONLY')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'NETWORK_ASSURANCE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST') IN('N/A','COMPLETED'))THEN
		PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'NETWORK_ASSURANCE',NULL,siteInfoId,'QUEUED',modifiedBy);
	    END IF;

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INTEGRATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'INTEGRATION',NULL,siteInfoId,'QUEUED',modifiedBy);
	END IF;

	-- when FCA is given complete all ACTIVE tasks in Regulatory Construction Milestone
	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SURVEY') = 'ACTIVE')THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'SURVEY_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	    SELECT FUNC_MERGE_PROJ_TASK_COMMENT(siteProjectsId,modifiedBy,'Task is COMPLETED as Full Construction is Given by Regulatory','SURVEY', 1)
	    INTO mergeProjTaskComment FROM DUAL;
	END IF;

	BEGIN
	    SELECT NTC_REQD INTO ntcReqd
	    FROM PROJ_ENV_DUE_DELIGENCE_RESTR_SERVICES
	    WHERE SITE_PROJECTS_ID = siteProjectsId   AND ROWNUM <= 1	ORDER BY VERSION DESC;
	    EXCEPTION WHEN NO_DATA_FOUND THEN
	ntcReqd := NULL;
	 END;
    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'TERRITORY_REVIEW') IN('N/A','COMPLETED')) THEN
    IF(v_ProjType LIKE 'Initial Build') THEN
	 IF (ntcReqd = 'Yes') THEN
		     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    ELSE
		     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);
	    END IF;
	 IF(
	    FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE') AND
	    FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ENVIRONMENTAL_DUE_DILIGENCE') IN('COMPLETED','N/A')
	    )
	THEN

	if (v_IsmidTesting = 'false') then
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);		
	end if;

	 END IF;
    ELSE
	IF(v_projModType NOT IN ('NON_RF_REAL_ESTATE','ENV_ONLY')) THEN
	    IF (ntcReqd = 'Yes') THEN
		     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    ELSE
		     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);
	    END IF;
	 IF(
	    FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE') AND
	    FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ENVIRONMENTAL_DUE_DILIGENCE') IN('COMPLETED','N/A')
	    )
	THEN

	if (v_IsmidTesting = 'false') then
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	end if;

	 END IF;
    END IF;
    END IF;
    END IF;

    INSERT INTO PROJ_COMPLETE_WORKSTEP_LOG(SITE_PROJECTS_ID,SITE_INFO_ID,WORKSTEP_NAME,"COMMENT",LAST_MODIFIED_BY,LAST_MODIFIED_DATE)
	select siteProjectsId, siteInfoId, currentWorkStep,'PROC_WORKSTEP_RULES 2  -',modifiedBy, SYSDATE FROM DUAL;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'ACTIVE') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'STRUCTURE_FORM_INSERT','COMPLETE','COMPLETED','',modifiedBy);

	    SELECT FUNC_MERGE_PROJ_TASK_COMMENT(siteProjectsId,modifiedBy,'Task is COMPLETED as Full Construction is Given by Regulatory','STRUCTURE_FORM', 1)
	    INTO mergeProjTaskComment FROM DUAL;
	END IF;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'AM_FURTHER_STUDY') = 'ACTIVE')THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'AM_FURTHER_STUDY_INSERT','COMPLETE','COMPLETED','',modifiedBy);

	    SELECT FUNC_MERGE_PROJ_TASK_COMMENT(siteProjectsId,modifiedBy,'Task is COMPLETED as Full Construction is Given by Regulatory','AM_FURTHER_STUDY', 1)
	    INTO mergeProjTaskComment FROM DUAL;

	END IF;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_FOR_NEPA') = 'ACTIVE') THEN

			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	    SELECT FUNC_MERGE_PROJ_TASK_COMMENT(siteProjectsId,modifiedBy,'Task is COMPLETED as Full Construction is Given by Regulatory','SUBMIT_FOR_NEPA', 1)
	    INTO mergeProjTaskComment FROM DUAL;
	END IF;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'GROUND_ONLY_APPROVAL') = 'ACTIVE')THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT','COMPLETE','COMPLETED','',modifiedBy);

	    SELECT FUNC_MERGE_PROJ_TASK_COMMENT(siteProjectsId,modifiedBy,'Task is COMPLETED as Full Construction is Given by Regulatory','GROUND_ONLY_APPROVAL', 1)
	    INTO mergeProjTaskComment FROM DUAL;
	END IF;
    END IF;   -- End of FULL_CONSTRUCTION_APPROVAL

    IF(currentWorkStep = 'STRUCTURE_FORM')THEN
	    IF( FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'FAA_FORM') = 'INACTIVE') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'FAA_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
	    END IF;
	    IF( FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ASR_FORM') = 'INACTIVE') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'ASR_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
	    END IF;

	PROC_CAL_FAA_FREQ_FILING(siteProjectsId,modifiedBy,currentWorkStep);

	IF( FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'COMPLETED') THEN
		BEGIN
			select FAA_TRANSFER_REQ,ASR_TRANSFER_REQ INTO v_faa_trans_req,v_asr_trans_req from SPM_PROJECT_TRACKER_EXT where SITE_PROJECTS_ID = siteProjectsId;
			EXCEPTION WHEN NO_DATA_FOUND THEN
			v_faa_trans_req := NULL;
			v_asr_trans_req := NULL;
		END;
		IF(v_faa_trans_req = 'Yes' OR v_asr_trans_req = 'Yes' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'FAA_ASR_TRANSFER') != 'COMPLETED') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAA_ASR_TRANSFER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		ELSE
	IF(v_faa_trans_req = 'No' AND v_asr_trans_req = 'No') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAA_ASR_TRANSFER_INSERT',actionPerformed,'N/A','',modifiedBy);
		END IF;
	END IF;
	END IF;

    END IF;

    SELECT INSTR('CONSTRUCTION_READY,PRE_TCN',currentWorkStep) into constRTCTaskIndex from dual;
    -- on Construction Ready RTC completion OPEN PCC
    IF(is_dismantlement='true' AND ((currentWorkStep = 'CONSTRUCTION_READY' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY') = 'COMPLETED')
	AND (currentWorkStep = 'PRE_TCN' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PRE_TCN') = 'COMPLETED')
	OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') = 'COMPLETED'))THEN

	    IF(constRTCTaskIndex > 0) THEN
		PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'CONSTRUCTION_READY_RTC',NULL,siteInfoId,'QUEUED',modifiedBy);
	    END IF;

	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PHYSICAL_CONSTRUCTION_COMPLETE') = 'INACTIVE') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENABLE_PCC',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_TCN_INSERT',actionPerformed,'N/A','NA',modifiedBy);

	    END IF;

	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_FORM') = 'INACTIVE') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_FORM',actionPerformed,'ACTIVE','',modifiedBy);

	    END IF;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'BUILD_CONSTRUCTION_COMPLETE') = 'INACTIVE') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    END IF;


    END IF;

    -- On CONSTRUCTION_FORM if CONSTRUCTION_FORM_DOCS is not there then Autocomplete else insert 48HR_DOCUMENT_VERIFICATION
    IF(currentWorkStep = 'CONSTRUCTION_FORM') THEN
		-- for RFDS WORKFLOW
		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_FORM') = 'COMPLETED') THEN
	--		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_48HR_REVIEW_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

			--NTSCE-2843 start
			BEGIN
			select count(*) into v_apiQueueCount
			from fuze_external_intf_invoke_queue
			where status in ('PROCESSING', 'EXECUTING', 'QUEUED')-- ('FAILED', 'COMPLETED', 'BLOCK')
			and ext_intf_name = 'SPM'
			and api_name = '48_HR_REVIEW_DOCUMENT_DRM'
			and ref_num = siteProjectsId
			and ref_type in ('CONSTRUCTION_48HR_REVIEW');

			EXCEPTION WHEN OTHERS THEN
			v_apiQueueCount := 0;
		    END;

		    IF(v_apiQueueCount = 0) THEN
		    SELECT GET_DOC_ROUTING_WORKFLOW_ID(siteProjectsId,'48_HR_REVIEW_DOCS','CONST_48_HR_REVIEW_DOC') into docRoutingWorkflowId FROM DUAL;

			SELECT JSON_QUERY(dbms_lob.substr(FUNC_DOC_ROUTING_PREVIEW(siteProjectsId,'48_HR_REVIEW_DOCS','CONST_48_HR_REVIEW_DOC'), 4000, 1),
							'$.templateJson' ) into v_drmTemplateJson FROM DUAL;

			if(docRoutingWorkflowId is not null and v_drmTemplateJson is not null) then
				PROC_INSERT_API_QUEUE('SPM','48_HR_REVIEW_DOCUMENT_DRM', v_drmTemplateJson, siteProjectsId, 'CONSTRUCTION_48HR_REVIEW', null, docRoutingWorkflowId, 'QUEUED', modifiedBy);
			end if;
		END IF;
		--NTSCE-2843 end
		END IF;

	IF(v_asBuildDataAprovedDate = '09/09/1900' OR v_constCompltAcDt = '09/09/1900' ) THEN
       		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_FORM_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	END IF;

    END IF;

--NTSCE-2843 start
    IF(currentWorkStep = 'CONSTRUCTION_48HR_REVIEW') THEN
	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_48HR_REVIEW') = 'COMPLETED') THEN
	    BEGIN
		select RF_REVIEW_REQUIRED ,AS_BUILT_DISCREPANCY INTO v_rfReviewReq,v_asbuiltDis from PROJ_STRUCTURE where SITE_PROJECTS_ID = siteProjectsId;
		EXCEPTION WHEN NO_DATA_FOUND THEN
		v_rfReviewReq := NULL;
		v_asbuiltDis :=NULL;
	END;
    BEGIN
		select REG_TOLERANCES_EXCEEDED INTO v_reg_tolerance_exeeded from SPM_PROJECT_TRACKER_EXT where SITE_PROJECTS_ID = siteProjectsId;
		EXCEPTION WHEN NO_DATA_FOUND THEN
		v_reg_tolerance_exeeded := NULL;
	    END;
	    IF(v_rfReviewReq = 'Yes' OR v_asbuiltDis = 'Yes') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'RF_48HR_REVIEW_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

		BEGIN
		select count(*) into v_apiQueueCount
		from fuze_external_intf_invoke_queue
		where status in ('PROCESSING', 'EXECUTING', 'QUEUED')-- ('FAILED', 'COMPLETED', 'BLOCK')
		and ext_intf_name = 'SPM'
		and api_name = '48_HR_REVIEW_DOCUMENT_DRM'
		and ref_num = siteProjectsId
		and ref_type in ('RF_48HR_REVIEW');

		EXCEPTION WHEN OTHERS THEN
		v_apiQueueCount := 0;
		END;

		IF(v_apiQueueCount = 0) THEN
		    SELECT GET_DOC_ROUTING_WORKFLOW_ID(siteProjectsId,'48_HR_REVIEW_DOCS','RF_48_HR_REVIEW_DOC') into docRoutingWorkflowId FROM DUAL;

		    SELECT JSON_QUERY(dbms_lob.substr(FUNC_DOC_ROUTING_PREVIEW(siteProjectsId,'48_HR_REVIEW_DOCS','RF_48_HR_REVIEW_DOC'), 4000, 1),
				'$.templateJson' ) into v_drmTemplateJson FROM DUAL;

		    if(docRoutingWorkflowId is not null and v_drmTemplateJson is not null) then
			PROC_INSERT_API_QUEUE('SPM','48_HR_REVIEW_DOCUMENT_DRM', v_drmTemplateJson, siteProjectsId, 'RF_48HR_REVIEW', null, docRoutingWorkflowId, 'QUEUED', modifiedBy);
		    end if;
		END IF;

	    END IF;
	    IF(v_rfReviewReq = 'No' AND v_asbuiltDis = 'No') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'RF_48HR_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
	    END IF;

	    -- REGULATORY_48HR LOGIC STARTS (When CONSTRUCTION_48HR_REVIEW = COMPLETED)
	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY') NOT IN ('N/A') AND (v_reg_tolerance_exeeded = 'Yes' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY_CONSTRUCTION_SPECIAL_REQUIREMENTS') IN ('ACTIVE','COMPLETED'))) THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_48HR_REVIEW_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

		BEGIN
		select count(*) into v_apiQueueCount
		from fuze_external_intf_invoke_queue
		where status in ('PROCESSING', 'EXECUTING', 'QUEUED')-- ('FAILED', 'COMPLETED', 'BLOCK')
		and ext_intf_name = 'SPM'
		and api_name = '48_HR_REVIEW_DOCUMENT_DRM'
		and ref_num = siteProjectsId
		and ref_type in ('REGULATORY_48HR_REVIEW');

		EXCEPTION WHEN OTHERS THEN
		v_apiQueueCount := 0;
		END;

		IF(v_apiQueueCount = 0) THEN

			SELECT GET_DOC_ROUTING_WORKFLOW_ID(siteProjectsId,'48_HR_REVIEW_DOCS','REGUL_48_HR_REVIEW_DOC') into docRoutingWorkflowId FROM DUAL;

			SELECT JSON_QUERY(dbms_lob.substr(FUNC_DOC_ROUTING_PREVIEW(siteProjectsId,'48_HR_REVIEW_DOCS','REGUL_48_HR_REVIEW_DOC'), 4000, 1),
				    '$.templateJson' ) into v_drmTemplateJson FROM DUAL;

			if(docRoutingWorkflowId is not null and v_drmTemplateJson is not null) then
			    PROC_INSERT_API_QUEUE('SPM','48_HR_REVIEW_DOCUMENT_DRM', v_drmTemplateJson, siteProjectsId, 'REGULATORY_48HR_REVIEW', null, docRoutingWorkflowId, 'QUEUED', modifiedBy);
			end if;
		END IF;
	    ELSE
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_48HR_REVIEW_INSERT',actionPerformed,'N/A','',modifiedBy);
	    END IF;

	    PROC_CONSTRUCTION_FORM_DRM(siteProjectsId,currentWorkStep,'COMPLETED',modifiedBy);

	END IF;
	 END IF;


     IF(currentWorkStep in ('RF_48HR_REVIEW', 'REGULATORY_48HR_REVIEW')) THEN
		PROC_CONSTRUCTION_FORM_DRM(siteProjectsId,currentWorkStep,'COMPLETED',modifiedBy);
     END IF;

    IF(currentWorkStep = 'BUILD_CONSTRUCTION_COMPLETE') THEN
	    IF(v_constCompltAcDt = '09/09/1900') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	    END IF;
    END IF;

     --NTSCE-2843 end

    /*IF(currentWorkStep = 'RFE_MITIGATION_DOCS')THEN

	IF((v_projType = 'Modification' AND v_projModType IN ('RF','CONSTRUCTION_ONLY','RF_REGUL_MOD')) OR v_projType = 'Initial Build') THEN
		IF(v_constStrtAcDt IS NOT NULL AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ACTIVATION') IN ('INACTIVE','N/A')
		AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RFE_MITIGATION_DOCS') = 'COMPLETED')THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,0,0,'ACTIVATION_INSERT','SAVE','ACTIVE','',modifiedBy);
		END IF;
	END IF;

    END IF;*/

    -- on CONQUEST Completion, if PCC is N/A and NETWORK_ASSURANCE Is ACTIVE, Notify IOP
    IF(((currentWorkStep = 'CREATE_CQ' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_CQ') = 'COMPLETED')
      AND (currentWorkStep = 'EQUIPMENT_COMPLETE' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'EQUIPMENT_COMPLETE') = 'COMPLETED')
      AND (currentWorkStep = 'IP_COMPLETE' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'IP_COMPLETE') = 'COMPLETED')
      AND (currentWorkStep = 'READY_FOR_ASSURANCE' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'READY_FOR_ASSURANCE') = 'COMPLETED')
      AND (currentWorkStep = 'RF_COMPLETE' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RF_COMPLETE') = 'COMPLETED'))
      OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST') = 'COMPLETED'
      OR currentWorkStep = 'CREATE_CQ,EQUIPMENT_COMPLETE,RF_COMPLETE,IP_COMPLETE,READY_FOR_ASSURANCE')THEN

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PHYSICAL_CONSTRUCTION_COMPLETE') = 'N/A' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'NETWORK_ASSURANCE') = 'ACTIVE')THEN
	PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'NETWORK_ASSURANCE',NULL,siteInfoId,'QUEUED',modifiedBy);
	END IF;

    END IF;

	-- Making the below tasks Active if the project is VRAN or else setting the status to N/A
	IF((currentWorkStep = 'CREATE_CQ' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_CQ') = 'COMPLETED'))	THEN
	IF(vran_2_0_criteria = 'FALSE')THEN
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 IF( v_transportOnly = 'TRUE') THEN
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'RF_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'EQUIPMENT_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 END IF;
     ELSIF(vran_2_0_criteria = 'TRUE')THEN
	 BEGIN
	    SELECT LISTAGG(DISTINCT UPPER(VRAN_ORCHESTRATION_PATH),',') WITHIN GROUP (ORDER BY GNB_VDU_ID) INTO v_orchPath
	    FROM VDU_ORCHESTRATION WHERE SITE_PROJECTS_ID = siteProjectsId;
	 EXCEPTION WHEN OTHERS THEN
	    v_orchPath := null;
	 END;

	 IF(v_orchPath LIKE '%FULL_ORCHESTRATION%')THEN
	    BEGIN
		    SELECT MIN(NVL(VDU.SERVER_READY_AC_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) AS SERVER_DATE ,
		    MIN(TO_DATE(NVL(VDU.VCP_FE_INSTALLATION_AC_DT,'01/01/1800'),'MM/DD/RRRR')) AS INSTALL_DATE
		    INTO v_minServerDate,v_installDate
		    FROM VDU_ORCHESTRATION VDU
	       WHERE VDU.VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION' AND VDU.SITE_PROJECTS_ID = siteProjectsId;
		EXCEPTION WHEN OTHERS THEN
		    v_minServerDate := TO_DATE('01/01/1800','MM/DD/RRRR');
	   END;

		IF(v_minServerDate = TO_DATE('01/01/1800','MM/DD/RRRR') OR v_installDate = TO_DATE('01/01/1800','MM/DD/RRRR'))THEN
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

			IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_ORCHESTRATION') != 'INACTIVE') THEN
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	       PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
    END IF;
		ELSIF (v_minServerDate != TO_DATE('01/01/1800','MM/DD/RRRR'))THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'COMPLETED','',modifiedBy);

		    BEGIN
		       SELECT MIN(NVL(VDU.DEPLOYMENT_INIT_DT,TO_DATE('01/01/1800','MM/DD/RRRR')))
		       INTO v_vduDeployDate
		       FROM VDU_ORCHESTRATION VDU
		       WHERE VDU.VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION' AND VDU.SITE_PROJECTS_ID = siteProjectsId;
		    EXCEPTION WHEN OTHERS THEN
		v_vduDeployDate := TO_DATE('01/01/1800','MM/DD/RRRR');
		    END;

		    IF(v_vduDeployDate = TO_DATE('01/01/1800','MM/DD/RRRR'))THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    ELSIF(v_vduDeployDate != TO_DATE('01/01/1800','MM/DD/RRRR'))THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
		--PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
		    END IF;

		    PROC_CONQUEST_SYNC(siteProjectsId,modifiedBy);
    END IF;
	    ELSIF((v_orchPath LIKE '%EXISTING_BLADE%' OR v_orchPath LIKE '%NO_CHANGE%' OR v_orchPath LIKE '%TDD_CHANGE%') AND v_orchPath NOT LIKE '%FULL_ORCHESTRATION%') THEN
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 ELSIF (v_orchPath = 'NON_VRAN') THEN
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);

	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	 END IF;
	 IF((v_orchPath NOT LIKE '%EXISTING_BLADE%' AND v_orchPath NOT LIKE '%TDD_CHANGE%') OR v_orchPath LIKE '%FULL_ORCHESTRATION%') THEN
	 	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'IP_COMPLETE') != 'COMPLETED') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'IP_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'TRANSPORT_COMPLETE') != 'COMPLETED') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TRANSPORT_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
     ELSIF((v_orchPath LIKE '%EXISTING_BLADE%' OR v_orchPath LIKE '%TDD_CHANGE%') AND v_orchPath NOT LIKE '%FULL_ORCHESTRATION%') THEN
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'IP_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TRANSPORT_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
     END IF;
	END IF;
       END IF;

	 IF(currentWorkStep = 'CREATE_CQ' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_CQ') = 'ACTIVE')THEN
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
    END IF;



    -- On Conquest task completion, send out an email
    IF(currentWorkStep = 'CREATE_CQ' OR currentWorkStep = 'EQUIPMENT_COMPLETE' OR currentWorkStep = 'IP_COMPLETE' OR currentWorkStep = 'READY_FOR_ASSURANCE' OR currentWorkStep = 'RF_COMPLETE')THEN
	PROC_INSERT_EMAIL_QUEUE('TEXT',null,siteProjectsId,'PROJECTS',currentWorkStep,0,modifiedBy,NULL);
    END IF;

    IF((currentWorkStep = 'RF_COMPLETE' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RF_COMPLETE') = 'COMPLETED') OR
		(currentWorkStep = 'CQ_VCP_FAR_EDGE_CIQ_COMPLETE' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE') = 'COMPLETED')) THEN
	UPDATE PROJ_ADDITIONAL_INFO SET CQ_CHANGE_CONTROL = 'Active' WHERE SITE_PROJECTS_ID = siteProjectsId;
	BEGIN
	SELECT CQ_CHANGE_CONTROL,RFDS_CHANGE_CONTROL INTO cq_change_Control,rfds_change_control
	FROM PROJ_ADDITIONAL_INFO
	WHERE SITE_PROJECTS_ID=siteProjectsId;

	EXCEPTION WHEN NO_DATA_FOUND THEN
	    cq_change_Control := NULL;
	rfds_change_control := NULL;
	END;
	IF ((cq_change_Control IS NOT NULL AND cq_change_Control IN ('Active')) AND (rfds_change_control is not null AND rfds_change_control IN ('Active'))) THEN

	    PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'RFDS',NULL,siteInfoId,'QUEUED',modifiedBy);

	END IF;
    END IF;

    -- On CONFIRM_E911_SUBMITTED if e911 required, autocomplete CONFIRM_TVW_RECEIVED
    IF(currentWorkStep = 'CONFIRM_E911_SUBMITTED') THEN
	BEGIN
	    SELECT COUNT(*) INTO v_e911NotReqd
	    FROM SPM_PROJECT_TRACKER
	    WHERE FUZE_PROJECT_ID = siteProjectsId
	    AND E911_REQUIRED = 'No';

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_e911NotReqd := NULL;
	END;

       IF(v_e911NotReqd = 1 AND v_projType = 'Initial Build') THEN
       PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_REQUIRED',actionPerformed,'COMPLETED',modifiedBy,'NA');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_SUBMITTED',actionPerformed,'COMPLETED',modifiedBy,'NA');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_TVW_RECEIVED',actionPerformed,'COMPLETED',modifiedBy,'NA');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'COMPLETED',modifiedBy,'NA');
       END IF;

       IF(v_e911NotReqd = 1 AND v_projType = 'Modification') THEN
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_ADDRESS',actionPerformed,'N/A',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_REQUIRED',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_SUBMITTED',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_TVW_RECEIVED',actionPerformed,'N/A',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'N/A',modifiedBy,'');
       END IF;
    END IF;

	IF(currentWorkStep = 'CONFIRM_E911_REQUIRED') THEN
	    BEGIN
		    SELECT COUNT(*) INTO v_e911Reqd
		    FROM SPM_PROJECT_TRACKER
		    WHERE FUZE_PROJECT_ID = siteProjectsId
		    AND E911_REQUIRED = 'Yes';

		    EXCEPTION WHEN NO_DATA_FOUND THEN
		    v_e911Reqd := NULL;
		END;

	    IF(v_e911Reqd = 1) THEN
		PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_SUBMITTED',actionPerformed,'ACTIVE',modifiedBy,'');
		PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_TVW_RECEIVED',actionPerformed,'INACTIVE',modifiedBy,'');
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'INACTIVE',modifiedBy,'');
		SELECT E911_TEST_COMPLT_AC_DT INTO e911TestingADate FROM PROJ_ST_FIELDS_DATA WHERE SITE_PROJECTS_ID = siteProjectsId;
		IF(e911TestingADate = '01/01/1900') THEN
		    UPDATE PROJ_ST_FIELDS_DATA SET E911_TEST_COMPLT_AC_DT ='',
		    E911_TEST_COMPLT_FC_DT = '',LAST_MODIFIED_DATE = SYSDATE,LAST_MODIFIED_BY = modifiedBy WHERE SITE_PROJECTS_ID = siteProjectsId;
	    END IF;
	    ELSE
		PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_SUBMITTED',actionPerformed,'N/A',modifiedBy,'');
		    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_TVW_RECEIVED',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'N/A',modifiedBy,'');
		UPDATE PROJ_ST_FIELDS_DATA SET E911_TEST_COMPLT_AC_DT ='01/01/1900',
				 E911_TEST_COMPLT_FC_DT = '01/01/1900',LAST_MODIFIED_DATE = SYSDATE,LAST_MODIFIED_BY = modifiedBy	WHERE SITE_PROJECTS_ID = siteProjectsId;
	    END IF;
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	    END IF;

		 IF(currentWorkStep = 'CONFIRM_TVW_RECEIVED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONFIRM_TVW_RECEIVED') in('ACTIVE', 'COMPLETED')) THEN
	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'ACTIVE',modifiedBy,'');
	END IF;

/*
-- If E911 is Completed or N/A for Reg Inservice Enable ACTIVATION
    IF(((currentWorkStep = 'CONFIRM_E911_ADDRESS' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONFIRM_E911_ADDRESS') IN ('COMPLETED','N/A')) AND
    (currentWorkStep = 'CONFIRM_E911_SUBMITTED' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONFIRM_E911_SUBMITTED') IN ('COMPLETED','N/A')) AND
    (currentWorkStep = 'CONFIRM_TVW_RECEIVED' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONFIRM_TVW_RECEIVED') IN ('COMPLETED','N/A')))
    OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'E911') IN ('COMPLETED','N/A')) THEN
	IF(v_projType = 'Modification' AND v_projModType = 'RF_REGUL_MOD' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ACTIVATION') = 'INACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ACTIVATION_INSERT','SAVE','ACTIVE','',modifiedBy);
	END IF;
    END IF;
*/

    -- to be converted
    BEGIN
	SELECT FUNC_VALIDATE_PLANNING_PROJECT(siteProjectsId) INTO v_isValidPlanningProject FROM DUAL;

	EXCEPTION WHEN NO_DATA_FOUND THEN
	v_isValidPlanningProject := NULL;
    END;
	--OSHA
	IF(v_projModType = 'OSHA_ROOFTOP' AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_SAFETY_INFORMATION_COMPLETED') = 'COMPLETED' AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED') = 'COMPLETED' AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'OSHA_ROOFTOP_ASSESSMENT') = 'INACTIVE' AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PHYSICAL_CONSTRUCTION_COMPLETE') ='COMPLETED') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_SAFETY_INFORMATION_COMPLETED_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'OSHA_ROOFTOP_ASSESSMENT_INSERT','COMPLETE','ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_ROOFTOP_AUDIT_COMPLETED_INSERT','COMPLETE','ACTIVE','',modifiedBy);

	END IF;
--OSHA
--OSHA
/*
	IF(v_projModType = 'OSHA_ROOFTOP' AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PHYSICAL_CONSTRUCTION_COMPLETE') IN ('ACTIVE','N/A','COMPLETED') )
	 THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'RFE_MITIGATION_DOCS_INSERT',actionPerformed,'N/A','',modifiedBy);

	END IF;
	*/
--OSHA
--Mid-Review
	IF(v_projType = 'Initial Build' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CANDIDATE_SELECTION') IN ('COMPLETED') AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') IN ('N/A') )
	 THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_DQI_VALIDATION_QUEUE_WRAPPER(siteProjectsId,'INITIATIVE_VERIFICATION', 'BULK',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
    IF(v_projType = 'Modification'  AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PROJECT_STARTED') = 'COMPLETED' AND
	  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') IN ('N/A') )
	 THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INITIATIVE_VERIFICATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_DQI_VALIDATION_QUEUE_WRAPPER(siteProjectsId,'INITIATIVE_VERIFICATION', 'BULK',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REAL_ESTATE_CONFIDENCE_SIGN_OFF_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
--Mid-Review

    IF((currentWorkStep = 'CREATE_PROJECT' OR  currentWorkStep = 'PSLC_FUNDING' OR currentWorkStep = 'RF_ACCEPT_RANKING'
    OR currentWorkStep = 'SUBMIT_RFDS') AND v_isValidPlanningProject = 1) THEN

	PROC_INSERT_API_QUEUE('FUZE_PLANNING','MILESTONE_UPDATE',NULL,siteProjectsId,currentWorkStep,NULL,siteInfoId,'QUEUED',modifiedBy);

    END IF;

    IF(currentWorkStep = 'SUBMIT_RFDS') THEN
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CREATE_RFDS_INSERT',actionPerformed,'COMPLETED','',modifiedBy);

    IF(v_proposedSiteType = 'IN-BUILDING-VBG') THEN
		BEGIN
		    SELECT OBJECTIVE_CATEGORY INTO v_siteObjective FROM PROJ_SARF PS
		    WHERE PS.SITE_PROJECTS_ID = siteProjectsId;
		EXCEPTION WHEN NO_DATA_FOUND THEN
		    v_siteObjective := NULL;
		END;

	IF(v_siteObjective = 'Vz-Join NHN') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	    -- PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AWAT_MATERIAL_ALLOCATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_CREATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	ELSE
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    -- PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AWAT_MATERIAL_ALLOCATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;

    END IF;

    IF(v_proposedSiteType = 'MULTI-CUSTOMER-UNIT' AND v_projType = 'Initial Build') THEN

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'E911_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_ADDRESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_E911_SUBMITTED_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONFIRM_TVW_RECEIVED_INSERT',actionPerformed,'N/A','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);

	    /*
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CREATE_CQ_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_0_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_1_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'CQ_DAY_2_VALIDATION_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'RF_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'IP_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'READY_FOR_ASSURANCE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SP_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'TRANSPORT_COMPLETE_INSERT',actionPerformed,'N/A','NA',modifiedBy);


	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VCP_ORCHESTRATION',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'FAR_EDGE_INSTANTIATION',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'DC_DISCOVERY',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DEPLOY_READINESS',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DAY_0_COMPLETE',actionPerformed,'N/A','NA',modifiedBy);
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DAY_1_COMPLETE',actionPerformed,'N/A','NA',modifiedBy);*/

	END IF;



	IF(v_allPermitsRecvdAcDt IS NOT NULL AND v_allPermitsAprvdAcDt IS NOT NULL) THEN
	    IF(v_allPermitsRecvdAcDt = '01/01/1900' and v_allPermitsAprvdAcDt = '01/01/1900') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PERMITTING_INSERT','COMPLETE','N/A','',modifiedBy);
	    ELSE
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PERMITTING_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	    END IF;
	END IF;
	IF(v_projModType ='VBG-NHN-VZ-JOIN') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'PERMITTING_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'BOM_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
		-- PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AWAT_MATERIAL_ALLOCATION_INSERT',actionPerformed,'N/A','',modifiedBy);
    END IF;
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_INSERVICE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);

--	BEGIN
--	    SELECT COUNT(*) INTO v_equipInstallAcDt
--	    FROM PROJ_ST_FIELDS_DATA PQ
--	    WHERE PQ.SITE_PROJECTS_ID = siteProjectsId AND PQ.EQUIP_INSTALL_AC_DT IS NOT NULL;

--	    EXCEPTION WHEN NO_DATA_FOUND THEN
--	    v_equipInstallAcDt := NULL;
--	END;

--	IF(v_equipInstallAcDt > 0) THEN
--	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'EQUIPMENT_PROCUREMENT_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
--	END IF;

	--PROC_CAL_FAA_FREQ_FILING(siteProjectsId,modifiedBy,'SUBMIT_RFDS'); -- calling from PROC_RFDS_SUBMIT

	IF(v_projType = 'Initial Build')THEN
	    -- Adding it here and not in WORKSTEP_TRIGGER_NAME as these are one time Activations
	    IF( FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST') NOT IN ('COMPLETED','N/A','ACTIVE')) THEN
	     -- ACTIVATE Conquest milestone once SUBMIT_RFDS is completed
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CREATE_CQ_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    END IF;

	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY') = 'INACTIVE')THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		END IF;

		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SURVEY') = 'INACTIVE')THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'SURVEY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		END IF;

		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'INACTIVE')THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    END IF;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POWER_VETTING') = 'INACTIVE')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;

	END IF;

	IF(v_projType = 'Modification')THEN
	    IF(v_projModType = 'RF_HUB_HARDWARE') THEN
		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PERMITTING') <> 'N/A')THEN
		    PROC_COMPLETE_WORKSTEP(siteProjectsId, siteInfoId, 'PERMITTING', 'COMPLETE','N/A', modifiedBy, '');
		END IF;

		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POWER_VETTING') = 'INACTIVE')THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);					    	PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		END IF;

		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CLOSEOUT_DOCUMENTS') <> 'COMPLETED')THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CLOSEOUT_DOCUMENTS_UPLOAD_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHOTO_DOCUMENTS_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENV_CONST_CLOSEOUT_INFO_INSERT',actionPerformed,'N/A','NA',modifiedBy);
		END IF;
	    END IF;

	    IF(v_projModType != 'RF_REGUL_MOD') THEN
		-- ACTIVATE Conquest milestone once SUBMIT_RFDS is completed
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONQUEST_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CREATE_CQ_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    END IF; -- v_projModType != 'RF_REGUL_MOD'

	    IF(v_projModType = 'RF_REGUL_MOD') THEN

	    SELECT count(*) into v_cBandCallsignCnt
	    FROM RFDS_CALLSIGNS RC
	    INNER JOIN RFDS_PROJECT RP on RC.RFDS_PROJECT_ID = RP.RFDS_PROJECT_ID
	    WHERE RADIO_SERVICE_CODE = 'PM' AND ACTION in ('added')
	    and RP.SITE_PROJECTS_ID = siteProjectsId;

	    SELECT nvl(FAA_FREQUENCY_FILING_COMPLETED,'No') into v_freqFilingCompleted
	    FROM SITES_TRACKER_DATA
	    where SITE_INFO_ID = v_siteInfoId;

	    IF(v_cBandCallsignCnt > 0 and v_freqFilingCompleted = 'No')THEN
		    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') != 'N/A')THEN
				PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			END IF;
	     ELSE
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAA_ASR_TRANSFER_INSERT',actionPerformed,'N/A','',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FULL_CONSTRUCTION_APPROVAL_INSERT',actionPerformed,'N/A','',modifiedBy);
		END IF;
	    END IF; -- v_projModType = 'RF_REGUL_MOD'

	    PROC_REGULATORY_SYNC_MOD(siteProjectsId,siteInfoId,modifiedBy);


	    IF(v_projModType = 'SOFTWARE_ONLY_5G') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_ADDRESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT',actionPerformed,'N/A','',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_SUBMITTED_INSERT',actionPerformed,'N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_TVW_RECEIVED_INSERT',actionPerformed,'N/A','',modifiedBy);
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'E911_READINESS_INSERT',actionPerformed,'N/A','',modifiedBy);
	    END IF;


	    IF(v_projModType IN('DECOM','DISMANTLEMENT'))THEN -- NA confirm E911 for Decom (This is activated as a part of trggering WS)
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT',actionPerformed,'N/A','',modifiedBy);
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_SUBMITTED_INSERT',actionPerformed,'N/A','',modifiedBy);
			 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'STRUCTURE_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
	      PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'REGULATORY_INSERT',actionPerformed,'N/A','',modifiedBy);

	    END IF;

		IF(v_projModType in ('DISMANTLEMENT', 'RF','RF_REGUL_MOD', 'SOFTWARE_ONLY_5G','VDU_UPGRADE_OR_ADD')
	    AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POWER_VETTING') = 'INACTIVE')THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
		END IF;

	END IF;
    END IF; -- currentWorkStep = 'SUBMIT_RFDS'



    IF(currentWorkStep = 'RFE') THEN

	BEGIN
	    SELECT IS_MITIGATION_REQUIRED INTO v_mitigationRequired
	    FROM PROJ_RFE_DETAILS
	    WHERE SITE_PROJECTS_ID = siteProjectsId;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_mitigationRequired := NULL;
	END;
/*
	IF(v_mitigationRequired = 'No' OR v_mitigationRequired IS NULL OR v_projModType = 'STATION_REC_UPDATE') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'RFE_MITIGATION_DOCS_INSERT',actionPerformed,'N/A','',modifiedBy);
	END IF;
*/
    END IF; -- currentWorkStep = 'RFE'

    /*IF(v_projModType = 'SOFTWARE_ONLY_5G' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY_INSERVICE')='COMPLETED'
    AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ACTIVATION') NOT IN ('COMPLETED','ACTIVE') ) THEN

	 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ACTIVATION_INSERT','COMPLETE','ACTIVE','',modifiedBy);

    END IF;*/


       IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ENVIRONMENTAL_DUE_DILIGENCE') IN('COMPLETED','N/A'))
    THEN

    BEGIN
		SELECT NTC_REQD INTO ntcReqd
	    FROM PROJ_ENV_DUE_DELIGENCE_RESTR_SERVICES
	    WHERE SITE_PROJECTS_ID = siteProjectsId   AND ROWNUM <= 1	ORDER BY VERSION DESC;
	    EXCEPTION WHEN NO_DATA_FOUND THEN
		ntcReqd := NULL;
		END;

		BEGIN
	    SELECT PFD.PRELIMINARY_EDD_REVIEW_REQUIRED INTO eddReqd
	    FROM PROJ_ENV_FORM_DETAILS PFD
	    WHERE PFD.SITE_PROJECTS_ID = siteProjectsId
	    AND ROWNUM <= 1
	    ORDER BY PFD.VERSION DESC;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    eddReqd := NULL;
		END;

	IF(v_ProjType LIKE 'Initial Build') THEN

	if (v_IsmidTesting = 'false') then
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	end if;

    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ENVIRONMENTAL_REVIEW')='COMPLETED')  THEN
				IF(eddReqd = 'No') THEN
					PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',
					modifiedBy);
				ELSE
					IF(ntcReqd = 'Yes') THEN
					    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','ACTIVE','',
					    modifiedBy);
					ELSE
						PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',
						modifiedBy);
					END IF;
				END IF;
			END IF;
    ELSE
	    IF(v_projModType NOT IN ('NON_RF_REAL_ESTATE','ENV_ONLY')) THEN

	if (v_IsmidTesting = 'false') then
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	end if;

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ENVIRONMENTAL_REVIEW')='COMPLETED')  THEN
				IF(eddReqd = 'No') THEN
					PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',
					modifiedBy);
				ELSE
					IF(ntcReqd = 'Yes') THEN
					    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','ACTIVE','',
					    modifiedBy);
					ELSE
						PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',
						modifiedBy);
					END IF;
				END IF;
			END IF;
	END IF;
	END IF;
    END IF;

      IF(currentWorkStep = 'ENVIRONMENTAL_REVIEW' OR currentWorkStep = 'TERRITORY_REVIEW') THEN

	 BEGIN
	    SELECT PFD.VERSION,PFD.PRELIMINARY_EDD_REVIEW_REQUIRED,PFD.TERRITORY_REVIEW_REQUIRED,PFD.HQ_REVIEW_REQUIRED INTO maxVersion,eddReqd,terrReqd,hqReqd
	    FROM PROJ_ENV_FORM_DETAILS PFD
	    WHERE PFD.SITE_PROJECTS_ID = siteProjectsId
	    AND ROWNUM <= 1
	    ORDER BY PFD.VERSION DESC;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    eddReqd := NULL;
	    terrReqd := NULL;
	    hqReqd := NULL;
	 END;

	 BEGIN
	    SELECT PFD.EES_REQD,PFD.IS_DISPOSAL_REVIEW_REQUIRED,PFD.RECS_IDENTIFIED,PFD.BERS_IDENTIFIED,PFD.IS_HIGH_RISK_SITE,PFD.IS_TSDF_FOR_ABATEMENT_REQUIRED, PFD.NTC_REQD
	INTO eesReqd,tsdfReqd,recs,bers,highRisk,tsdfAbatementReq, ntcReqd
	    FROM PROJ_ENV_DUE_DELIGENCE_RESTR_SERVICES PFD
	    WHERE PFD.SITE_PROJECTS_ID = siteProjectsId
	    AND ROWNUM <= 1
	    ORDER BY PFD.VERSION DESC;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    eesReqd := NULL;
	    tsdfReqd := NULL;
	    recs := NULL;
	    bers := NULL;
	    highRisk  := NULL;
	    tsdfAbatementReq := NULL;
	ntcReqd := NULL;
	 END;

	 SELECT FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'ENVIRONMENTAL_REVIEW') into envStatus FROM DUAL;
	 SELECT FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'GLOBAL_EHS_REVIEW') into ehsStatus FROM DUAL;
	 SELECT FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'TERRITORY_REVIEW') into terrStatus FROM DUAL;
	 SELECT FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'TSDF_REVIEW') into tsdfStatus FROM DUAL;
     SELECT FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'TSDF_REVIEW') into tsdfStatus FROM DUAL;

	IF(actionPerformed = 'SAVE') THEN

	    IF(hqReqd = 'Yes') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'GLOBAL_EHS_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    END IF;

	    IF(terrReqd = 'Yes' AND currentWorkStep != 'TERRITORY_REVIEW') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TERRITORY_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    END IF;

	    IF(tsdfReqd = 'Yes' AND tsdfStatus != 'COMPLETED') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TSDF_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    END IF;

	ELSIF(actionPerformed = 'COMPLETE') THEN

	    IF(eddReqd = 'No')THEN

		IF(terrStatus != 'COMPLETED') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TERRITORY_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
		END IF;

		IF(ehsStatus = 'INACTIVE') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'GLOBAL_EHS_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
		END IF;

		IF(tsdfStatus != 'COMPLETED') THEN
		   PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TSDF_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
		END IF;

		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENV_CONST_CLOSEOUT_INFO_INSERT','COMPLETE','N/A','',modifiedBy);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONST_TSDF_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY') IN ('COMPLETED','N/A')) THEN
	IF(v_ProjType LIKE 'Initial Build') THEN
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);

	IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')) THEN

	if (v_IsmidTesting = 'false') then
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	end if;

	END IF;
	ELSE
	    IF(v_projModType NOT IN ('NON_RF_REAL_ESTATE','ENV_ONLY')) THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);
		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')) THEN

	if (v_IsmidTesting = 'false') then
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	end if;

	END IF;
	END IF;
	END IF;
	END IF;

	    ELSIF(eddReqd = 'Yes')THEN

				IF(currentWorkStep != 'TERRITORY_REVIEW') THEN
					IF((recs= 'No' and bers = 'No')
		    and ((terrReqd = 'No' or terrReqd is NULL)
		    and (highRisk = 'No' or highRisk is NULL)
		    and (eesReqd = 'No' or eesReqd is NULL))) THEN
						PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TERRITORY_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
			IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY')
			IN('N/A','COMPLETED')
			 ) THEN
			IF(v_ProjType LIKE 'Initial Build') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);

			IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')) THEN

				if (v_IsmidTesting = 'false') then
					PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
				end if;

			END IF;
			ELSE
			    IF(v_projModType NOT IN ('NON_RF_REAL_ESTATE','ENV_ONLY')) THEN
			    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);
				IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')) THEN

					if (v_IsmidTesting = 'false') then
						PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
					end if;

			    END IF;
			    END IF;
			END IF;
			END IF;
					ELSE
						PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TERRITORY_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
					END IF;
				END IF;

	       IF((hqReqd = 'No' OR hqReqd IS NULL) AND ehsStatus = 'INACTIVE') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'GLOBAL_EHS_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
	       ELSIF(hqReqd = 'Yes') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'GLOBAL_EHS_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	       END IF;

	       IF(eesReqd = 'Yes') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENV_CONST_CLOSEOUT_INFO_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	       ELSE
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENV_CONST_CLOSEOUT_INFO_INSERT','COMPLETE','N/A','',modifiedBy);
	       END IF;

	   IF( currentWorkStep = 'TERRITORY_REVIEW' ) and (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY') IN('N/A','COMPLETED')) THEN
	IF(v_ProjType LIKE 'Initial Build') THEN
	IF (ntcReqd = 'Yes') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	ELSE
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);
		END IF;
		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')) THEN

		if (v_IsmidTesting = 'false') then
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
		end if;

	END IF;
	ELSE
	    IF(v_projModType NOT IN ('NON_RF_REAL_ESTATE','ENV_ONLY')) THEN
	     IF (ntcReqd = 'Yes') THEN
			 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	     ELSE
			 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_NOTICE_TO_CONTRACTOR_INSERT','COMPLETE','N/A','',modifiedBy);
		     END IF;
			IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY_RTC') IN ('INACTIVE')) THEN

			if (v_IsmidTesting = 'false') then
				PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT','COMPLETE','ACTIVE','',modifiedBy);
			end if;

	     END IF;
	END IF;
	END IF;
       END IF;

	       IF((tsdfReqd = 'No' OR tsdfReqd IS NULL) AND tsdfStatus != 'COMPLETED') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TSDF_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
	       ELSIF(tsdfReqd = 'Yes' AND tsdfStatus != 'COMPLETED') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'TSDF_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	       END IF;

	       SELECT FUNC_GET_WORKSTEP_STATUS_TIGGER_ONLY(siteProjectsId,'TERRITORY_REVIEW') into terrStatus FROM DUAL;

	       IF(terrStatus = 'COMPLETED') THEN
		  IF(envStatus != 'COMPLETED') THEN
					 PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ENVIRONMENTAL_REVIEW_INSERT','COMPLETE','COMPLETED','',modifiedBy);
		  END IF;

		  SELECT FUNC_MERGE_PROJ_TASK_COMMENT(siteProjectsId,modifiedBy,'Version ' || maxVersion || ' - Approved - No Further Review','TERRITORY_REVIEW', 1)
		    INTO mergeProjTaskComment FROM DUAL;
	       END IF;

	    END IF; -- IF(eddReqd = 'No')THEN

	END IF;  --  IF(actionPerformed = 'SAVE') THEN

	IF(tsdfAbatementReq = 'Yes' AND (v_awardedAcDt IS NOT NULL OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY') = 'COMPLETED')) THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONST_TSDF_REVIEW_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	ELSE
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONST_TSDF_REVIEW_INSERT','COMPLETE','N/A','',modifiedBy);
	END IF;-- TSDF in PCC ending
    END IF; -- currentWorkStep = 'ENVIRONMENTAL_REVIEW' OR currentWorkStep = 'TERRITORY_REVIEW'

    IF(currentWorkStep = 'POST_TCN') THEN
		IF(v_isDismantlementPrj = 'true') THEN

			PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_DISMANTLEMENT_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
			SELECT FUNC_REGUL_GET_PROJ_TRACKER_TASK_ID(siteProjectsId,'CONSTRUCTION','CONSTRUCTION_DISMNT') AS TASK_ID INTO regdismntTaskId FROM dual;

			UPDATE REGUL_PROJ_TRACKER_TASKS REG_PTT
			SET REG_PTT.IS_ACTIVE = 1,
			REG_PTT.TASK_STATUS = 'ACTIVE',
			REG_PTT.LAST_MODIFIED_BY = modifiedBy
			WHERE REG_PTT.PROJ_TRACKER_TASKS_ID = regdismntTaskId;

			PROC_REGUL_PROJ_TRACKER_TASK_AUDIT(regdismntTaskId , 1 , 'PENDING' , modifiedBy);
		ELSE
					PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_DISMANTLEMENT_INSERT',actionPerformed,'N/A','',modifiedBy);

		END IF;
   END IF;	-- currentWorkStep = 'POST_TCN'

    IF(currentWorkStep='REGULATORY_DISMANTLEMENT')THEN
    UPDATE SITE_INFO
    SET STATUS='Dismantled'
    WHERE SITE_INFO_ID = siteInfoId;
    END IF;


    IF(currentWorkStep in ('TRANSPORT_CONTRACT','ONE_FIBER','TRANSPORT_DELIVERY') AND v_projType = 'Modification') THEN

	IF (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'TRANSPORT_CONTRACT') = 'COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'ONE_FIBER') = 'COMPLETED'
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'TRANSPORT_DELIVERY') = 'COMPLETED') THEN

	PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'TRANSPORT',NULL,siteInfoId,'QUEUED',modifiedBy);

	END IF;

    END IF; -- currentWorkStep in (TC,OF,TD)
     --OSHA
	IF(currentWorkStep = 'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED' AND v_projModType = 'OSHA_ROOFTOP' AND
		  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_SAFETY_INFORMATION_COMPLETED') = 'COMPLETED' AND
		   FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED') = 'COMPLETED' AND
		  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'OSHA_ROOFTOP_ASSESSMENT') IN ('ACTIVE','INACTIVE') ) THEN
	BEGIN
	    SELECT DISTINCT 'TRUE' INTO v_osha_rooftop_mod_required
	    FROM OSHA_MILESTONE
	    WHERE  OSHA_ROOFTOP_ASSESSMENT_UPLOADED IS NOT NULL AND OSHA_ROOFTOP_MODIFICATION_REQUIRED IS NOT NULL AND OSHA_ROOFTOP_MODIFICATION_REQUIRED IN ('No','Assessment Sent to Landlord') AND
	    SITE_PROJECTS_ID = siteProjectsId;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_osha_rooftop_mod_required := 'FALSE';

	 END;
	 IF(v_osha_rooftop_mod_required= 'TRUE' ) THEN
			  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'OSHA_ROOFTOP_ASSESSMENT_INSERT','COMPLETE','COMPLETED','',modifiedBy);
			  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_SAFETY_INFORMATION_COMPLETED_INSERT','COMPLETE','N/A','',modifiedBy);
			  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_ROOFTOP_AUDIT_COMPLETED_INSERT','COMPLETE','N/A','',modifiedBy);
			  UPDATE SITE_PROJECTS SET STATUS='Completed' WHERE SITE_PROJECTS_ID = siteProjectsId;
	 END IF;
	END IF;



IF(currentWorkStep in ('SUBMIT_RFDS') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') = 'COMPLETED') THEN
		PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'RFDS',NULL,0,'QUEUED',modifiedBy);
		SELECT FUNC_CHECK_IF_RFDS_IS_5G(siteProjectsId) AS TYPE_5G INTO v_band5G FROM dual;
		IF(v_band5G = 'false') 	THEN
	     SELECT  (
			SELECT COUNT(*) FROM (
	    								SELECT ANTENNA_MAKE, ANTENNA_MODEL, CENTERLINE, TIP_HEIGHT, SERVICE_TYPE
	    								FROM RFDS_SERVICE_INFO WHERE RFDS_PROJECT_ID = RP.RFDS_PROJECT_ID AND VERSION_TYPE = 'proposed'
	    							) P
	    							WHERE NOT EXISTS (
	    								SELECT DISTINCT ANTENNA_MODEL FROM RFDS_SERVICE_INFO WHERE RFDS_PROJECT_ID = RP.RFDS_PROJECT_ID AND VERSION_TYPE = 'current' AND ANTENNA_MODEL IN(P.ANTENNA_MODEL) AND SERVICE_TYPE = P.SERVICE_TYPE
	    							)
					AND SERVICE_TYPE IN('850 MHZ LTE','2100 MHZ','1900 MHZ LTE','UPPER 700 MHZ','1900 MHZ CDMA','850 MHZ','AWS3')
	    						) AS SERVICE_COUNT into v_rfdsServiceCount
	    			FROM RFDS_PROJECT RP WHERE RP.SITE_PROJECTS_ID = SITEPROJECTSID;
		    IF (v_rfdsServiceCount > 0) THEN
	    	    UPDATE SPM_PROJECT_TRACKER SET IS_E911_REQUIRED_EDITABLE = 'No', E911_REQUIRED = 'Yes' WHERE FUZE_PROJECT_ID = siteProjectsId;

	    	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONFIRM_E911_REQUIRED_INSERT','COMPLETE','COMPLETED','',modifiedBy);
	    	    PROC_UPDATE_PROJ_MILESTONE_STATUS(siteProjectsId, modifiedBy);
	    	    PROC_SYNC_PROJECT_TRACKER_WORKSTEP_STATUS(siteProjectsId,modifiedBy);

	    --		    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONFIRM_E911_SUBMITTED') = 'N/A') THEN
	    			PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_SUBMITTED',actionPerformed,'ACTIVE',modifiedBy,'NA');
	    			PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_TVW_RECEIVED',actionPerformed,'INACTIVE',modifiedBy,'NA');
		    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'INACTIVE',modifiedBy,'NA');
	    			PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'CONFIRM_E911_SUBMITTED',NULL,siteInfoId,'QUEUED',modifiedBy);
			ELSE

		    SELECT CASE WHEN UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET'))='YES' THEN 'YES'
		    WHEN UPPER(NVL(USER_TOGGLE_SELECTION,'NOT-SET'))='NOT-SET' AND NVL(PTT.TASK_STATUS,'INACTIVE') IN('INACTIVE','ACTIVE','COMPLETED') THEN 'YES'
		    ELSE 'NO' END AS TURN_ON INTO v_turnOn
		    FROM WORKSTEPS WS
		    INNER JOIN WORKFLOW WF ON WS.WF_ID = WF.WF_ID
		    INNER JOIN PROJ_TRACKER PT ON PT.TRACKER_TYPE=WF.WF_NAME AND WF.WF_NAME IN('NEW_BUILD_PROJECT','MOD_PROJECT') AND PT.SITE_PROJECTS_ID=siteProjectsId
		    LEFT JOIN PROJ_TRACKER_TASKS PTT ON PTT.PROJ_TRACKER_ID = PT.PROJ_TRACKER_ID AND PTT.WORKSTEP_ID = WS.WORKSTEP_ID
		    INNER JOIN SITE_PROJECTS SP ON SP.SITE_PROJECTS_ID =siteProjectsId
--		      INNER JOIN PROJ_ADDITIONAL_INFO PAI ON PAI.SITE_PROJECTS_ID = SP.SITE_PROJECTS_ID
		    LEFT JOIN PROJECT_TOGGLE_MAPPING PTM ON PTM.MILESTONE = WS.WORKSTEP_NAME AND PTM.SITE_PROJECTS_ID = siteProjectsId
		    WHERE WS.WORKSTEP_GROUP IN('MT','M') AND WS.MILESTONE NOT IN('CREATE_PROJECT','HUB_READY') and WS.WORKSTEP_NAME = 'E911';

		    dbms_output.put_line( 'v_turnOn: '	|| v_turnOn );
		   If(v_turnOn = 'YES') THEN
		    UPDATE SPM_PROJECT_TRACKER SET IS_E911_REQUIRED_EDITABLE = 'Yes', E911_REQUIRED = '' WHERE FUZE_PROJECT_ID = siteProjectsId;
		    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_REQUIRED',actionPerformed,'ACTIVE',modifiedBy,'NA');
		    ELSIF(v_turnOn = 'NO' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONFIRM_E911_REQUIRED') = 'ACTIVE') THEN
		    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_REQUIRED',actionPerformed,'N/A',modifiedBy,'');
		    END IF;
		    END IF;
	    --		     END IF;

	    ELSE
	    	PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_REQUIRED',actionPerformed,'N/A',modifiedBy,'');
			PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_E911_SUBMITTED',actionPerformed,'N/A',modifiedBy,'');
		    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'CONFIRM_TVW_RECEIVED',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'E911_READINESS',actionPerformed,'N/A',modifiedBy,'');
			PROC_INSERT_API_QUEUE('IOP','MILESTONE_MET',NULL,siteProjectsId,'CONFIRM_E911_SUBMITTED',NULL,siteInfoId,'QUEUED',modifiedBy);
		END IF;
	END IF;--RFDS/e911


	IF( currentWorkstep IN	('CQ_VCP_FAR_EDGE_CIQ_COMPLETE','SUBMIT_RFDS'))THEN
	IF(vran_2_0_criteria = 'TRUE' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE') ='COMPLETED'
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') ='COMPLETED')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_ORCHESTRATION') = 'N/A')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    END IF;
	ELSIF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE') IN('INACTIVE','ACTIVE')
	OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') IN ('INACTIVE','ACTIVE'))THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'FAR_EDGE_INSTANTIATION_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'DC_DISCOVERY_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT',actionPerformed,'INACTIVE','',modifiedBy);
	ELSIF(vran_2_0_criteria = 'FALSE')THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VCP_ORCHESTRATION',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'FAR_EDGE_INSTANTIATION',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'DC_DISCOVERY',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DEPLOY_READINESS',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DAY_0_COMPLETE',actionPerformed,'N/A',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,siteInfoId,'VDU_DAY_1_COMPLETE',actionPerformed,'N/A',modifiedBy,'');
	END IF;
    END IF;

       /* **** */
      IF(currentWorkStep IN ('VCP_FAR_EDGE_INSTALLATION','VCP_SUBCLOUD_DEPLOYMENT_INITIATED','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','SUBMIT_RFDS'))THEN

	BEGIN
	SELECT COUNT(*) INTO v_carrierCount
	FROM VDU_ORCHESTRATION
	WHERE SITE_PROJECTS_ID = siteProjectsId
	AND VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION';
	EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_carrierCount := 0;
	END;

    BEGIN
	SELECT SUBCLOUD_DT INTO v_subcloudInitDt FROM(
	SELECT DISTINCT VDU.SITE_PROJECTS_ID,MIN(NVL(VDU.SUBCLOUD_DPLY_INIT_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) AS SUBCLOUD_DT
	FROM VDU_ORCHESTRATION VDU
	WHERE VDU.SITE_PROJECTS_ID = siteProjectsId
	AND VDU.VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION'
	GROUP BY VDU.SITE_PROJECTS_ID);
    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_subcloudInitDt := TO_DATE('01/01/1800','MM/DD/RRRR');
    END;


	IF(currentWorkStep IN( 'VCP_FAR_EDGE_INSTALLATION','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','SUBMIT_RFDS'))THEN

	    IF(v_carrierCount > 0) THEN
	    BEGIN
	    SELECT COMPLETE_CHECK INTO v_completeCheck FROM (
	    SELECT VDU.SITE_PROJECTS_ID,
	    CASE WHEN
	    MIN(TO_DATE(NVL(VDU.VCP_FE_INSTALLATION_AC_DT,'01/01/1800'),'MM/DD/RRRR')) != TO_DATE('01/01/1800','MM/DD/RRRR') AND
	    MIN(NVL(VDU.SERVER_READY_AC_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) != TO_DATE('01/01/1800','MM/DD/RRRR')
	    THEN 'Y' ELSE 'N' END AS COMPLETE_CHECK
	    FROM VDU_ORCHESTRATION VDU
	    WHERE VDU.SITE_PROJECTS_ID = siteProjectsId AND VDU.VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION'
	    GROUP BY VDU.SITE_PROJECTS_ID);
	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_completeCheck := null;
	    END;

	IF(currentWorkStep IN ('VCP_FAR_EDGE_INSTALLATION','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','SUBMIT_RFDS') AND v_completeCheck = 'Y' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_FAR_EDGE_INSTALLATION')!='COMPLETED'
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE')='COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS')='COMPLETED')THEN
	    dbms_output.put_line( 'Completion VCPFE_INSTALL: '	|| v_completeCheck );
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT','COMPLETE','COMPLETED','',modifiedBy,null,null);
	    IF(v_subcloudInitDt != TO_DATE('01/01/1800','MM/DD/RRRR')) THEN
		dbms_output.put_line('COMPLETION SUBCLOUD');
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    END IF;
	    PROC_CONQUEST_SYNC(siteProjectsId,modifiedBy);
    ELSIF(currentWorkStep = 'VCP_FAR_EDGE_INSTALLATION' AND v_completeCheck = 'N' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_FAR_EDGE_INSTALLATION')!='ACTIVE'
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE')='COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS')='COMPLETED')THEN
	    dbms_output.put_line( 'Activation: Yes');
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_FAR_EDGE_INSTALLATION_INSERT','COMPLETE','ACTIVE','',modifiedBy,null,null);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT','COMPLETE','ACTIVE','',modifiedBy,null,null);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_ORCHESTRATION_INSERT','COMPLETE','ACTIVE','',modifiedBy,null,null);
	    PROC_CONQUEST_SYNC(siteProjectsId,modifiedBy);
    ELSIF(currentWorkStep IN ('VCP_FAR_EDGE_INSTALLATION') AND v_completeCheck = 'Y' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_FAR_EDGE_INSTALLATION')='COMPLETED') THEN
	PROC_UPDATE_MAJOR_MILESTONE_DATES(siteProjectsId,'VCP_FAR_EDGE_INSTALLATION',modifiedBy,null,null);
	    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED')!='COMPLETED' AND v_subcloudInitDt != TO_DATE('01/01/1800','MM/DD/RRRR'))THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    END IF;
	    PROC_CONQUEST_SYNC(siteProjectsId,modifiedBy);
    END IF;

    END IF;
	PROC_UPDATE_PROJ_MILESTONE_STATUS(siteProjectsId,modifiedBy,null,null);
	END IF;

    dbms_output.put_line( 'Completion: '  || v_subcloudInitDt || FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_FAR_EDGE_INSTALLATION'));

	PROC_SYNC_PROJECT_TRACKER_WORKSTEP_STATUS(siteProjectsId,modifiedBy);
    END IF;

    IF( vran_2_0_criteria = 'TRUE' AND currentWorkstep IN ('CREATE_CQ','EQUIPMENT_COMPLETE','TRANSPORT_COMPLETE','IP_COMPLETE','SP_COMPLETE','RF_COMPLETE','READY_FOR_ASSURANCE','VCP_SUBCLOUD_DEPLOYMENT_INITIATED','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','CQ_DAY_0_VALIDATION_COMPLETE','CQ_DAY_2_VALIDATION_COMPLETE','DC_DISCOVERY','VCP_FAR_EDGE_INSTALLATION'))THEN

	IF(((FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_CQ')='COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'EQUIPMENT_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'TRANSPORT_COMPLETE') IN ('COMPLETED' ,'N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'IP_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SP_COMPLETE') IN ('COMPLETED','N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RF_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'READY_FOR_ASSURANCE') IN ('COMPLETED','N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_DAY_0_VALIDATION_COMPLETE') IN ('COMPLETED')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_DAY_1_VALIDATION_COMPLETE') IN ('COMPLETED')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_DAY_2_VALIDATION_COMPLETE') IN ('COMPLETED'))
	OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST')='COMPLETED' ))THEN

       IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VDU_DEPLOY_READINESS') NOT IN ('COMPLETED') AND currentWorkstep NOT IN ('VCP_FAR_EDGE_INSTALLATION')) THEN

	     SELECT DISTINCT GNB_VDU_ID BULK COLLECT INTO deployMsg FROM (
	     SELECT VDU.SITE_PROJECTS_ID,VDU.GNB_VDU_ID
	     ,MIN(NVL(VDU.DC_STATUS_COMPL_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) AS MIN_DC_DT
	     ,MIN(NVL(VDU.DEPLOYMENT_INIT_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) AS MIN_DEPLY_DT
		 ,MIN(NVL(VDU.NAMESPACE_COMPL_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) AS MIN_NAMESPACE_DT
	     FROM VDU_ORCHESTRATION VDU
	     WHERE VDU.SITE_PROJECTS_ID = siteProjectsId AND VDU.VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION'
	     GROUP BY VDU.SITE_PROJECTS_ID,VDU.GNB_VDU_ID)
	     WHERE MIN_DC_DT != TO_DATE('01/01/1800','MM/DD/RRRR') AND MIN_NAMESPACE_DT != TO_DATE('01/01/1800','MM/DD/RRRR') AND MIN_DEPLY_DT = TO_DATE('01/01/1800','MM/DD/RRRR');

	    IF(deployMsg.count >0)THEN
		FOR i IN 1..deployMsg.count
		LOOP
	    PROC_INSERT_API_QUEUE('VMB', 'VDU_DEPLOY_READY', NULL, siteProjectsId, deployMsg(i).GNB_VDU_ID, NULL, 0, 'QUEUED', modifiedBy);
		--PROC_INSERT_VDU_DEPLOY_READY_MSG(siteProjectsId,deployMsg(i).VDU_CARRIER_TYPE);

		UPDATE VDU_ORCHESTRATION VDU
		    SET DEPLOYMENT_INIT_DT = SYSDATE,
		    LAST_MODIFIED_BY = modifiedBy,
		    LAST_MODIFIED_DATE = SYSDATE
		WHERE VDU.SITE_PROJECTS_ID = siteProjectsId AND VDU.GNB_VDU_ID = deployMsg(i).GNB_VDU_ID;

		END LOOP;

		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VDU_DEPLOY_READINESS') = 'INACTIVE' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VDU_DAY_0_COMPLETE') = 'INACTIVE'
		OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VDU_DAY_1_COMPLETE') = 'INACTIVE')THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DEPLOY_READINESS_INSERT','COMPLETE','ACTIVE',null,modifiedBy,null,null);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_0_COMPLETE_INSERT','COMPLETE','ACTIVE',null,modifiedBy,null,null);
		PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VDU_DAY_1_COMPLETE_INSERT','COMPLETE','ACTIVE',null,modifiedBy,null,null);
		END IF;
	    END IF;

		PROC_CONQUEST_SYNC(siteProjectsId,modifiedBy);
		dbms_output.put_line( 'PROC_CONQUEST_SYNC done');
		END IF;
		IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED') NOT IN ('COMPLETED') AND currentWorkstep NOT IN ('DC_DISCOVERY')) THEN
		v_messageQuery := 'SELECT DISTINCT GNB_VDU_ID FROM (
	    SELECT VDU.SITE_PROJECTS_ID,VDU.GNB_VDU_ID
	    ,MIN(NVL(VDU.SERVER_READY_AC_DT,TO_DATE(''01/01/1800'',''MM/DD/RRRR''))) AS MIN_SERVER_DT
	    ,MIN(NVL(VDU.SUBCLOUD_DPLY_INIT_DT,TO_DATE(''01/01/1800'',''MM/DD/RRRR''))) AS MIN_DEPLY_DT
	FROM VDU_ORCHESTRATION VDU
	    WHERE VDU.SITE_PROJECTS_ID = ' || siteProjectsId || '
	    AND VDU.VRAN_ORCHESTRATION_PATH = ''FULL_ORCHESTRATION''
	    GROUP BY VDU.SITE_PROJECTS_ID,VDU.GNB_VDU_ID)
	    WHERE MIN_SERVER_DT != TO_DATE(''01/01/1800'',''MM/DD/RRRR'') AND MIN_DEPLY_DT = TO_DATE(''01/01/1800'',''MM/DD/RRRR'')';

	    dbms_output.put_line( 'VCP Message: '  || v_messageQuery );

	    BEGIN
		EXECUTE IMMEDIATE v_messageQuery BULK COLLECT INTO vcpMessageBulk;
	    END;
	    IF(vcpMessageBulk.count > 0)THEN
		FOR i IN vcpMessageBulk.FIRST..vcpMessageBulk.LAST
		LOOP
	      PROC_INSERT_API_QUEUE('VMB', 'VCP_FE_CIQ', NULL, siteProjectsId, vcpMessageBulk(i).GNB_VDU_ID, NULL, 0, 'QUEUED', modifiedBy);
		    --PROC_INSERT_VCP_FE_CQ_TASK('VMB','VCP_FE_CIQ',NULL,siteProjectsId,NULL,NULL,0,'QUEUED',modifiedBy,vcpMessageBulk(i).vdu_carrier_type);

	    UPDATE VDU_ORCHESTRATION
	    SET SUBCLOUD_DPLY_INIT_DT = SYSDATE,
	    LAST_MODIFIED_BY = modifiedBy,
	    LAST_MODIFIED_DATE = SYSDATE
	    WHERE SITE_PROJECTS_ID = siteProjectsId AND GNB_VDU_ID = vcpMessageBulk(i).GNB_VDU_ID;


		END LOOP;
	    END IF;
		BEGIN
	SELECT SUBCLOUD_DT INTO v_subcloudInitDt FROM(
	SELECT DISTINCT VDU.SITE_PROJECTS_ID,MIN(NVL(VDU.SUBCLOUD_DPLY_INIT_DT,TO_DATE('01/01/1800','MM/DD/RRRR'))) AS SUBCLOUD_DT
	FROM VDU_ORCHESTRATION VDU
	WHERE VDU.SITE_PROJECTS_ID = siteProjectsId
	AND VDU.VRAN_ORCHESTRATION_PATH = 'FULL_ORCHESTRATION'
	GROUP BY VDU.SITE_PROJECTS_ID);
    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_subcloudInitDt := TO_DATE('01/01/1800','MM/DD/RRRR');
    END;

    IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED') != 'COMPLETED'
    AND v_subcloudInitDt != TO_DATE('01/01/1800','MM/DD/RRRR'))THEN
	dbms_output.put_line( 'INside: '  || TO_DATE('01/01/1800','MM/DD/RRRR'));
	PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'VCP_SUBCLOUD_DEPLOYMENT_INITIATED_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	END IF;
		END IF;
    END IF;
    END IF;
--OSHA

    IF(currentWorkstep IN ('SUBMIT_RFDS', 'IN_BUILDING_AND_VENUE', 'RFE', 'INTERNATIONAL_BORDER', 'QUIET_ZONE', 'CARRIER_AGREEMENTS', 'INSERVICE_DOCUMENTS')) THEN
    IF((FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_RFDS')='COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_RFDS') IN ('COMPLETED','N/A')
       AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'IN_BUILDING_AND_VENUE') IN ('COMPLETED' ,'N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RFE') IN ('COMPLETED' ,'N/A')
       AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INTERNATIONAL_BORDER') IN ('COMPLETED' ,'N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'QUIET_ZONE') IN ('COMPLETED' ,'N/A')
       AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CARRIER_AGREEMENTS') IN ('COMPLETED' ,'N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INSERVICE_DOCUMENTS') IN ('COMPLETED' ,'N/A'))
       OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RFDS')='COMPLETED') THEN
	    IF(v_rfds_change_control = 'Active') THEN
		UPDATE PROJ_ADDITIONAL_INFO SET RFDS_LOCKING_VERSION = (SELECT MAX(VERSION_NUMBER) FROM RFDS_SUBMISSION_VERSIONS WHERE SITE_PROJECTS_ID = siteProjectsId AND SUBMISSION_TYPE = 'RF') WHERE SITE_PROJECTS_ID = siteProjectsId;
	    END IF;
    END IF;
  END IF;


	 IF(currentWorkstep IN ('CREATE_CQ','EQUIPMENT_COMPLETE','TRANSPORT_COMPLETE','IP_COMPLETE','SP_COMPLETE','RF_COMPLETE','READY_FOR_ASSURANCE','CQ_VCP_FAR_EDGE_CIQ_COMPLETE','CQ_DAY_0_VALIDATION_COMPLETE','CQ_DAY_1_VALIDATION_COMPLETE','CQ_DAY_2_VALIDATION_COMPLETE'))THEN

    IF(((FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_CQ')='COMPLETED' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'EQUIPMENT_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'TRANSPORT_COMPLETE') IN ('COMPLETED' ,'N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'IP_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SP_COMPLETE') IN ('COMPLETED','N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RF_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'READY_FOR_ASSURANCE') IN ('COMPLETED','N/A') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_VCP_FAR_EDGE_CIQ_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_DAY_0_VALIDATION_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_DAY_1_VALIDATION_COMPLETE') IN ('COMPLETED','N/A')
	AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CQ_DAY_2_VALIDATION_COMPLETE') IN ('COMPLETED','N/A'))
	OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST')='COMPLETED' ))THEN

    IF(v_cq_change_control IN ('Active'))THEN
	UPDATE PROJ_ADDITIONAL_INFO SET CQ_CHANGE_CONTROL_VERSION_NUMBER = (SELECT MAX(VERSION_NUMBER) FROM CQCIQ_DATA_VERSIONS WHERE SITE_PROJECTS_ID = siteProjectsId) WHERE SITE_PROJECTS_ID = siteProjectsId;
    END IF;
   END IF;
  END IF;


	 IF(currentWorkStep = 'SELECT_VENDOR' AND v_projModType = 'OSHA_ROOFTOP' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SELECT_VENDOR') = 'COMPLETED') THEN
	    BEGIN
		SELECT count(*) INTO v_osha_row_count
		FROM OSHA_MILESTONE
		WHERE
		SITE_PROJECTS_ID = siteProjectsId;

		EXCEPTION WHEN NO_DATA_FOUND THEN
		v_osha_row_count := 0;

	    END;

			IF (v_osha_row_count=0) THEN
			INSERT INTO OSHA_MILESTONE(SITE_INFO_ID,SITE_PROJECTS_ID,ASSESSMENT_TYPE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
						VALUES(siteInfoId,siteProjectsId,'INITIAL',SYSDATE,modifiedBy);
			INSERT INTO OSHA_MILESTONE(SITE_INFO_ID,SITE_PROJECTS_ID,ASSESSMENT_TYPE,LAST_MODIFIED_DATE,LAST_MODIFIED_BY)
						VALUES(siteInfoId,siteProjectsId,'POST',SYSDATE,modifiedBy);
			 END IF;
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'OSHA_ROOFTOP_ASSESSMENT_INSERT','COMPLETE','ACTIVE','',modifiedBy);
				PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INITIAL_SAFETY_INFORMATION_COMPLETED_INSERT','COMPLETE','ACTIVE','',modifiedBy);
				PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED_INSERT','COMPLETE','ACTIVE','',modifiedBy);
		  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_SAFETY_INFORMATION_COMPLETED_INSERT','COMPLETE','INACTIVE','',modifiedBy);
		  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_ROOFTOP_AUDIT_COMPLETED_INSERT','COMPLETE','INACTIVE','',modifiedBy);

	  END IF;

	IF(currentWorkStep = 'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED' AND v_projModType = 'OSHA_ROOFTOP' AND
		  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_SAFETY_INFORMATION_COMPLETED') = 'COMPLETED' AND
		  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'OSHA_ROOFTOP_ASSESSMENT') = 'ACTIVE' AND
		  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED') = 'COMPLETED' AND
		  FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PHYSICAL_CONSTRUCTION_COMPLETE') NOT IN ('COMPLETED')) THEN
			  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'OSHA_ROOFTOP_ASSESSMENT_INSERT','COMPLETE','INACTIVE','',modifiedBy);
			  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_SAFETY_INFORMATION_COMPLETED_INSERT','COMPLETE','INACTIVE','',modifiedBy);
			  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_ROOFTOP_AUDIT_COMPLETED_INSERT','COMPLETE','INACTIVE','',modifiedBy);
			  PROC_INSERT_API_QUEUE('OPS_TRACKER','SEND_DOCS',NULL,siteProjectsId,'OSHA_ROOFTOP_ASSESSMENT',NULL,siteInfoId,'EXECUTING',modifiedBy);

		END IF;

	 IF(currentWorkStep = 'POST_SAFETY_INFORMATION_COMPLETED' AND v_projModType = 'OSHA_ROOFTOP' AND
       FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_SAFETY_INFORMATION_COMPLETED') = 'COMPLETED' AND
	   FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIAL_ROOFTOP_ASSESSMENT_COMPLETED') = 'COMPLETED' AND
	   FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POST_SAFETY_INFORMATION_COMPLETED') = 'COMPLETED' AND
	   FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POST_ROOFTOP_AUDIT_COMPLETED') = 'ACTIVE' AND
		   FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'OSHA_ROOFTOP_ASSESSMENT') = 'ACTIVE' ) THEN
	   BEGIN
	    SELECT OSHA_ROOFTOP_AUDIT_UPLOADED INTO v_rooftop_audit_uploaded
	    FROM OSHA_MILESTONE
	    WHERE ASSESSMENT_TYPE='POST' AND
	    SITE_PROJECTS_ID = siteProjectsId;

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_rooftop_audit_uploaded := NULL;

	  END;
	     IF ( v_rooftop_audit_uploaded IS NOT NULL) THEN
		  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POST_ROOFTOP_AUDIT_COMPLETED_INSERT','COMPLETE','COMPLETED','',modifiedBy);
		  PROC_INSERT_API_QUEUE('OPS_TRACKER','SEND_DOCS',NULL,siteProjectsId,'OSHA_ROOFTOP_AUDIT',NULL,siteInfoId,'EXECUTING',modifiedBy);
	     END IF;

	END IF;

--OSHA
    IF(currentWorkStep = 'AE') THEN
	BEGIN
	    SELECT	COUNT(*) AS VALUE into v_nepaActivation
		FROM PROJ_STRUCTURE PS
		WHERE PS.SITE_PROJECTS_ID = siteProjectsId
		AND PS.DISABLE_NEPA_ACTIVATION = 'Yes';

	    EXCEPTION WHEN NO_DATA_FOUND THEN
	    v_nepaActivation := NULL;
	END;

	BEGIN
		SELECT ANE_FINAL_CDS_APPR_AC_DT INTO v_aneFinalCdsApprACDT
		FROM SPM_PROJECT_TRACKER
		WHERE FUZE_PROJECT_ID = siteProjectsId
	    AND ANE_FINAL_CDS_APPR_AC_DT IS NOT NULL;

	     EXCEPTION WHEN NO_DATA_FOUND THEN
	     v_aneFinalCdsApprACDT := NULL;
	END;
	IF(v_aneFinalCdsApprACDT = '09/09/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'AE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	END IF;

	IF(v_projModType NOT IN ('STATION_REC_UPDATE','RF_REGUL_MOD') OR v_projModType IS NULL) THEN
	    IF(v_nepaActivation = 0 AND v_aneFinalCdsApprACDT NOT IN('09/09/1900')
			AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'COMPLETED')
			AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_FOR_NEPA') IN ('INACTIVE')) AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'GROUND_ONLY_APPROVAL') IN ('INACTIVE'))) THEN

			    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT','COMPLETE','ACTIVE','',modifiedBy);

			    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT','COMPLETE','ACTIVE','',modifiedBy);
			END IF;

		       IF(v_nepaActivation = 0 AND v_aneFinalCdsApprACDT NOT IN('09/09/1900')
			AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'COMPLETED')
			AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_FOR_NEPA')  NOT IN ('N/A','COMPLETED')) AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'GROUND_ONLY_APPROVAL') IN ('COMPLETED'))) THEN

	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    END IF;

	    IF(v_nepaActivation = 0 AND v_aneFinalCdsApprACDT NOT IN('09/09/1900')
			AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'COMPLETED')
			AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'GROUND_ONLY_APPROVAL') NOT IN ('N/A','COMPLETED')) AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_FOR_NEPA') IN ('COMPLETED'))) THEN

		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT','COMPLETE','ACTIVE','',modifiedBy);
	    END IF;
	END IF;

	IF(v_projModType ='STATION_REC_UPDATE') THEN

	   IF(v_nepaActivation = 0 AND	v_aneFinalCdsApprACDT NOT IN('09/09/1900')
	    AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'COMPLETED') AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'SUBMIT_FOR_NEPA') NOT IN ('N/A','COMPLETED'))) THEN
			    DBMS_OUTPUT.PUT_LINE('inside submit');

		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'SUBMIT_FOR_NEPA_INSERT','COMPLETE','COMPLETED','NA',modifiedBy);
	    END IF;

	    IF(v_nepaActivation = 0 AND v_aneFinalCdsApprACDT NOT IN('09/09/1900')
	    AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'STRUCTURE_FORM') = 'COMPLETED') AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'GROUND_ONLY_APPROVAL') NOT IN ('N/A','COMPLETED'))) THEN

		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'GROUND_ONLY_APPROVAL_INSERT','COMPLETE','COMPLETED','NA',modifiedBy);

	    END IF;
	END IF;
    END IF;

  -- START REJECT TASK and MILESTONE STATUS LOGIC
  IF(currentWorkStep = 'LEASING') THEN
      IF(v_leaseFullyExecAcDt = '09/09/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'LEASING_INSERT','COMPLETE','REJECTED','',modifiedBy);
      END IF;
  END IF;

   IF(currentWorkStep = 'ZONING') THEN
       IF(v_zoningApprdAcDt = '09/09/1900' OR v_zoningFldAcDt = '09/09/1900') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'ZONING_INSERT','COMPLETE','REJECTED','',modifiedBy);
       END IF;
    END IF;

    IF(currentWorkStep = 'REAL_ESTATE_COMPLETE') THEN
		IF(v_realEstateCompleteAcDt = '09/09/1900') THEN
			PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'REAL_ESTATE_COMPLETE',actionPerformed,'REJECTED',modifiedBy,'');
	    END IF;
	END IF;

    IF(currentWorkStep = 'PERMITTING') THEN
	IF(v_allPermitsRecvdAcDt = '09/09/1900' OR v_allPermitsAprvdAcDt = '09/09/1900' OR v_allPermitsPostRtcAppliedAcDt = '09/09/1900'
	    OR v_allPermitsPostRtcRecievedAcDt = '09/09/1900' OR v_allPermitsPostRtcApprovedAcDt = '09/09/1900') THEN
		    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PERMITTING_INSERT','COMPLETE','REJECTED','',modifiedBy);
	END IF;
    END IF;

    IF(currentWorkStep = 'INTEGRATION') THEN
       IF(v_911TestCompltAcDt = '09/09/1900' OR v_integrationAcDt = '09/09/1900') THEN
			PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'INTEGRATION_INSERT','COMPLETE','REJECTED','',modifiedBy);
       END IF;
    END IF;

    IF(currentWorkStep = 'NETWORK_ASSURANCE') THEN
    	IF(v_networkAssuranceAcceptsAcDt = '09/09/1900') THEN
		PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'NETWORK_ASSURANCE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	END IF;
    END IF;


    IF(currentWorkStep='CONSTRUCTION_READY') THEN
	 IF(v_utilityMakeReadyCompletedAcDt = '01/01/1900' AND v_externalNtpAcDt = '01/01/1900' AND v_implemantationReadyAcDt = '01/01/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'N/A','',modifiedBy);
	ELSIF((v_utilityMakeReadyCompletedAcDt = '09/09/1900' OR v_externalNtpAcDt = '09/09/1900' OR v_implemantationReadyAcDt = '09/09/1900') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY') = 'ACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	ELSIF(v_utilityMakeReadyCompletedAcDt = '09/09/1900' OR v_externalNtpAcDt = '09/09/1900' OR v_implemantationReadyAcDt = '09/09/1900') THEN
	     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	ELSIF(v_utilityMakeReadyCompletedAcDt NOT IN('09/09/1900') AND v_externalNtpAcDt NOT IN('09/09/1900') AND v_implemantationReadyAcDt NOT IN('09/09/1900')) THEN
	      PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_READY_RTC_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
    END IF;

   IF(currentWorkStep = 'CONSTRUCTION_FORM') THEN
	IF(v_constStrtAcDt = '01/01/1900' AND v_asBuildDataAprovedDate = '01/01/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_FORM_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	ELSIF((v_constStrtAcDt = '09/09/1900' OR v_asBuildDataAprovedDate = '09/09/1900') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_FORM') = 'ACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_FORM_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	ELSIF(v_constStrtAcDt = '09/09/1900' OR v_asBuildDataAprovedDate = '09/09/1900') THEN
	     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_FORM_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	ELSIF(v_constStrtAcDt NOT IN('09/09/1900') AND v_asBuildDataAprovedDate NOT IN('09/09/1900')) THEN
	      PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'CONSTRUCTION_FORM_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;

    END IF;

    IF(currentWorkStep = 'BUILD_CONSTRUCTION_COMPLETE') THEN
	IF(v_constCompltAcDt = '01/01/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE',actionPerformed,'N/A','',modifiedBy);
	ELSIF(v_constCompltAcDt = '09/09/1900' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'BUILD_CONSTRUCTION_COMPLETE') = 'ACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE',actionPerformed,'ACTIVE','',modifiedBy);
	ELSIF(v_constCompltAcDt = '09/09/1900') THEN
	     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	ELSIF(v_constCompltAcDt NOT IN('09/09/1900')) THEN
	      PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'BUILD_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'PHYSICAL_CONSTRUCTION_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;

    END IF;

    IF(currentWorkStep = 'POWER_VETTING')THEN
	IF(v_pwrUpgradeSelectedAcDt = '01/01/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'N/A','',modifiedBy);
	ELSIF(v_pwrUpgradeSelectedAcDt = '09/09/1900' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POWER_VETTING') = 'ACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	ELSIF(v_pwrUpgradeSelectedAcDt = '09/09/1900') THEN
	     PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	ELSIF(v_pwrUpgradeSelectedAcDt NOT IN('09/09/1900')) THEN
	      PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_VETTING_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
    END IF;

    IF(currentWorkStep = 'POWER_COMPLETE')THEN
	IF(v_electricCompltAcDt = '01/01/1900' AND v_batteryInstalledAcDt = '01/01/1900' AND v_hvacInstalledAcDt = '01/01/1900'
	    AND v_powerPlantInstalledAcDt = '01/01/1900' AND v_generatorCommissionAcDt = '01/01/1900' AND v_powerUtilityDeliveryReqAcDt = '01/01/1900'
	    AND v_powerUtilityElecInspcnReadyAcDt  = '01/01/1900') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_COMPLETE_INSERT',actionPerformed,'N/A','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'N/A','',modifiedBy);
	ELSIF((v_electricCompltAcDt = '09/09/1900' OR v_batteryInstalledAcDt = '09/09/1900' OR v_hvacInstalledAcDt = '09/09/1900'
	    OR v_powerPlantInstalledAcDt = '09/09/1900' OR v_generatorCommissionAcDt = '09/09/1900' OR v_powerUtilityDeliveryReqAcDt = '09/09/1900'
	    OR v_powerUtilityElecInspcnReadyAcDt  = '09/09/1900') AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POWER_COMPLETE') = 'ACTIVE') THEN
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_COMPLETE_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	ELSIF(v_electricCompltAcDt = '09/09/1900' OR v_batteryInstalledAcDt = '09/09/1900' OR v_hvacInstalledAcDt = '09/09/1900'
	    OR v_powerPlantInstalledAcDt = '09/09/1900' OR v_generatorCommissionAcDt = '09/09/1900' OR v_powerUtilityDeliveryReqAcDt = '09/09/1900'
	    OR v_powerUtilityElecInspcnReadyAcDt  = '09/09/1900') THEN
	     PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_COMPLETE_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'POWER_INSERT',actionPerformed,'REJECTED','',modifiedBy);
	ELSIF(v_electricCompltAcDt NOT IN('09/09/1900') AND v_batteryInstalledAcDt NOT IN('09/09/1900') AND v_hvacInstalledAcDt NOT IN('09/09/1900')
	    AND v_powerPlantInstalledAcDt NOT IN('09/09/1900') AND v_generatorCommissionAcDt NOT IN('09/09/1900')
	    AND v_powerUtilityElecInspcnReadyAcDt  NOT IN('09/09/1900')) THEN
	      PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_COMPLETE_INSERT',actionPerformed,'COMPLETED','',modifiedBy);
	    PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'POWER_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	END IF;
    END IF;

	IF(currentWorkStep='CONSTRUCTION_READY' AND v_projModType = 'DISMANTLEMENT' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_READY') = 'ACTIVE') THEN
       IF(v_utilityMakeReadyCompletedAcDt IS NOT NULL AND v_externalNtpAcDt IS NOT NULL AND v_implemantationReadyAcDt IS NOT NULL) THEN
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CONSTRUCTION_READY',actionPerformed,'COMPLETED',modifiedBy,'');
	    PROC_COMPLETE_WORKSTEP(siteProjectsId,v_siteInfoId,'CONSTRUCTION_READY_RTC',actionPerformed,'COMPLETED',modifiedBy,'');
       END IF;
    END IF;

	BEGIN
--MID Project Review
   IF((FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RELEASED_TO_BUILD') = 'COMPLETED') AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'FUNDING_VERIFICATION') = 'COMPLETED' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'FUNDING_VERIFICATION') = 'N/A')
	AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'PROJECT_STATUS_VERIFICATION') = 'COMPLETED')
		    AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIATIVE_VERIFICATION') = 'COMPLETED' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'INITIATIVE_VERIFICATION') = 'N/A')
			   AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REAL_ESTATE_CONFIDENCE_SIGN_OFF') = 'COMPLETED' OR FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REAL_ESTATE_CONFIDENCE_SIGN_OFF') = 'N/A')
			       AND (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'IMPLEMENTATION_ACCEPTED') NOT IN ('ACTIVE','COMPLETED'))) THEN
	  PROC_INSERT_PROJ_TASKS(siteProjectsId,siteInfoId,0,'IMPLEMENTATION_ACCEPTED_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
	    END IF;
   END;
	IF(currentWorkStep = 'CONSTRUCTION_FORM' OR currentWorkStep = 'CONSTRUCTION_48HR_REVIEW' OR currentWorkStep = 'RF_48HR_REVIEW'
	OR currentWorkStep = 'BUILD_CONSTRUCTION_COMPLETE' OR currentWorkStep = 'REGULATORY_48HR_REVIEW' OR currentWorkStep = 'POST_TCN') THEN
	  IF(FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_FORM') = 'COMPLETED'
		  AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'BUILD_CONSTRUCTION_COMPLETE') = 'COMPLETED'
		  AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONSTRUCTION_48HR_REVIEW') IN ('COMPLETED','N/A')
		  AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'RF_48HR_REVIEW') IN ('COMPLETED','N/A')
		  AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'REGULATORY_48HR_REVIEW') IN ('COMPLETED','N/A')
		  AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'POST_TCN') IN ('COMPLETED','N/A')) THEN
			IF(v_projType =  'Modification' AND v_isDismantlementPrj = 'false') THEN
				IF(isVzOwnwed = 'Yes' AND (v_projModType IN('DECOM','DISMANTLEMENT'))) THEN
					PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_DISMANTLEMENT_INSERT',actionPerformed,'ACTIVE','',modifiedBy);
				ELSE
					PROC_INSERT_PROJ_TASKS(siteProjectsId,v_siteInfoId,0,'REGULATORY_DISMANTLEMENT_INSERT',actionPerformed,'N/A','',modifiedBy);
				END IF;
			END IF;
	  END IF;
	END IF;
	IF(currentWorkStep = 'CREATE_CQ' AND FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CREATE_CQ') = 'COMPLETED')THEN
		IF(v_projType = 'Modification'
		AND v_projModType IN ('TRANSPORT_ONLY','HUB_HARDENING_NODE_CONVERSION'))THEN
			PROC_INSERT_PROJ_TASKS(siteprojectsid,siteInfoId,0,'EQUIPMENT_COMPLETE_INSERT','COMPLETE','ACTIVE','',modifiedby);
			PROC_INSERT_PROJ_TASKS(siteprojectsid,siteInfoId,0,'RF_COMPLETE_INSERT','COMPLETE','ACTIVE','',modifiedby);
			PROC_INSERT_PROJ_TASKS(siteprojectsid,siteInfoId,0,'IP_COMPLETE_INSERT','COMPLETE','ACTIVE','',modifiedby);
			PROC_INSERT_PROJ_TASKS(siteprojectsid,siteInfoId,0,'READY_FOR_ASSURANCE_INSERT','COMPLETE','ACTIVE','',modifiedby);
		END IF;
	END IF;

       --IF(currentWorkStep = 'CREATE_CQ' OR currentWorkStep = 'EQUIPMENT_COMPLETE' OR currentWorkStep = 'IP_COMPLETE' OR currentWorkStep = 'READY_FOR_ASSURANCE' OR currentWorkStep = 'RF_COMPLETE')THEN
	--   IF (FUNC_GET_WORKSTEP_STATUS(siteProjectsId,'CONQUEST') IN ('ACTIVE','COMPLETED'))THEN
	--	PROC_SYNC_CQ_PROJECT_STATUS(siteProjectsId, modifiedBy);
	--   END IF;
       --END IF;

	PROC_UPDATE_PROJ_MILESTONE_STATUS(siteProjectsId,modifiedBy,null,null);
    PROC_UPDATE_MAJOR_MILESTONE_DATES(siteProjectsId,currentWorkStep,modifiedBy,null,null);
   	PROC_SYNC_PROJECT_TRACKER_WORKSTEP_STATUS(siteProjectsId,modifiedBy);


END IF; -- siteProjectsId !=0

END;



--5
create or replace PROCEDURE "PROC_ST_FIELDS_LOGIC_PER_PROJECT" (i_site_projects_id number,i_last_modified_by varchar2,i_workstep varchar2 default null)
as
TYPE v_bulk_queue_process IS record (
PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID NUMBER(16,0) ,
SITE_PROJECTS_ID NUMBER,
STATUS VARCHAR2(64),
OBJECT_TYPE VARCHAR2(64),
OBJECT_TO_EXECUTE VARCHAR2(4000),
QUEUED_DATE TIMESTAMP,
PROCESSED_DATE TIMESTAMP,
LAST_MODIFIED_BY VARCHAR2(64),
PROCESSING_START_TIME TIMESTAMP
);
TYPE updateSet IS TABLE OF v_bulk_queue_process;
updates updateSet;
v_statusCheck varchar2(64);
v_count_check number;
v_procCheck number default 0;

begin

    SELECT * BULK COLLECT INTO updates from PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE
    WHERE STATUS='QUEUED' AND SITE_PROJECTS_ID = i_site_projects_id
    ORDER BY QUEUED_DATE;

    v_count_check := updates.count;
    dbms_output.put_line (v_count_check);

    if (v_count_check>0)
    then
	if (i_workstep is null)
	then
	    forall i in updates.first .. updates.LAST
		update PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE
		set STATUS='PROCESSING' ,PROCESSING_START_TIME=CURRENT_TIMESTAMP
		WHERE PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID=updates(i).PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID
		and STATUS='QUEUED';

	    COMMIT;

	    for j in updates.first .. updates.LAST
	    loop
		SELECT STATUS into v_statusCheck FROM PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE WHERE PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID=updates(j).PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID;

		IF(v_statusCheck='PROCESSING')
		then
		BEGIN
		    IF(updates(j).OBJECT_TYPE='PROCEDURE')
		    THEN
			v_procCheck := v_procCheck +1;
			commit;
			EXECUTE IMMEDIATE 'BEGIN
					    commit;
					'||updates(j).OBJECT_TO_EXECUTE||';
					END;';
			COMMIT;

			update PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE
			set STATUS='COMPLETED',PROCESSED_DATE=CURRENT_TIMESTAMP
			WHERE PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID=updates(j).PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID
			and STATUS='PROCESSING';
			commit;

		    ELSE
			commit;
			EXECUTE IMMEDIATE updates(j).OBJECT_TO_EXECUTE;
			commit;
			update PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE
			set STATUS='COMPLETED',PROCESSED_DATE=CURRENT_TIMESTAMP
			WHERE PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID=updates(j).PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID
			and STATUS='PROCESSING';
			commit;
		    END IF;-- updates(j).OBJECT_TYPE='PROCEDURE'

		EXCEPTION WHEN OTHERS THEN
	       -- V_ERROR := 'An error was encountered - '||SQLCODE||' -ERROR- '||SQLERRM;
		    update PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE
		    set STATUS='FAILED',PROCESSED_DATE=CURRENT_TIMESTAMP
		    WHERE PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID=updates(j).PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID
		    and STATUS='PROCESSING';
		    COMMIT;
		END;
		END IF; -- v_statusCheck='PROCESSING'
	    END LOOP;

		if (v_procCheck >0)
		THEN
		    commit;
		    PROC_UPDATE_PROJ_MILESTONE_STATUS(i_site_projects_id,i_last_modified_by);
		    COMMIT;
		END IF; -- updates(j).final_sync ='SYNC PTWS'
	ELSE

		forall i in updates.first .. updates.LAST
		update PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE
		set STATUS='COMPLETED' ,PROCESSING_START_TIME=CURRENT_TIMESTAMP,PROCESSED_DATE=CURRENT_TIMESTAMP
		WHERE PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID=updates(i).PROJ_ST_FIELDS_TRIGGER_LOGIC_QUEUE_ID
		and STATUS='QUEUED';

		COMMIT;
	END IF; -- i_workstep is null
    end if; -- v_count_check>0
END;


--6
create or replace PROCEDURE "PROC_UPDATE_PROJ_MILESTONE_STATUS" ( siteprojectsid NUMBER,
					       lastmodifiedby  VARCHAR2,
					       triggerdata IN VARCHAR2 DEFAULT NULL,
					       v_tablename IN VARCHAR2 DEFAULT NULL) AS v_projtype VARCHAR2(32 byte);v_siteInfoId										      VARCHAR2(32 byte);v_proposedSiteType										 VARCHAR2(32 byte);v_isDismantlement										    VARCHAR2(32 byte);v_candSubmitStatus									       VARCHAR2(32 byte);v_candAcceptStatus										  VARCHAR2(32 byte);v_rfAcceptRankingStatus									     VARCHAR2(32 byte);v_vendorStatus											VARCHAR2(32 byte);v_candSelection										   VARCHAR2(32 byte);v_powerCompleteStatus									      VARCHAR2(32 byte);v_pccStatus											 VARCHAR2(32 byte);v_transCompletedStatus									    VARCHAR2(32 byte);v_tvwStatus										       VARCHAR2(32 byte);v_conquestStatus										  VARCHAR2(32 byte);v_regulatoryInserviceStatus 								     VARCHAR2 (32 byte);v_networkAssuranceStatus									 VARCHAR2 (32 byte);v_isConquestReq										     VARCHAR2(8 byte);v_projModType										       VARCHAR2(32 byte);v_is5GIntegrated										  VARCHAR2(8 byte);v_cqRfCompleteStatus 									    VARCHAR2 (32 byte);v_cqEquipCompleteStatus										VARCHAR2 (32 byte);v_constructionReadyStatus									    VARCHAR2 (32 byte);v_preTcnStatus											VARCHAR2 (32 byte);v_constructionReadyRtcStatus 								    VARCHAR2 (32 byte);v_istogglable											VARCHAR2(8);BEGIN
    IF(siteprojectsid !=0) THEN
      BEGIN
	SELECT	   SP.TYPE,
		   PAI.proposed_site_type,
		   PAI.is_conquest_required,
		   PAI.proj_mod_type
	INTO	   v_projtype,
		   v_proposedsitetype,
		   v_isconquestreq,
		   v_projmodtype
	FROM	   site_projects SP
	inner join proj_additional_info PAI
	ON	   PAI.site_projects_id = SP.site_projects_id
	WHERE	   SP.site_projects_id = siteprojectsid;

      EXCEPTION
      WHEN no_data_found THEN
	v_projtype:=NULL;
	v_proposedsitetype:=NULL;
	v_projmodtype := NULL;
      END;
      BEGIN
	SELECT	   Max(SI.site_info_id)
	INTO	   v_siteinfoid
	FROM	   site_projects_map SPM
	inner join site_info SI
	ON	   SI.site_info_id = SPM.site_info_id
	WHERE	   SPM.site_projects_id = siteprojectsid
	AND	   SI.status IN('Primary',
				'Live',
				'SarfSite',
				'Pending Dismantlement',
				'Dismantled')
	GROUP BY   SPM.site_projects_id;

      EXCEPTION
      WHEN no_data_found THEN
	v_siteinfoid :=-1;
      END;
      SELECT
	     CASE
		    WHEN v_projtype = 'Modification'
		    AND    v_projmodtype = 'DISMANTLEMENT' THEN 'true'
		    ELSE 'false'
	     END
      INTO   v_isdismantlement
      FROM   dual;

      IF(v_isdismantlement = 'true') THEN
	FOR ax IN
		  (
		  SELECT DISTINCT T1.proj_tracker_id,
				  T1.workstep_id,
				  T2.milestone_status AS TASK_STATUS,
				  CASE
						  WHEN T2.milestone_status = 'COMPLETED' THEN T2.completed_date
						  ELSE NULL
				  END			      AS COMPLETED_DATE,
				  T1.current_milestone_status AS OLD_STATUS,
				  lastmodifiedby	      AS LAST_MODIFIED_BY,
				  SYSDATE		      AS LAST_MODIFIED_DATE,
				  T1.workstep_name
		  FROM		  (
					     SELECT	WS.milestone,
							PT.proj_tracker_id,
							PT.site_projects_id,
							WS.workstep_id,
							Nvl(PTT.task_status,'INACTIVE') AS CURRENT_MILESTONE_STATUS,
							WS.workstep_name
					     FROM	proj_tracker PT
					     inner join workflow W
					     ON 	PT.wf_id = W.wf_id
					     inner join worksteps WS
					     ON 	PT.tracker_type IN ('NEW_BUILD_PROJECT',
									    'MOD_PROJECT')
					     AND	WS.wf_id = W.wf_id
					     left join	proj_tracker_tasks PTT
					     ON 	PTT.proj_tracker_id = PT.proj_tracker_id
					     AND	WS.workstep_id = PTT.workstep_id
					     WHERE	PT.site_projects_id = siteprojectsid
					     AND	WS.workstep_name NOT IN ('CONSTRUCTION_READY_RTC')
					     AND	WS.workstep_group = 'M') T1,
				  (
					 SELECT milestone,
						CASE
						       WHEN (
								     task_status LIKE '%REJECTED%') THEN 'REJECTED'
						       WHEN (
								     task_status LIKE '%FORCE_COMPLETE%') THEN 'COMPLETED'
						       WHEN (
								     task_status LIKE '%ACTIVE%') THEN 'ACTIVE'
						       WHEN (
								     task_status LIKE '%NOT_APPLICABLE%'
							      OR     task_status LIKE '%UNAVAILABLE%') THEN 'INACTIVE'
						       WHEN na_status_cnt = task_cnt THEN 'N/A'
						       ELSE 'COMPLETED'
						END AS MILESTONE_STATUS,
						wf_id,
						proj_tracker_id,
						site_projects_id,
						completed_date
					 FROM	(
							 SELECT   milestone,
								  Listagg(task_status,',') within GROUP (ORDER BY NULL) AS TASK_STATUS,
								  SUM(
								  CASE
									   WHEN task_status = 'N/A' THEN 1
									   ELSE 0
								  END)			AS NA_STATUS_CNT,
								  Count(workstep_name)	AS WORKSTEP_CNT,
								  Count(task_status)	AS TASK_CNT,
								  Max(wf_id)		AS WF_ID,
								  Max(proj_tracker_id)	AS PROJ_TRACKER_ID,
								  Max(site_projects_id) AS SITE_PROJECTS_ID,
								  Max(completed_date)	AS COMPLETED_DATE
							 FROM	  (
									     SELECT	WS.milestone,
											WS.workstep_name,
											PTT.proj_tracker_id,
											PT.site_projects_id,
											PTT.completed_date,
											CASE
												   WHEN WS.workstep_name IN ('RF_ACCEPT_RANKING')
												   AND	      PTT.task_status = 'COMPLETED' THEN 'FORCE_COMPLETE'
													      --WHEN WS.WORKSTEP_NAME IN ('TERRITORY_REVIEW','GLOBAL_EHS_REVIEW','TSDF_REVIEW') AND PTT.TASK_STATUS = 'INACTIVE' THEN NULL
												   WHEN PTT.task_status = 'INACTIVE' THEN 'UNAVAILABLE'
												   WHEN PTT.task_status = 'COMPLETED'
												   AND	      PTT.user_review_status = 'NA' THEN 'N/A'
												   ELSE PTT.task_status
											END AS TASK_STATUS,
											W.wf_id
									     FROM	worksteps WS
									     inner join workflow W
									     ON 	WS.wf_id = W.wf_id
									     AND	WS.workstep_group = 'T'
									     inner join proj_tracker PT
									     ON 	PT.site_projects_id = siteprojectsid
									     AND	PT.wf_id = W.wf_id
									     inner join proj_tracker_tasks PTT
									     ON 	PTT.proj_tracker_id = PT.proj_tracker_id
									     AND	PTT.workstep_id = WS.workstep_id
									     WHERE
											CASE
												   WHEN WS.milestone!='CLOSEOUT_DOCUMENTS'
												   AND	      PTT.task_status<> 'INACTIVE' THEN 1
												   WHEN 1=1 THEN 1
											END =1
									     AND	WS.workstep_name NOT IN ('ENV_CONST_CLOSEOUT_INFO',
														 'POWER_UTILITIES_TERMINATION') ) temp
							 GROUP BY milestone)temp1) T2
		  WHERE 	  T1.milestone = T2.milestone
		  AND		  T1.proj_tracker_id = T2.proj_tracker_id
		  AND		  T1.site_projects_id = T2.site_projects_id
		  AND		  T1.current_milestone_status <> T2.milestone_status )
	LOOP
	  Proc_complete_workstep(siteprojectsid,v_siteinfoid,ax.workstep_name,'COMPLETE',ax.task_status,lastmodifiedby,'',v_tablename);
	  IF(ax.old_status != ax.task_status)THEN
	    IF(Func_validate_planning_project(siteprojectsid) = 1
	      AND
	      ax.workstep_name = 'EQUIPMENT')THEN
	      Proc_insert_api_queue('FUZE_PLANNING','MILESTONE_UPDATE',NULL,siteprojectsid,'EQUIPMENT',NULL,0,'QUEUED',lastmodifiedby);
	    END IF;
	  END IF;
	END LOOP;
      ELSE
	/*Select only the NON MAJOR MILESTONE for completion*/
	FOR i IN
		 (
		 SELECT DISTINCT T1.proj_tracker_id,
				 T1.workstep_id,
				 T1.milestone,
				 CASE
						 WHEN T1.status IS NULL THEN 'INACTIVE'
						 ELSE T1.status
				 END AS OLD_STATUS,
				 CASE
						 WHEN T2.milestone_status IS NULL THEN T1.status
						 ELSE T2.milestone_status
				 END AS NEW_STATUS,
				 -- CASE WHEN T3.IS_MAJOR IS NULL THEN 'N' ELSE T3.IS_MAJOR END AS IS_MAJOR,
				 CASE
						 WHEN Nvl(T1.status,' ') != Nvl(T2.milestone_status,' ') THEN 'Y'
						 ELSE 'N'
				 END AS IS_STATUS_CHANGE,
				 CASE
						 WHEN T2.milestone_status = 'COMPLETED' THEN T2.completed_date
				 END		AS COMPLETED_DATE,
				 lastmodifiedby AS LAST_MODIFIED_BY,
				 SYSDATE	AS LAST_MODIFIED_DATE
		 FROM		 (
						 SELECT 	 WS.milestone,
								 PTT.task_status,
								 PT.site_projects_id,
								 PT.proj_tracker_id,
								 WS.workstep_id,
								 PTT.task_status AS STATUS
						 FROM		 worksteps WS
						 inner join	 workflow W
						 ON		 WS.wf_id = W.wf_id
						 inner join	 proj_tracker PT
						 ON		 PT.wf_id = W.wf_id
						 left outer join proj_tracker_tasks PTT
						 ON		 PTT.proj_tracker_id = PT.proj_tracker_id
						 AND		 PTT.workstep_id = WS.workstep_id
						 WHERE		 WS.workstep_group IN( 'MT',
										      'M')
						 AND		 PT.site_projects_id = siteprojectsid
						 AND		 workstep_name NOT IN
										       (
										       SELECT DISTINCT CONFIG.workstep_name AS MILESTONE
										       FROM	       proj_major_milestone_mapping MM
										       inner join      fuze_tracker_field_config CONFIG
										       ON	       MM.major_milestone = CONFIG.field_name
										       WHERE	       is_mandatory IN ('C',
															'MC')
										       AND	       CONFIG.field_name LIKE 'MAJOR%'
										       AND	       edit_rule = 'CALCULATED_DATE' ) ) T1,
				 (
					SELECT milestone,
					       CASE
						      WHEN (
								    CASE
									   WHEN (
											 task_status LIKE '%REJECTED%') THEN 'REJECTED'
									   WHEN (
											 task_status LIKE '%FORCE_COMPLETE%') THEN 'COMPLETED'
									   WHEN (
											 task_status LIKE '%ACTIVE%') THEN 'ACTIVE'
									   WHEN (
											 task_status LIKE '%NOT_APPLICABLE%'
										  OR	 task_status LIKE '%UNAVAILABLE%') THEN 'INACTIVE'
									   WHEN na_status_cnt = task_cnt THEN 'N/A'
									   ELSE 'COMPLETED'
								    END)='N/A' THEN Func_check_if_togglable(site_projects_id,milestone)
						      ELSE (
							     CASE
								    WHEN (
										  task_status LIKE '%REJECTED%') THEN 'REJECTED'
								    WHEN (
										  task_status LIKE '%FORCE_COMPLETE%') THEN 'COMPLETED'
								    WHEN (
										  task_status LIKE '%ACTIVE%') THEN 'ACTIVE'
								    WHEN (
										  task_status LIKE '%NOT_APPLICABLE%'
									   OR	  task_status LIKE '%UNAVAILABLE%') THEN 'INACTIVE'
								    WHEN na_status_cnt = task_cnt THEN 'N/A'
								    ELSE 'COMPLETED'
							     END)
					       END AS MILESTONE_STATUS,
					       wf_id,
					       proj_tracker_id,
					       site_projects_id,
					       completed_date
					FROM   (
							SELECT	 milestone,
								 Listagg(task_status,',') within GROUP (ORDER BY NULL) AS TASK_STATUS,
								 SUM(
								 CASE
									  WHEN task_status = 'N/A' THEN 1
									  ELSE 0
								 END)		       AS NA_STATUS_CNT,
								 Count(workstep_name)  AS WORKSTEP_CNT,
								 Count(task_status)    AS TASK_CNT,
								 Max(wf_id)	       AS WF_ID,
								 Max(proj_tracker_id)  AS PROJ_TRACKER_ID,
								 Max(site_projects_id) AS SITE_PROJECTS_ID,
								 Max(completed_date)   AS COMPLETED_DATE
							FROM	 (
									    SELECT     WS.milestone,
										       WS.workstep_name,
										       PTT.proj_tracker_id,
										       PT.site_projects_id,
										       PTT.completed_date,
										       CASE
													     --WHEN WS.WORKSTEP_NAME IN ('TERRITORY_REVIEW') AND PTT.TASK_STATUS = 'COMPLETED' THEN 'FORCE_COMPLETE'
													     --WHEN WS.WORKSTEP_NAME IN ('TERRITORY_REVIEW','GLOBAL_EHS_REVIEW','TSDF_REVIEW') AND PTT.TASK_STATUS = 'INACTIVE' THEN NULL
												  WHEN PTT.task_status = 'INACTIVE' THEN 'UNAVAILABLE'
												  WHEN PTT.task_status = 'COMPLETED'
												  AND	     PTT.user_review_status = 'NA' THEN 'N/A'
												  ELSE PTT.task_status
										       END AS TASK_STATUS,
										       W.wf_id
									    FROM       worksteps WS
									    inner join workflow W
									    ON	       WS.wf_id = W.wf_id
									    AND        WS.workstep_group = 'T'
									    inner join proj_tracker PT
									    ON	       PT.site_projects_id = siteprojectsid
									    AND        PT.wf_id = W.wf_id
									    inner join proj_tracker_tasks PTT
									    ON	       PTT.proj_tracker_id = PT.proj_tracker_id
									    AND        PTT.workstep_id = WS.workstep_id
									    WHERE
										       CASE
												  WHEN WS.milestone!='CLOSEOUT_DOCUMENTS'
												  AND	     PTT.task_status<> 'INACTIVE' THEN 1
												  WHEN 1=1 THEN 1
										       END =1 ) temp
							GROUP BY milestone )temp1 ) T2
		 WHERE		 T1.milestone = T2.milestone
		 AND		 T1.proj_tracker_id = T2.proj_tracker_id
		 AND		 T1.site_projects_id = T2.site_projects_id)
	LOOP
	  -- This is to skip NA calculation for nontogglable status change.
	  v_istogglable :=
	  CASE
	  WHEN i.old_status='N/A'
	    AND
	    i.new_status='COMPLETED'
	    AND
	    Func_check_if_togglable(siteprojectsid,i.milestone)='COMPLETED' THEN
	    'No'
	  ELSE
	    NULL
	  END;
	  IF(i.is_status_change = 'Y') THEN
	    dbms_output.Put_line( 'i.MILESTONE --> '
	    || i.milestone
	    || ' STATUS --> '
	    || i.new_status);
	    Proc_complete_workstep(siteprojectsid,v_siteinfoid,i.milestone,'COMPLETE',i.new_status,lastmodifiedby,'',v_tablename,v_istogglable);
	    IF(v_istogglable IS NULL) THEN
	      Proc_update_major_milestone_dates(siteprojectsid,i.milestone,lastmodifiedby,triggerdata,v_tablename);
	    END IF;
	    IF(Func_validate_planning_project(siteprojectsid) = 1
	      AND
	      i.milestone = 'EQUIPMENT')THEN
	      Proc_insert_api_queue('FUZE_PLANNING','MILESTONE_UPDATE',NULL,siteprojectsid,'EQUIPMENT',NULL,0,'QUEUED',lastmodifiedby);
	    END IF;
	    --- NTSCC-14416
	    IF (i.new_status='COMPLETED'
	      AND
	      i.milestone = 'TRANSPORT_DELIVERY') THEN
	      Proc_insert_api_queue('CND','SEGMENT_UPDATE',NULL,siteprojectsid,'TRANSPORT_DELIVERY_COMPLETED',NULL,0,'QUEUED',lastmodifiedby);
	    END IF;
--        IF (i.new_status in ('COMPLETED','ACTIVE')
--	      AND
--	      i.milestone in ('EQUIPMENT_COMPLETE','READY_FOR_ASSURANCE')) THEN
--          dbms_output.Put_line( 'i.MILESTONE --> '
--	    || i.milestone
--	    || ' STATUS --> '
--	    || i.new_status);
--            PROC_SYNC_CQ_PROJECT_STATUS(siteProjectsId, lastmodifiedby);
--	    END IF;
	  END IF;
	END LOOP;
      END IF;
    END IF;
  END;
